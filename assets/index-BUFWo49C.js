(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();function c_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Wy={exports:{}},Lc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TS;function aM(){if(TS)return Lc;TS=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var f in s)f!=="key"&&(o[f]=s[f])}else o=s;return s=o.ref,{$$typeof:n,type:i,key:u,ref:s!==void 0?s:null,props:o}}return Lc.Fragment=t,Lc.jsx=e,Lc.jsxs=e,Lc}var ES;function oM(){return ES||(ES=1,Wy.exports=aM()),Wy.exports}var P=oM(),Zy={exports:{}},Vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wS;function lM(){if(wS)return Vt;wS=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function b(z){return z===null||typeof z!="object"?null:(z=v&&z[v]||z["@@iterator"],typeof z=="function"?z:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,N={};function D(z,st,dt){this.props=z,this.context=st,this.refs=N,this.updater=dt||w}D.prototype.isReactComponent={},D.prototype.setState=function(z,st){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,st,"setState")},D.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function V(){}V.prototype=D.prototype;function B(z,st,dt){this.props=z,this.context=st,this.refs=N,this.updater=dt||w}var j=B.prototype=new V;j.constructor=B,x(j,D.prototype),j.isPureReactComponent=!0;var Z=Array.isArray,G={H:null,A:null,T:null,S:null},J=Object.prototype.hasOwnProperty;function O(z,st,dt,ft,ht,It){return dt=It.ref,{$$typeof:n,type:z,key:st,ref:dt!==void 0?dt:null,props:It}}function S(z,st){return O(z.type,st,void 0,void 0,void 0,z.props)}function R(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function M(z){var st={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(dt){return st[dt]})}var U=/\/+/g;function H(z,st){return typeof z=="object"&&z!==null&&z.key!=null?M(""+z.key):st.toString(36)}function L(){}function Qt(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(L,L):(z.status="pending",z.then(function(st){z.status==="pending"&&(z.status="fulfilled",z.value=st)},function(st){z.status==="pending"&&(z.status="rejected",z.reason=st)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function oe(z,st,dt,ft,ht){var It=typeof z;(It==="undefined"||It==="boolean")&&(z=null);var St=!1;if(z===null)St=!0;else switch(It){case"bigint":case"string":case"number":St=!0;break;case"object":switch(z.$$typeof){case n:case t:St=!0;break;case g:return St=z._init,oe(St(z._payload),st,dt,ft,ht)}}if(St)return ht=ht(z),St=ft===""?"."+H(z,0):ft,Z(ht)?(dt="",St!=null&&(dt=St.replace(U,"$&/")+"/"),oe(ht,st,dt,"",function(Xt){return Xt})):ht!=null&&(R(ht)&&(ht=S(ht,dt+(ht.key==null||z&&z.key===ht.key?"":(""+ht.key).replace(U,"$&/")+"/")+St)),st.push(ht)),1;St=0;var me=ft===""?".":ft+":";if(Z(z))for(var Mt=0;Mt<z.length;Mt++)ft=z[Mt],It=me+H(ft,Mt),St+=oe(ft,st,dt,It,ht);else if(Mt=b(z),typeof Mt=="function")for(z=Mt.call(z),Mt=0;!(ft=z.next()).done;)ft=ft.value,It=me+H(ft,Mt++),St+=oe(ft,st,dt,It,ht);else if(It==="object"){if(typeof z.then=="function")return oe(Qt(z),st,dt,ft,ht);throw st=String(z),Error("Objects are not valid as a React child (found: "+(st==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":st)+"). If you meant to render a collection of children, use an array instead.")}return St}function ut(z,st,dt){if(z==null)return z;var ft=[],ht=0;return oe(z,ft,"","",function(It){return st.call(dt,It,ht++)}),ft}function ct(z){if(z._status===-1){var st=z._result;st=st(),st.then(function(dt){(z._status===0||z._status===-1)&&(z._status=1,z._result=dt)},function(dt){(z._status===0||z._status===-1)&&(z._status=2,z._result=dt)}),z._status===-1&&(z._status=0,z._result=st)}if(z._status===1)return z._result.default;throw z._result}var pt=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var st=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(st))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function Pt(){}return Vt.Children={map:ut,forEach:function(z,st,dt){ut(z,function(){st.apply(this,arguments)},dt)},count:function(z){var st=0;return ut(z,function(){st++}),st},toArray:function(z){return ut(z,function(st){return st})||[]},only:function(z){if(!R(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Vt.Component=D,Vt.Fragment=e,Vt.Profiler=s,Vt.PureComponent=B,Vt.StrictMode=i,Vt.Suspense=h,Vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,Vt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Vt.cache=function(z){return function(){return z.apply(null,arguments)}},Vt.cloneElement=function(z,st,dt){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ft=x({},z.props),ht=z.key,It=void 0;if(st!=null)for(St in st.ref!==void 0&&(It=void 0),st.key!==void 0&&(ht=""+st.key),st)!J.call(st,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&st.ref===void 0||(ft[St]=st[St]);var St=arguments.length-2;if(St===1)ft.children=dt;else if(1<St){for(var me=Array(St),Mt=0;Mt<St;Mt++)me[Mt]=arguments[Mt+2];ft.children=me}return O(z.type,ht,void 0,void 0,It,ft)},Vt.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},Vt.createElement=function(z,st,dt){var ft,ht={},It=null;if(st!=null)for(ft in st.key!==void 0&&(It=""+st.key),st)J.call(st,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(ht[ft]=st[ft]);var St=arguments.length-2;if(St===1)ht.children=dt;else if(1<St){for(var me=Array(St),Mt=0;Mt<St;Mt++)me[Mt]=arguments[Mt+2];ht.children=me}if(z&&z.defaultProps)for(ft in St=z.defaultProps,St)ht[ft]===void 0&&(ht[ft]=St[ft]);return O(z,It,void 0,void 0,null,ht)},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(z){return{$$typeof:f,render:z}},Vt.isValidElement=R,Vt.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:ct}},Vt.memo=function(z,st){return{$$typeof:m,type:z,compare:st===void 0?null:st}},Vt.startTransition=function(z){var st=G.T,dt={};G.T=dt;try{var ft=z(),ht=G.S;ht!==null&&ht(dt,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(Pt,pt)}catch(It){pt(It)}finally{G.T=st}},Vt.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},Vt.use=function(z){return G.H.use(z)},Vt.useActionState=function(z,st,dt){return G.H.useActionState(z,st,dt)},Vt.useCallback=function(z,st){return G.H.useCallback(z,st)},Vt.useContext=function(z){return G.H.useContext(z)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(z,st){return G.H.useDeferredValue(z,st)},Vt.useEffect=function(z,st){return G.H.useEffect(z,st)},Vt.useId=function(){return G.H.useId()},Vt.useImperativeHandle=function(z,st,dt){return G.H.useImperativeHandle(z,st,dt)},Vt.useInsertionEffect=function(z,st){return G.H.useInsertionEffect(z,st)},Vt.useLayoutEffect=function(z,st){return G.H.useLayoutEffect(z,st)},Vt.useMemo=function(z,st){return G.H.useMemo(z,st)},Vt.useOptimistic=function(z,st){return G.H.useOptimistic(z,st)},Vt.useReducer=function(z,st,dt){return G.H.useReducer(z,st,dt)},Vt.useRef=function(z){return G.H.useRef(z)},Vt.useState=function(z){return G.H.useState(z)},Vt.useSyncExternalStore=function(z,st,dt){return G.H.useSyncExternalStore(z,st,dt)},Vt.useTransition=function(){return G.H.useTransition()},Vt.version="19.0.0",Vt}var SS;function f_(){return SS||(SS=1,Zy.exports=lM()),Zy.exports}var C=f_();const he=c_(C);var Jy={exports:{}},jc={},tv={exports:{}},ev={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AS;function uM(){return AS||(AS=1,function(n){function t(ut,ct){var pt=ut.length;ut.push(ct);t:for(;0<pt;){var Pt=pt-1>>>1,z=ut[Pt];if(0<s(z,ct))ut[Pt]=ct,ut[pt]=z,pt=Pt;else break t}}function e(ut){return ut.length===0?null:ut[0]}function i(ut){if(ut.length===0)return null;var ct=ut[0],pt=ut.pop();if(pt!==ct){ut[0]=pt;t:for(var Pt=0,z=ut.length,st=z>>>1;Pt<st;){var dt=2*(Pt+1)-1,ft=ut[dt],ht=dt+1,It=ut[ht];if(0>s(ft,pt))ht<z&&0>s(It,ft)?(ut[Pt]=It,ut[ht]=pt,Pt=ht):(ut[Pt]=ft,ut[dt]=pt,Pt=dt);else if(ht<z&&0>s(It,pt))ut[Pt]=It,ut[ht]=pt,Pt=ht;else break t}}return ct}function s(ut,ct){var pt=ut.sortIndex-ct.sortIndex;return pt!==0?pt:ut.id-ct.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var h=[],m=[],g=1,v=null,b=3,w=!1,x=!1,N=!1,D=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function j(ut){for(var ct=e(m);ct!==null;){if(ct.callback===null)i(m);else if(ct.startTime<=ut)i(m),ct.sortIndex=ct.expirationTime,t(h,ct);else break;ct=e(m)}}function Z(ut){if(N=!1,j(ut),!x)if(e(h)!==null)x=!0,Qt();else{var ct=e(m);ct!==null&&oe(Z,ct.startTime-ut)}}var G=!1,J=-1,O=5,S=-1;function R(){return!(n.unstable_now()-S<O)}function M(){if(G){var ut=n.unstable_now();S=ut;var ct=!0;try{t:{x=!1,N&&(N=!1,V(J),J=-1),w=!0;var pt=b;try{e:{for(j(ut),v=e(h);v!==null&&!(v.expirationTime>ut&&R());){var Pt=v.callback;if(typeof Pt=="function"){v.callback=null,b=v.priorityLevel;var z=Pt(v.expirationTime<=ut);if(ut=n.unstable_now(),typeof z=="function"){v.callback=z,j(ut),ct=!0;break e}v===e(h)&&i(h),j(ut)}else i(h);v=e(h)}if(v!==null)ct=!0;else{var st=e(m);st!==null&&oe(Z,st.startTime-ut),ct=!1}}break t}finally{v=null,b=pt,w=!1}ct=void 0}}finally{ct?U():G=!1}}}var U;if(typeof B=="function")U=function(){B(M)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,L=H.port2;H.port1.onmessage=M,U=function(){L.postMessage(null)}}else U=function(){D(M,0)};function Qt(){G||(G=!0,U())}function oe(ut,ct){J=D(function(){ut(n.unstable_now())},ct)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ut){ut.callback=null},n.unstable_continueExecution=function(){x||w||(x=!0,Qt())},n.unstable_forceFrameRate=function(ut){0>ut||125<ut?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<ut?Math.floor(1e3/ut):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return e(h)},n.unstable_next=function(ut){switch(b){case 1:case 2:case 3:var ct=3;break;default:ct=b}var pt=b;b=ct;try{return ut()}finally{b=pt}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ut,ct){switch(ut){case 1:case 2:case 3:case 4:case 5:break;default:ut=3}var pt=b;b=ut;try{return ct()}finally{b=pt}},n.unstable_scheduleCallback=function(ut,ct,pt){var Pt=n.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?Pt+pt:Pt):pt=Pt,ut){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=pt+z,ut={id:g++,callback:ct,priorityLevel:ut,startTime:pt,expirationTime:z,sortIndex:-1},pt>Pt?(ut.sortIndex=pt,t(m,ut),e(h)===null&&ut===e(m)&&(N?(V(J),J=-1):N=!0,oe(Z,pt-Pt))):(ut.sortIndex=z,t(h,ut),x||w||(x=!0,Qt())),ut},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(ut){var ct=b;return function(){var pt=b;b=ct;try{return ut.apply(this,arguments)}finally{b=pt}}}}(ev)),ev}var xS;function cM(){return xS||(xS=1,tv.exports=uM()),tv.exports}var nv={exports:{}},Dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RS;function fM(){if(RS)return Dn;RS=1;var n=f_();function t(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(h,m,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:h,containerInfo:m,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Dn.createPortal=function(h,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(h,m,null,g)},Dn.flushSync=function(h){var m=u.T,g=i.p;try{if(u.T=null,i.p=2,h)return h()}finally{u.T=m,i.p=g,i.d.f()}},Dn.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(h,m))},Dn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Dn.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var g=m.as,v=f(g,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?i.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:w}):g==="script"&&i.d.X(h,{crossOrigin:v,integrity:b,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Dn.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=f(m.as,m.crossOrigin);i.d.M(h,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(h)},Dn.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,v=f(g,m.crossOrigin);i.d.L(h,g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Dn.preloadModule=function(h,m){if(typeof h=="string")if(m){var g=f(m.as,m.crossOrigin);i.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(h)},Dn.requestFormReset=function(h){i.d.r(h)},Dn.unstable_batchedUpdates=function(h,m){return h(m)},Dn.useFormState=function(h,m,g){return u.H.useFormState(h,m,g)},Dn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Dn.version="19.0.0",Dn}var IS;function UR(){if(IS)return nv.exports;IS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),nv.exports=fM(),nv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CS;function hM(){if(CS)return jc;CS=1;var n=cM(),t=f_(),e=UR();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var o=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),w=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),j=Symbol.for("react.offscreen"),Z=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function J(r){return r===null||typeof r!="object"?null:(r=G&&r[G]||r["@@iterator"],typeof r=="function"?r:null)}var O=Symbol.for("react.client.reference");function S(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===O?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case h:return"Fragment";case f:return"Portal";case g:return"Profiler";case m:return"StrictMode";case N:return"Suspense";case D:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case w:return(r.displayName||"Context")+".Provider";case b:return(r._context.displayName||"Context")+".Consumer";case x:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case V:return a=r.displayName||null,a!==null?a:S(r.type)||"Memo";case B:a=r._payload,r=r._init;try{return S(r(a))}catch{}}return null}var R=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=Object.assign,U,H;function L(r){if(U===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);U=a&&a[1]||"",H=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+U+r+H}var Qt=!1;function oe(r,a){if(!r||Qt)return"";Qt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var rt=function(){throw Error()};if(Object.defineProperty(rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(rt,[])}catch(tt){var X=tt}Reflect.construct(r,[],rt)}else{try{rt.call()}catch(tt){X=tt}r.call(rt.prototype)}}else{try{throw Error()}catch(tt){X=tt}(rt=r())&&typeof rt.catch=="function"&&rt.catch(function(){})}}catch(tt){if(tt&&X&&typeof tt.stack=="string")return[tt.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),E=y[0],A=y[1];if(E&&A){var k=E.split(`
`),q=A.split(`
`);for(p=c=0;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;for(;p<q.length&&!q[p].includes("DetermineComponentFrameRoot");)p++;if(c===k.length||p===q.length)for(c=k.length-1,p=q.length-1;1<=c&&0<=p&&k[c]!==q[p];)p--;for(;1<=c&&0<=p;c--,p--)if(k[c]!==q[p]){if(c!==1||p!==1)do if(c--,p--,0>p||k[c]!==q[p]){var et=`
`+k[c].replace(" at new "," at ");return r.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",r.displayName)),et}while(1<=c&&0<=p);break}}}finally{Qt=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?L(l):""}function ut(r){switch(r.tag){case 26:case 27:case 5:return L(r.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 15:return r=oe(r.type,!1),r;case 11:return r=oe(r.type.render,!1),r;case 1:return r=oe(r.type,!0),r;default:return""}}function ct(r){try{var a="";do a+=ut(r),r=r.return;while(r);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function pt(r){var a=r,l=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,a.flags&4098&&(l=a.return),r=a.return;while(r)}return a.tag===3?l:null}function Pt(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function z(r){if(pt(r)!==r)throw Error(i(188))}function st(r){var a=r.alternate;if(!a){if(a=pt(r),a===null)throw Error(i(188));return a!==r?null:r}for(var l=r,c=a;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return z(p),r;if(y===c)return z(p),a;y=y.sibling}throw Error(i(188))}if(l.return!==c.return)l=p,c=y;else{for(var E=!1,A=p.child;A;){if(A===l){E=!0,l=p,c=y;break}if(A===c){E=!0,c=p,l=y;break}A=A.sibling}if(!E){for(A=y.child;A;){if(A===l){E=!0,l=y,c=p;break}if(A===c){E=!0,c=y,l=p;break}A=A.sibling}if(!E)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?r:a}function dt(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=dt(r),a!==null)return a;r=r.sibling}return null}var ft=Array.isArray,ht=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,It={pending:!1,data:null,method:null,action:null},St=[],me=-1;function Mt(r){return{current:r}}function Xt(r){0>me||(r.current=St[me],St[me]=null,me--)}function bt(r,a){me++,St[me]=r.current,r.current=a}var Ve=Mt(null),Ue=Mt(null),Ge=Mt(null),sn=Mt(null);function Ln(r,a){switch(bt(Ge,a),bt(Ue,r),bt(Ve,null),r=a.nodeType,r){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?Xw(a):0;break;default:if(r=r===8?a.parentNode:a,a=r.tagName,r=r.namespaceURI)r=Xw(r),a=Ww(r,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Xt(Ve),bt(Ve,a)}function An(){Xt(Ve),Xt(Ue),Xt(Ge)}function bs(r){r.memoizedState!==null&&bt(sn,r);var a=Ve.current,l=Ww(a,r.type);a!==l&&(bt(Ue,r),bt(Ve,l))}function Ir(r){Ue.current===r&&(Xt(Ve),Xt(Ue)),sn.current===r&&(Xt(sn),Nc._currentValue=It)}var $i=Object.prototype.hasOwnProperty,xn=n.unstable_scheduleCallback,Li=n.unstable_cancelCallback,Ts=n.unstable_shouldYield,Es=n.unstable_requestPaint,pn=n.unstable_now,Go=n.unstable_getCurrentPriorityLevel,ke=n.unstable_ImmediatePriority,pe=n.unstable_UserBlockingPriority,Rn=n.unstable_NormalPriority,Yi=n.unstable_LowPriority,ws=n.unstable_IdlePriority,di=n.log,Qi=n.unstable_setDisableYieldValue,Xi=null,an=null;function Cr(r){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Xi,r,void 0,(r.current.flags&128)===128)}catch{}}function Wn(r){if(typeof di=="function"&&Qi(r),an&&typeof an.setStrictMode=="function")try{an.setStrictMode(Xi,r)}catch{}}var gn=Math.clz32?Math.clz32:$o,Ss=Math.log,Ko=Math.LN2;function $o(r){return r>>>=0,r===0?32:31-(Ss(r)/Ko|0)|0}var mi=128,ge=4194304;function ye(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function ue(r,a){var l=r.pendingLanes;if(l===0)return 0;var c=0,p=r.suspendedLanes,y=r.pingedLanes,E=r.warmLanes;r=r.finishedLanes!==0;var A=l&134217727;return A!==0?(l=A&~p,l!==0?c=ye(l):(y&=A,y!==0?c=ye(y):r||(E=A&~E,E!==0&&(c=ye(E))))):(A=l&~p,A!==0?c=ye(A):y!==0?c=ye(y):r||(E=l&~E,E!==0&&(c=ye(E)))),c===0?0:a!==0&&a!==c&&!(a&p)&&(p=c&-c,E=a&-a,p>=E||p===32&&(E&4194176)!==0)?a:c}function yn(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Ke(r,a){switch(r){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $e(){var r=mi;return mi<<=1,!(mi&4194176)&&(mi=128),r}function Ye(){var r=ge;return ge<<=1,!(ge&62914560)&&(ge=4194304),r}function Zn(r){for(var a=[],l=0;31>l;l++)a.push(r);return a}function kt(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Jn(r,a,l,c,p,y){var E=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var A=r.entanglements,k=r.expirationTimes,q=r.hiddenUpdates;for(l=E&~l;0<l;){var et=31-gn(l),rt=1<<et;A[et]=0,k[et]=-1;var X=q[et];if(X!==null)for(q[et]=null,et=0;et<X.length;et++){var tt=X[et];tt!==null&&(tt.lane&=-536870913)}l&=~rt}c!==0&&Qe(r,c,0),y!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=y&~(E&~a))}function Qe(r,a,l){r.pendingLanes|=a,r.suspendedLanes&=~a;var c=31-gn(a);r.entangledLanes|=a,r.entanglements[c]=r.entanglements[c]|1073741824|l&4194218}function on(r,a){var l=r.entangledLanes|=a;for(r=r.entanglements;l;){var c=31-gn(l),p=1<<c;p&a|r[c]&a&&(r[c]|=a),l&=~p}}function Wi(r){return r&=-r,2<r?8<r?r&134217727?32:268435456:8:2}function Zi(){var r=ht.p;return r!==0?r:(r=window.event,r===void 0?32:pS(r.type))}function vn(r,a){var l=ht.p;try{return ht.p=r,a()}finally{ht.p=l}}var In=Math.random().toString(36).slice(2),Ie="__reactFiber$"+In,Xe="__reactProps$"+In,Dr="__reactContainer$"+In,Va="__reactEvents$"+In,Yo="__reactListeners$"+In,Ji="__reactHandles$"+In,ju="__reactResources$"+In,As="__reactMarker$"+In;function ka(r){delete r[Ie],delete r[Xe],delete r[Va],delete r[Yo],delete r[Ji]}function ji(r){var a=r[Ie];if(a)return a;for(var l=r.parentNode;l;){if(a=l[Dr]||l[Ie]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(r=tS(r);r!==null;){if(l=r[Ie])return l;r=tS(r)}return a}r=l,l=r.parentNode}return null}function Pr(r){if(r=r[Ie]||r[Dr]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function xs(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Rs(r){var a=r[ju];return a||(a=r[ju]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Te(r){r[As]=!0}var Uu=new Set,Qo={};function ti(r,a){Yn(r,a),Yn(r+"Capture",a)}function Yn(r,a){for(Qo[r]=a,r=0;r<a.length;r++)Uu.add(a[r])}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bu={},zu={};function Th(r){return $i.call(zu,r)?!0:$i.call(Bu,r)?!1:eg.test(r)?zu[r]=!0:(Bu[r]=!0,!1)}function Is(r,a,l){if(Th(a))if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+l)}}function Cs(r,a,l){if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+l)}}function pi(r,a,l,c){if(c===null)r.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(a,l,""+c)}}function jn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Eh(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ng(r){var a=Eh(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),c=""+r[a];if(!r.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return p.call(this)},set:function(E){c=""+E,y.call(this,E)}}),Object.defineProperty(r,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function La(r){r._valueTracker||(r._valueTracker=ng(r))}function Fu(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return r&&(c=Eh(r)?r.checked?"true":"false":r.value),r=c,r!==l?(a.setValue(r),!0):!1}function Xo(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Nr=/[\n"\\]/g;function Ce(r){return r.replace(Nr,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Ds(r,a,l,c,p,y,E,A){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),a!=null?E==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+jn(a)):r.value!==""+jn(a)&&(r.value=""+jn(a)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),a!=null?Wo(r,E,jn(a)):l!=null?Wo(r,E,jn(l)):c!=null&&r.removeAttribute("value"),p==null&&y!=null&&(r.defaultChecked=!!y),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.name=""+jn(A):r.removeAttribute("name")}function ja(r,a,l,c,p,y,E,A){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+jn(l):"",a=a!=null?""+jn(a):l,A||a===r.value||(r.value=a),r.defaultValue=a}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=A?r.checked:!!c,r.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function Wo(r,a,l){a==="number"&&Xo(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function Wt(r,a,l,c){if(r=r.options,a){a={};for(var p=0;p<l.length;p++)a["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=a.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&c&&(r[l].defaultSelected=!0)}else{for(l=""+jn(l),a=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,c&&(r[p].defaultSelected=!0);return}a!==null||r[p].disabled||(a=r[p])}a!==null&&(a.selected=!0)}}function Ua(r,a,l){if(a!=null&&(a=""+jn(a),a!==r.value&&(r.value=a),l==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=l!=null?""+jn(l):""}function Ps(r,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(i(92));if(ft(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=jn(a),r.defaultValue=l,c=r.textContent,c===l&&c!==""&&c!==null&&(r.value=c)}function gi(r,a){if(a){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=a;return}}r.textContent=a}var ig=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qu(r,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":c?r.setProperty(a,l):typeof l!="number"||l===0||ig.has(a)?a==="float"?r.cssFloat=l:r[a]=(""+l).trim():r[a]=l+"px"}function wh(r,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var p in a)c=a[p],a.hasOwnProperty(p)&&l[p]!==c&&qu(r,p,c)}else for(var y in a)a.hasOwnProperty(y)&&qu(r,y,a[y])}function Hu(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tr(r){return sg.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var yi=null;function Zo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Or=null,Mr=null;function Vr(r){var a=Pr(r);if(a&&(r=a.stateNode)){var l=r[Xe]||null;t:switch(r=a.stateNode,a.type){case"input":if(Ds(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ce(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==r&&c.form===r.form){var p=c[Xe]||null;if(!p)throw Error(i(90));Ds(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===r.form&&Fu(c)}break t;case"textarea":Ua(r,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&Wt(r,!!l.multiple,a,!1)}}}var Gu=!1;function Sh(r,a,l){if(Gu)return r(a,l);Gu=!0;try{var c=r(a);return c}finally{if(Gu=!1,(Or!==null||Mr!==null)&&(pd(),Or&&(a=Or,r=Mr,Mr=Or=null,Vr(a),r)))for(a=0;a<r.length;a++)Vr(r[a])}}function Ba(r,a){var l=r.stateNode;if(l===null)return null;var c=l[Xe]||null;if(c===null)return null;l=c[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break t;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var vi=!1;if(ei)try{var za={};Object.defineProperty(za,"passive",{get:function(){vi=!0}}),window.addEventListener("test",za,za),window.removeEventListener("test",za,za)}catch{vi=!1}var er=null,Ns=null,kr=null;function Ku(){if(kr)return kr;var r,a=Ns,l=a.length,c,p="value"in er?er.value:er.textContent,y=p.length;for(r=0;r<l&&a[r]===p[r];r++);var E=l-r;for(c=1;c<=E&&a[l-c]===p[y-c];c++);return kr=p.slice(r,1<c?1-c:void 0)}function nr(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function ir(){return!0}function $u(){return!1}function ln(r){function a(l,c,p,y,E){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(l=r[A],this[A]=l?l(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ir:$u,this.isPropagationStopped=$u,this}return M(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ir)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ir)},persist:function(){},isPersistent:ir}),a}var ee={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jo=ln(ee),Fa=M({},ee,{view:0,detail:0}),Ah=ln(Fa),tl,el,rr,qa=M({},Fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ka,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==rr&&(rr&&r.type==="mousemove"?(tl=r.screenX-rr.screenX,el=r.screenY-rr.screenY):el=tl=0,rr=r),tl)},movementY:function(r){return"movementY"in r?r.movementY:el}}),_i=ln(qa),xh=M({},qa,{dataTransfer:0}),ag=ln(xh),Ha=M({},Fa,{relatedTarget:0}),nl=ln(Ha),Yu=M({},ee,{animationName:0,elapsedTime:0,pseudoElement:0}),il=ln(Yu),Rh=M({},ee,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),rl=ln(Rh),og=M({},ee,{data:0}),Qu=ln(og),Ga={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ih={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ch={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xu(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Ch[r])?!!a[r]:!1}function Ka(){return Xu}var Dh=M({},Fa,{key:function(r){if(r.key){var a=Ga[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=nr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ih[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ka,charCode:function(r){return r.type==="keypress"?nr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?nr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),sl=ln(Dh),Ph=M({},qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wu=ln(Ph),Lr=M({},Fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ka}),Nh=ln(Lr),Oh=M({},ee,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mh=ln(Oh),Vh=M({},qa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),al=ln(Vh),Un=M({},ee,{newState:0,oldState:0}),kh=ln(Un),Lh=[9,13,27,32],sr=ei&&"CompositionEvent"in window,d=null;ei&&"documentMode"in document&&(d=document.documentMode);var _=ei&&"TextEvent"in window&&!d,T=ei&&(!sr||d&&8<d&&11>=d),I=" ",$=!1;function W(r,a){switch(r){case"keyup":return Lh.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lt(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Gt=!1;function We(r,a){switch(r){case"compositionend":return lt(a);case"keypress":return a.which!==32?null:($=!0,I);case"textInput":return r=a.data,r===I&&$?null:r;default:return null}}function Kt(r,a){if(Gt)return r==="compositionend"||!sr&&W(r,a)?(r=Ku(),kr=Ns=er=null,Gt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return T&&a.locale!=="ko"?null:a.data;default:return null}}var un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ze(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!un[r.type]:a==="textarea"}function jr(r,a,l,c){Or?Mr?Mr.push(c):Mr=[c]:Or=c,a=bd(a,"onChange"),0<a.length&&(l=new Jo("onChange","change",null,l,c),r.push({event:l,listeners:a}))}var _n=null,ar=null;function Zu(r){Gw(r,0)}function jh(r){var a=xs(r);if(Fu(a))return r}function bT(r,a){if(r==="change")return a}var TT=!1;if(ei){var lg;if(ei){var ug="oninput"in document;if(!ug){var ET=document.createElement("div");ET.setAttribute("oninput","return;"),ug=typeof ET.oninput=="function"}lg=ug}else lg=!1;TT=lg&&(!document.documentMode||9<document.documentMode)}function wT(){_n&&(_n.detachEvent("onpropertychange",ST),ar=_n=null)}function ST(r){if(r.propertyName==="value"&&jh(ar)){var a=[];jr(a,ar,r,Zo(r)),Sh(Zu,a)}}function kN(r,a,l){r==="focusin"?(wT(),_n=a,ar=l,_n.attachEvent("onpropertychange",ST)):r==="focusout"&&wT()}function LN(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return jh(ar)}function jN(r,a){if(r==="click")return jh(a)}function UN(r,a){if(r==="input"||r==="change")return jh(a)}function BN(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var ni=typeof Object.is=="function"?Object.is:BN;function Ju(r,a){if(ni(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var l=Object.keys(r),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!$i.call(a,p)||!ni(r[p],a[p]))return!1}return!0}function AT(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function xT(r,a){var l=AT(r);r=0;for(var c;l;){if(l.nodeType===3){if(c=r+l.textContent.length,r<=a&&c>=a)return{node:l,offset:a-r};r=c}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=AT(l)}}function RT(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?RT(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function IT(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Xo(r.document);a instanceof r.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)r=a.contentWindow;else break;a=Xo(r.document)}return a}function cg(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}function zN(r,a){var l=IT(a);a=r.focusedElem;var c=r.selectionRange;if(l!==a&&a&&a.ownerDocument&&RT(a.ownerDocument.documentElement,a)){if(c!==null&&cg(a)){if(r=c.start,l=c.end,l===void 0&&(l=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(l,a.value.length);else if(l=(r=a.ownerDocument||document)&&r.defaultView||window,l.getSelection){l=l.getSelection();var p=a.textContent.length,y=Math.min(c.start,p);c=c.end===void 0?y:Math.min(c.end,p),!l.extend&&y>c&&(p=c,c=y,y=p),p=xT(a,y);var E=xT(a,c);p&&E&&(l.rangeCount!==1||l.anchorNode!==p.node||l.anchorOffset!==p.offset||l.focusNode!==E.node||l.focusOffset!==E.offset)&&(r=r.createRange(),r.setStart(p.node,p.offset),l.removeAllRanges(),y>c?(l.addRange(r),l.extend(E.node,E.offset)):(r.setEnd(E.node,E.offset),l.addRange(r)))}}for(r=[],l=a;l=l.parentNode;)l.nodeType===1&&r.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)l=r[a],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var FN=ei&&"documentMode"in document&&11>=document.documentMode,ol=null,fg=null,tc=null,hg=!1;function CT(r,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;hg||ol==null||ol!==Xo(c)||(c=ol,"selectionStart"in c&&cg(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),tc&&Ju(tc,c)||(tc=c,c=bd(fg,"onSelect"),0<c.length&&(a=new Jo("onSelect","select",null,a,l),r.push({event:a,listeners:c}),a.target=ol)))}function $a(r,a){var l={};return l[r.toLowerCase()]=a.toLowerCase(),l["Webkit"+r]="webkit"+a,l["Moz"+r]="moz"+a,l}var ll={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionrun:$a("Transition","TransitionRun"),transitionstart:$a("Transition","TransitionStart"),transitioncancel:$a("Transition","TransitionCancel"),transitionend:$a("Transition","TransitionEnd")},dg={},DT={};ei&&(DT=document.createElement("div").style,"AnimationEvent"in window||(delete ll.animationend.animation,delete ll.animationiteration.animation,delete ll.animationstart.animation),"TransitionEvent"in window||delete ll.transitionend.transition);function Ya(r){if(dg[r])return dg[r];if(!ll[r])return r;var a=ll[r],l;for(l in a)if(a.hasOwnProperty(l)&&l in DT)return dg[r]=a[l];return r}var PT=Ya("animationend"),NT=Ya("animationiteration"),OT=Ya("animationstart"),qN=Ya("transitionrun"),HN=Ya("transitionstart"),GN=Ya("transitioncancel"),MT=Ya("transitionend"),VT=new Map,kT="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ui(r,a){VT.set(r,a),ti(a,[r])}var bi=[],ul=0,mg=0;function Uh(){for(var r=ul,a=mg=ul=0;a<r;){var l=bi[a];bi[a++]=null;var c=bi[a];bi[a++]=null;var p=bi[a];bi[a++]=null;var y=bi[a];if(bi[a++]=null,c!==null&&p!==null){var E=c.pending;E===null?p.next=p:(p.next=E.next,E.next=p),c.pending=p}y!==0&&LT(l,p,y)}}function Bh(r,a,l,c){bi[ul++]=r,bi[ul++]=a,bi[ul++]=l,bi[ul++]=c,mg|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function pg(r,a,l,c){return Bh(r,a,l,c),zh(r)}function Os(r,a){return Bh(r,null,null,a),zh(r)}function LT(r,a,l){r.lanes|=l;var c=r.alternate;c!==null&&(c.lanes|=l);for(var p=!1,y=r.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(p=!0)),r=y,y=y.return;p&&a!==null&&r.tag===3&&(y=r.stateNode,p=31-gn(l),y=y.hiddenUpdates,r=y[p],r===null?y[p]=[a]:r.push(a),a.lane=l|536870912)}function zh(r){if(50<Ac)throw Ac=0,Ty=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var cl={},jT=new WeakMap;function Ti(r,a){if(typeof r=="object"&&r!==null){var l=jT.get(r);return l!==void 0?l:(a={value:r,source:a,stack:ct(a)},jT.set(r,a),a)}return{value:r,source:a,stack:ct(a)}}var fl=[],hl=0,Fh=null,qh=0,Ei=[],wi=0,Qa=null,Ur=1,Br="";function Xa(r,a){fl[hl++]=qh,fl[hl++]=Fh,Fh=r,qh=a}function UT(r,a,l){Ei[wi++]=Ur,Ei[wi++]=Br,Ei[wi++]=Qa,Qa=r;var c=Ur;r=Br;var p=32-gn(c)-1;c&=~(1<<p),l+=1;var y=32-gn(a)+p;if(30<y){var E=p-p%5;y=(c&(1<<E)-1).toString(32),c>>=E,p-=E,Ur=1<<32-gn(a)+p|l<<p|c,Br=y+r}else Ur=1<<y|l<<p|c,Br=r}function gg(r){r.return!==null&&(Xa(r,1),UT(r,1,0))}function yg(r){for(;r===Fh;)Fh=fl[--hl],fl[hl]=null,qh=fl[--hl],fl[hl]=null;for(;r===Qa;)Qa=Ei[--wi],Ei[wi]=null,Br=Ei[--wi],Ei[wi]=null,Ur=Ei[--wi],Ei[wi]=null}var Bn=null,bn=null,Zt=!1,Bi=null,or=!1,vg=Error(i(519));function Wa(r){var a=Error(i(418,""));throw ic(Ti(a,r)),vg}function BT(r){var a=r.stateNode,l=r.type,c=r.memoizedProps;switch(a[Ie]=r,a[Xe]=c,l){case"dialog":qt("cancel",a),qt("close",a);break;case"iframe":case"object":case"embed":qt("load",a);break;case"video":case"audio":for(l=0;l<Rc.length;l++)qt(Rc[l],a);break;case"source":qt("error",a);break;case"img":case"image":case"link":qt("error",a),qt("load",a);break;case"details":qt("toggle",a);break;case"input":qt("invalid",a),ja(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),La(a);break;case"select":qt("invalid",a);break;case"textarea":qt("invalid",a),Ps(a,c.value,c.defaultValue,c.children),La(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||Qw(a.textContent,l)?(c.popover!=null&&(qt("beforetoggle",a),qt("toggle",a)),c.onScroll!=null&&qt("scroll",a),c.onScrollEnd!=null&&qt("scrollend",a),c.onClick!=null&&(a.onclick=Td),a=!0):a=!1,a||Wa(r)}function zT(r){for(Bn=r.return;Bn;)switch(Bn.tag){case 3:case 27:or=!0;return;case 5:case 13:or=!1;return;default:Bn=Bn.return}}function ec(r){if(r!==Bn)return!1;if(!Zt)return zT(r),Zt=!0,!1;var a=!1,l;if((l=r.tag!==3&&r.tag!==27)&&((l=r.tag===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||jy(r.type,r.memoizedProps)),l=!l),l&&(a=!0),a&&bn&&Wa(r),zT(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(l=r.data,l==="/$"){if(a===0){bn=Fi(r.nextSibling);break t}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;r=r.nextSibling}bn=null}}else bn=Bn?Fi(r.stateNode.nextSibling):null;return!0}function nc(){bn=Bn=null,Zt=!1}function ic(r){Bi===null?Bi=[r]:Bi.push(r)}var rc=Error(i(460)),FT=Error(i(474)),_g={then:function(){}};function qT(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Hh(){}function HT(r,a,l){switch(l=r[l],l===void 0?r.push(a):l!==a&&(a.then(Hh,Hh),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,r===rc?Error(i(483)):r;default:if(typeof a.status=="string")a.then(Hh,Hh);else{if(r=ce,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(c){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=c}},function(c){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,r===rc?Error(i(483)):r}throw sc=a,rc}}var sc=null;function GT(){if(sc===null)throw Error(i(459));var r=sc;return sc=null,r}var dl=null,ac=0;function Gh(r){var a=ac;return ac+=1,dl===null&&(dl=[]),HT(dl,r,a)}function oc(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Kh(r,a){throw a.$$typeof===o?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function KT(r){var a=r._init;return a(r._payload)}function $T(r){function a(K,F){if(r){var Q=K.deletions;Q===null?(K.deletions=[F],K.flags|=16):Q.push(F)}}function l(K,F){if(!r)return null;for(;F!==null;)a(K,F),F=F.sibling;return null}function c(K){for(var F=new Map;K!==null;)K.key!==null?F.set(K.key,K):F.set(K.index,K),K=K.sibling;return F}function p(K,F){return K=Gs(K,F),K.index=0,K.sibling=null,K}function y(K,F,Q){return K.index=Q,r?(Q=K.alternate,Q!==null?(Q=Q.index,Q<F?(K.flags|=33554434,F):Q):(K.flags|=33554434,F)):(K.flags|=1048576,F)}function E(K){return r&&K.alternate===null&&(K.flags|=33554434),K}function A(K,F,Q,nt){return F===null||F.tag!==6?(F=dy(Q,K.mode,nt),F.return=K,F):(F=p(F,Q),F.return=K,F)}function k(K,F,Q,nt){var yt=Q.type;return yt===h?et(K,F,Q.props.children,nt,Q.key):F!==null&&(F.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===B&&KT(yt)===F.type)?(F=p(F,Q.props),oc(F,Q),F.return=K,F):(F=cd(Q.type,Q.key,Q.props,null,K.mode,nt),oc(F,Q),F.return=K,F)}function q(K,F,Q,nt){return F===null||F.tag!==4||F.stateNode.containerInfo!==Q.containerInfo||F.stateNode.implementation!==Q.implementation?(F=my(Q,K.mode,nt),F.return=K,F):(F=p(F,Q.children||[]),F.return=K,F)}function et(K,F,Q,nt,yt){return F===null||F.tag!==7?(F=oo(Q,K.mode,nt,yt),F.return=K,F):(F=p(F,Q),F.return=K,F)}function rt(K,F,Q){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=dy(""+F,K.mode,Q),F.return=K,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case u:return Q=cd(F.type,F.key,F.props,null,K.mode,Q),oc(Q,F),Q.return=K,Q;case f:return F=my(F,K.mode,Q),F.return=K,F;case B:var nt=F._init;return F=nt(F._payload),rt(K,F,Q)}if(ft(F)||J(F))return F=oo(F,K.mode,Q,null),F.return=K,F;if(typeof F.then=="function")return rt(K,Gh(F),Q);if(F.$$typeof===w)return rt(K,od(K,F),Q);Kh(K,F)}return null}function X(K,F,Q,nt){var yt=F!==null?F.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return yt!==null?null:A(K,F,""+Q,nt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case u:return Q.key===yt?k(K,F,Q,nt):null;case f:return Q.key===yt?q(K,F,Q,nt):null;case B:return yt=Q._init,Q=yt(Q._payload),X(K,F,Q,nt)}if(ft(Q)||J(Q))return yt!==null?null:et(K,F,Q,nt,null);if(typeof Q.then=="function")return X(K,F,Gh(Q),nt);if(Q.$$typeof===w)return X(K,F,od(K,Q),nt);Kh(K,Q)}return null}function tt(K,F,Q,nt,yt){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return K=K.get(Q)||null,A(F,K,""+nt,yt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case u:return K=K.get(nt.key===null?Q:nt.key)||null,k(F,K,nt,yt);case f:return K=K.get(nt.key===null?Q:nt.key)||null,q(F,K,nt,yt);case B:var Ut=nt._init;return nt=Ut(nt._payload),tt(K,F,Q,nt,yt)}if(ft(nt)||J(nt))return K=K.get(Q)||null,et(F,K,nt,yt,null);if(typeof nt.then=="function")return tt(K,F,Q,Gh(nt),yt);if(nt.$$typeof===w)return tt(K,F,Q,od(F,nt),yt);Kh(F,nt)}return null}function _t(K,F,Q,nt){for(var yt=null,Ut=null,wt=F,xt=F=0,hn=null;wt!==null&&xt<Q.length;xt++){wt.index>xt?(hn=wt,wt=null):hn=wt.sibling;var Jt=X(K,wt,Q[xt],nt);if(Jt===null){wt===null&&(wt=hn);break}r&&wt&&Jt.alternate===null&&a(K,wt),F=y(Jt,F,xt),Ut===null?yt=Jt:Ut.sibling=Jt,Ut=Jt,wt=hn}if(xt===Q.length)return l(K,wt),Zt&&Xa(K,xt),yt;if(wt===null){for(;xt<Q.length;xt++)wt=rt(K,Q[xt],nt),wt!==null&&(F=y(wt,F,xt),Ut===null?yt=wt:Ut.sibling=wt,Ut=wt);return Zt&&Xa(K,xt),yt}for(wt=c(wt);xt<Q.length;xt++)hn=tt(wt,K,xt,Q[xt],nt),hn!==null&&(r&&hn.alternate!==null&&wt.delete(hn.key===null?xt:hn.key),F=y(hn,F,xt),Ut===null?yt=hn:Ut.sibling=hn,Ut=hn);return r&&wt.forEach(function(Zs){return a(K,Zs)}),Zt&&Xa(K,xt),yt}function Nt(K,F,Q,nt){if(Q==null)throw Error(i(151));for(var yt=null,Ut=null,wt=F,xt=F=0,hn=null,Jt=Q.next();wt!==null&&!Jt.done;xt++,Jt=Q.next()){wt.index>xt?(hn=wt,wt=null):hn=wt.sibling;var Zs=X(K,wt,Jt.value,nt);if(Zs===null){wt===null&&(wt=hn);break}r&&wt&&Zs.alternate===null&&a(K,wt),F=y(Zs,F,xt),Ut===null?yt=Zs:Ut.sibling=Zs,Ut=Zs,wt=hn}if(Jt.done)return l(K,wt),Zt&&Xa(K,xt),yt;if(wt===null){for(;!Jt.done;xt++,Jt=Q.next())Jt=rt(K,Jt.value,nt),Jt!==null&&(F=y(Jt,F,xt),Ut===null?yt=Jt:Ut.sibling=Jt,Ut=Jt);return Zt&&Xa(K,xt),yt}for(wt=c(wt);!Jt.done;xt++,Jt=Q.next())Jt=tt(wt,K,xt,Jt.value,nt),Jt!==null&&(r&&Jt.alternate!==null&&wt.delete(Jt.key===null?xt:Jt.key),F=y(Jt,F,xt),Ut===null?yt=Jt:Ut.sibling=Jt,Ut=Jt);return r&&wt.forEach(function(sM){return a(K,sM)}),Zt&&Xa(K,xt),yt}function Ne(K,F,Q,nt){if(typeof Q=="object"&&Q!==null&&Q.type===h&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case u:t:{for(var yt=Q.key;F!==null;){if(F.key===yt){if(yt=Q.type,yt===h){if(F.tag===7){l(K,F.sibling),nt=p(F,Q.props.children),nt.return=K,K=nt;break t}}else if(F.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===B&&KT(yt)===F.type){l(K,F.sibling),nt=p(F,Q.props),oc(nt,Q),nt.return=K,K=nt;break t}l(K,F);break}else a(K,F);F=F.sibling}Q.type===h?(nt=oo(Q.props.children,K.mode,nt,Q.key),nt.return=K,K=nt):(nt=cd(Q.type,Q.key,Q.props,null,K.mode,nt),oc(nt,Q),nt.return=K,K=nt)}return E(K);case f:t:{for(yt=Q.key;F!==null;){if(F.key===yt)if(F.tag===4&&F.stateNode.containerInfo===Q.containerInfo&&F.stateNode.implementation===Q.implementation){l(K,F.sibling),nt=p(F,Q.children||[]),nt.return=K,K=nt;break t}else{l(K,F);break}else a(K,F);F=F.sibling}nt=my(Q,K.mode,nt),nt.return=K,K=nt}return E(K);case B:return yt=Q._init,Q=yt(Q._payload),Ne(K,F,Q,nt)}if(ft(Q))return _t(K,F,Q,nt);if(J(Q)){if(yt=J(Q),typeof yt!="function")throw Error(i(150));return Q=yt.call(Q),Nt(K,F,Q,nt)}if(typeof Q.then=="function")return Ne(K,F,Gh(Q),nt);if(Q.$$typeof===w)return Ne(K,F,od(K,Q),nt);Kh(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,F!==null&&F.tag===6?(l(K,F.sibling),nt=p(F,Q),nt.return=K,K=nt):(l(K,F),nt=dy(Q,K.mode,nt),nt.return=K,K=nt),E(K)):l(K,F)}return function(K,F,Q,nt){try{ac=0;var yt=Ne(K,F,Q,nt);return dl=null,yt}catch(wt){if(wt===rc)throw wt;var Ut=Ri(29,wt,null,K.mode);return Ut.lanes=nt,Ut.return=K,Ut}finally{}}}var Za=$T(!0),YT=$T(!1),ml=Mt(null),$h=Mt(0);function QT(r,a){r=Wr,bt($h,r),bt(ml,a),Wr=r|a.baseLanes}function bg(){bt($h,Wr),bt(ml,ml.current)}function Tg(){Wr=$h.current,Xt(ml),Xt($h)}var Si=Mt(null),lr=null;function Ms(r){var a=r.alternate;bt(Je,Je.current&1),bt(Si,r),lr===null&&(a===null||ml.current!==null||a.memoizedState!==null)&&(lr=r)}function XT(r){if(r.tag===22){if(bt(Je,Je.current),bt(Si,r),lr===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(lr=r)}}else Vs()}function Vs(){bt(Je,Je.current),bt(Si,Si.current)}function zr(r){Xt(Si),lr===r&&(lr=null),Xt(Je)}var Je=Mt(0);function Yh(r){for(var a=r;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var KN=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(l,c){r.push(c)}};this.abort=function(){a.aborted=!0,r.forEach(function(l){return l()})}},$N=n.unstable_scheduleCallback,YN=n.unstable_NormalPriority,tn={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Eg(){return{controller:new KN,data:new Map,refCount:0}}function lc(r){r.refCount--,r.refCount===0&&$N(YN,function(){r.controller.abort()})}var uc=null,wg=0,pl=0,gl=null;function QN(r,a){if(uc===null){var l=uc=[];wg=0,pl=Cy(),gl={status:"pending",value:void 0,then:function(c){l.push(c)}}}return wg++,a.then(WT,WT),a}function WT(){if(--wg===0&&uc!==null){gl!==null&&(gl.status="fulfilled");var r=uc;uc=null,pl=0,gl=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function XN(r,a){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return r.then(function(){c.status="fulfilled",c.value=a;for(var p=0;p<l.length;p++)(0,l[p])(a)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var ZT=R.S;R.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&QN(r,a),ZT!==null&&ZT(r,a)};var Ja=Mt(null);function Sg(){var r=Ja.current;return r!==null?r:ce.pooledCache}function Qh(r,a){a===null?bt(Ja,Ja.current):bt(Ja,a.pool)}function JT(){var r=Sg();return r===null?null:{parent:tn._currentValue,pool:r}}var ks=0,Lt=null,re=null,Be=null,Xh=!1,yl=!1,to=!1,Wh=0,cc=0,vl=null,WN=0;function Le(){throw Error(i(321))}function Ag(r,a){if(a===null)return!1;for(var l=0;l<a.length&&l<r.length;l++)if(!ni(r[l],a[l]))return!1;return!0}function xg(r,a,l,c,p,y){return ks=y,Lt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,R.H=r===null||r.memoizedState===null?eo:Ls,to=!1,y=l(c,p),to=!1,yl&&(y=eE(a,l,c,p)),tE(r),y}function tE(r){R.H=ur;var a=re!==null&&re.next!==null;if(ks=0,Be=re=Lt=null,Xh=!1,cc=0,vl=null,a)throw Error(i(300));r===null||cn||(r=r.dependencies,r!==null&&ad(r)&&(cn=!0))}function eE(r,a,l,c){Lt=r;var p=0;do{if(yl&&(vl=null),cc=0,yl=!1,25<=p)throw Error(i(301));if(p+=1,Be=re=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}R.H=no,y=a(l,c)}while(yl);return y}function ZN(){var r=R.H,a=r.useState()[0];return a=typeof a.then=="function"?fc(a):a,r=r.useState()[0],(re!==null?re.memoizedState:null)!==r&&(Lt.flags|=1024),a}function Rg(){var r=Wh!==0;return Wh=0,r}function Ig(r,a,l){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~l}function Cg(r){if(Xh){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Xh=!1}ks=0,Be=re=Lt=null,yl=!1,cc=Wh=0,vl=null}function Qn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Lt.memoizedState=Be=r:Be=Be.next=r,Be}function ze(){if(re===null){var r=Lt.alternate;r=r!==null?r.memoizedState:null}else r=re.next;var a=Be===null?Lt.memoizedState:Be.next;if(a!==null)Be=a,re=r;else{if(r===null)throw Lt.alternate===null?Error(i(467)):Error(i(310));re=r,r={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},Be===null?Lt.memoizedState=Be=r:Be=Be.next=r}return Be}var Zh;Zh=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function fc(r){var a=cc;return cc+=1,vl===null&&(vl=[]),r=HT(vl,r,a),a=Lt,(Be===null?a.memoizedState:Be.next)===null&&(a=a.alternate,R.H=a===null||a.memoizedState===null?eo:Ls),r}function Jh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return fc(r);if(r.$$typeof===w)return Cn(r)}throw Error(i(438,String(r)))}function Dg(r){var a=null,l=Lt.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Lt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Zh(),Lt.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(r),c=0;c<r;c++)l[c]=Z;return a.index++,l}function Fr(r,a){return typeof a=="function"?a(r):a}function td(r){var a=ze();return Pg(a,re,r)}function Pg(r,a,l){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var p=r.baseQueue,y=c.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}a.baseQueue=p=y,c.pending=null}if(y=r.baseState,p===null)r.memoizedState=y;else{a=p.next;var A=E=null,k=null,q=a,et=!1;do{var rt=q.lane&-536870913;if(rt!==q.lane?($t&rt)===rt:(ks&rt)===rt){var X=q.revertLane;if(X===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),rt===pl&&(et=!0);else if((ks&X)===X){q=q.next,X===pl&&(et=!0);continue}else rt={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},k===null?(A=k=rt,E=y):k=k.next=rt,Lt.lanes|=X,Ks|=X;rt=q.action,to&&l(y,rt),y=q.hasEagerState?q.eagerState:l(y,rt)}else X={lane:rt,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},k===null?(A=k=X,E=y):k=k.next=X,Lt.lanes|=rt,Ks|=rt;q=q.next}while(q!==null&&q!==a);if(k===null?E=y:k.next=A,!ni(y,r.memoizedState)&&(cn=!0,et&&(l=gl,l!==null)))throw l;r.memoizedState=y,r.baseState=E,r.baseQueue=k,c.lastRenderedState=y}return p===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Ng(r){var a=ze(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var c=l.dispatch,p=l.pending,y=a.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do y=r(y,E.action),E=E.next;while(E!==p);ni(y,a.memoizedState)||(cn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,c]}function nE(r,a,l){var c=Lt,p=ze(),y=Zt;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=a();var E=!ni((re||p).memoizedState,l);if(E&&(p.memoizedState=l,cn=!0),p=p.queue,Vg(sE.bind(null,c,p,r),[r]),p.getSnapshot!==a||E||Be!==null&&Be.memoizedState.tag&1){if(c.flags|=2048,_l(9,rE.bind(null,c,p,l,a),{destroy:void 0},null),ce===null)throw Error(i(349));y||ks&60||iE(c,a,l)}return l}function iE(r,a,l){r.flags|=16384,r={getSnapshot:a,value:l},a=Lt.updateQueue,a===null?(a=Zh(),Lt.updateQueue=a,a.stores=[r]):(l=a.stores,l===null?a.stores=[r]:l.push(r))}function rE(r,a,l,c){a.value=l,a.getSnapshot=c,aE(a)&&oE(r)}function sE(r,a,l){return l(function(){aE(a)&&oE(r)})}function aE(r){var a=r.getSnapshot;r=r.value;try{var l=a();return!ni(r,l)}catch{return!0}}function oE(r){var a=Os(r,2);a!==null&&zn(a,r,2)}function Og(r){var a=Qn();if(typeof r=="function"){var l=r;if(r=l(),to){Wn(!0);try{l()}finally{Wn(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:r},a}function lE(r,a,l,c){return r.baseState=l,Pg(r,re,typeof c=="function"?c:Fr)}function JN(r,a,l,c,p){if(id(r))throw Error(i(485));if(r=a.action,r!==null){var y={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};R.T!==null?l(!0):y.isTransition=!1,c(y),l=a.pending,l===null?(y.next=a.pending=y,uE(a,y)):(y.next=l.next,a.pending=l.next=y)}}function uE(r,a){var l=a.action,c=a.payload,p=r.state;if(a.isTransition){var y=R.T,E={};R.T=E;try{var A=l(p,c),k=R.S;k!==null&&k(E,A),cE(r,a,A)}catch(q){Mg(r,a,q)}finally{R.T=y}}else try{y=l(p,c),cE(r,a,y)}catch(q){Mg(r,a,q)}}function cE(r,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){fE(r,a,c)},function(c){return Mg(r,a,c)}):fE(r,a,l)}function fE(r,a,l){a.status="fulfilled",a.value=l,hE(a),r.state=l,a=r.pending,a!==null&&(l=a.next,l===a?r.pending=null:(l=l.next,a.next=l,uE(r,l)))}function Mg(r,a,l){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,hE(a),a=a.next;while(a!==c)}r.action=null}function hE(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function dE(r,a){return a}function mE(r,a){if(Zt){var l=ce.formState;if(l!==null){t:{var c=Lt;if(Zt){if(bn){e:{for(var p=bn,y=or;p.nodeType!==8;){if(!y){p=null;break e}if(p=Fi(p.nextSibling),p===null){p=null;break e}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){bn=Fi(p.nextSibling),c=p.data==="F!";break t}}Wa(c)}c=!1}c&&(a=l[0])}}return l=Qn(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dE,lastRenderedState:a},l.queue=c,l=NE.bind(null,Lt,c),c.dispatch=l,c=Og(!1),y=Bg.bind(null,Lt,!1,c.queue),c=Qn(),p={state:a,dispatch:null,action:r,pending:null},c.queue=p,l=JN.bind(null,Lt,p,y,l),p.dispatch=l,c.memoizedState=r,[a,l,!1]}function pE(r){var a=ze();return gE(a,re,r)}function gE(r,a,l){a=Pg(r,a,dE)[0],r=td(Fr)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?fc(a):a;var c=ze(),p=c.queue,y=p.dispatch;return l!==c.memoizedState&&(Lt.flags|=2048,_l(9,tO.bind(null,p,l),{destroy:void 0},null)),[a,y,r]}function tO(r,a){r.action=a}function yE(r){var a=ze(),l=re;if(l!==null)return gE(a,l,r);ze(),a=a.memoizedState,l=ze();var c=l.queue.dispatch;return l.memoizedState=r,[a,c,!1]}function _l(r,a,l,c){return r={tag:r,create:a,inst:l,deps:c,next:null},a=Lt.updateQueue,a===null&&(a=Zh(),Lt.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=r.next=r:(c=l.next,l.next=r,r.next=c,a.lastEffect=r),r}function vE(){return ze().memoizedState}function ed(r,a,l,c){var p=Qn();Lt.flags|=r,p.memoizedState=_l(1|a,l,{destroy:void 0},c===void 0?null:c)}function nd(r,a,l,c){var p=ze();c=c===void 0?null:c;var y=p.memoizedState.inst;re!==null&&c!==null&&Ag(c,re.memoizedState.deps)?p.memoizedState=_l(a,l,y,c):(Lt.flags|=r,p.memoizedState=_l(1|a,l,y,c))}function _E(r,a){ed(8390656,8,r,a)}function Vg(r,a){nd(2048,8,r,a)}function bE(r,a){return nd(4,2,r,a)}function TE(r,a){return nd(4,4,r,a)}function EE(r,a){if(typeof a=="function"){r=r();var l=a(r);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function wE(r,a,l){l=l!=null?l.concat([r]):null,nd(4,4,EE.bind(null,a,r),l)}function kg(){}function SE(r,a){var l=ze();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&Ag(a,c[1])?c[0]:(l.memoizedState=[r,a],r)}function AE(r,a){var l=ze();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&Ag(a,c[1]))return c[0];if(c=r(),to){Wn(!0);try{r()}finally{Wn(!1)}}return l.memoizedState=[c,a],c}function Lg(r,a,l){return l===void 0||ks&1073741824?r.memoizedState=a:(r.memoizedState=l,r=Rw(),Lt.lanes|=r,Ks|=r,l)}function xE(r,a,l,c){return ni(l,a)?l:ml.current!==null?(r=Lg(r,l,c),ni(r,a)||(cn=!0),r):ks&42?(r=Rw(),Lt.lanes|=r,Ks|=r,a):(cn=!0,r.memoizedState=l)}function RE(r,a,l,c,p){var y=ht.p;ht.p=y!==0&&8>y?y:8;var E=R.T,A={};R.T=A,Bg(r,!1,a,l);try{var k=p(),q=R.S;if(q!==null&&q(A,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var et=XN(k,c);hc(r,a,et,ai(r))}else hc(r,a,c,ai(r))}catch(rt){hc(r,a,{then:function(){},status:"rejected",reason:rt},ai())}finally{ht.p=y,R.T=E}}function eO(){}function jg(r,a,l,c){if(r.tag!==5)throw Error(i(476));var p=IE(r).queue;RE(r,p,a,It,l===null?eO:function(){return CE(r),l(c)})}function IE(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:It,baseState:It,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:It},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:l},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function CE(r){var a=IE(r).next.queue;hc(r,a,{},ai())}function Ug(){return Cn(Nc)}function DE(){return ze().memoizedState}function PE(){return ze().memoizedState}function nO(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var l=ai();r=Bs(l);var c=zs(a,r,l);c!==null&&(zn(c,a,l),pc(c,a,l)),a={cache:Eg()},r.payload=a;return}a=a.return}}function iO(r,a,l){var c=ai();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},id(r)?OE(a,l):(l=pg(r,a,l,c),l!==null&&(zn(l,r,c),ME(l,a,c)))}function NE(r,a,l){var c=ai();hc(r,a,l,c)}function hc(r,a,l,c){var p={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(id(r))OE(a,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var E=a.lastRenderedState,A=y(E,l);if(p.hasEagerState=!0,p.eagerState=A,ni(A,E))return Bh(r,a,p,0),ce===null&&Uh(),!1}catch{}finally{}if(l=pg(r,a,p,c),l!==null)return zn(l,r,c),ME(l,a,c),!0}return!1}function Bg(r,a,l,c){if(c={lane:2,revertLane:Cy(),action:c,hasEagerState:!1,eagerState:null,next:null},id(r)){if(a)throw Error(i(479))}else a=pg(r,l,c,2),a!==null&&zn(a,r,2)}function id(r){var a=r.alternate;return r===Lt||a!==null&&a===Lt}function OE(r,a){yl=Xh=!0;var l=r.pending;l===null?a.next=a:(a.next=l.next,l.next=a),r.pending=a}function ME(r,a,l){if(l&4194176){var c=a.lanes;c&=r.pendingLanes,l|=c,a.lanes=l,on(r,l)}}var ur={readContext:Cn,use:Jh,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useLayoutEffect:Le,useInsertionEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useSyncExternalStore:Le,useId:Le};ur.useCacheRefresh=Le,ur.useMemoCache=Le,ur.useHostTransitionStatus=Le,ur.useFormState=Le,ur.useActionState=Le,ur.useOptimistic=Le;var eo={readContext:Cn,use:Jh,useCallback:function(r,a){return Qn().memoizedState=[r,a===void 0?null:a],r},useContext:Cn,useEffect:_E,useImperativeHandle:function(r,a,l){l=l!=null?l.concat([r]):null,ed(4194308,4,EE.bind(null,a,r),l)},useLayoutEffect:function(r,a){return ed(4194308,4,r,a)},useInsertionEffect:function(r,a){ed(4,2,r,a)},useMemo:function(r,a){var l=Qn();a=a===void 0?null:a;var c=r();if(to){Wn(!0);try{r()}finally{Wn(!1)}}return l.memoizedState=[c,a],c},useReducer:function(r,a,l){var c=Qn();if(l!==void 0){var p=l(a);if(to){Wn(!0);try{l(a)}finally{Wn(!1)}}}else p=a;return c.memoizedState=c.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},c.queue=r,r=r.dispatch=iO.bind(null,Lt,r),[c.memoizedState,r]},useRef:function(r){var a=Qn();return r={current:r},a.memoizedState=r},useState:function(r){r=Og(r);var a=r.queue,l=NE.bind(null,Lt,a);return a.dispatch=l,[r.memoizedState,l]},useDebugValue:kg,useDeferredValue:function(r,a){var l=Qn();return Lg(l,r,a)},useTransition:function(){var r=Og(!1);return r=RE.bind(null,Lt,r.queue,!0,!1),Qn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,l){var c=Lt,p=Qn();if(Zt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),ce===null)throw Error(i(349));$t&60||iE(c,a,l)}p.memoizedState=l;var y={value:l,getSnapshot:a};return p.queue=y,_E(sE.bind(null,c,y,r),[r]),c.flags|=2048,_l(9,rE.bind(null,c,y,l,a),{destroy:void 0},null),l},useId:function(){var r=Qn(),a=ce.identifierPrefix;if(Zt){var l=Br,c=Ur;l=(c&~(1<<32-gn(c)-1)).toString(32)+l,a=":"+a+"R"+l,l=Wh++,0<l&&(a+="H"+l.toString(32)),a+=":"}else l=WN++,a=":"+a+"r"+l.toString(32)+":";return r.memoizedState=a},useCacheRefresh:function(){return Qn().memoizedState=nO.bind(null,Lt)}};eo.useMemoCache=Dg,eo.useHostTransitionStatus=Ug,eo.useFormState=mE,eo.useActionState=mE,eo.useOptimistic=function(r){var a=Qn();a.memoizedState=a.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Bg.bind(null,Lt,!0,l),l.dispatch=a,[r,a]};var Ls={readContext:Cn,use:Jh,useCallback:SE,useContext:Cn,useEffect:Vg,useImperativeHandle:wE,useInsertionEffect:bE,useLayoutEffect:TE,useMemo:AE,useReducer:td,useRef:vE,useState:function(){return td(Fr)},useDebugValue:kg,useDeferredValue:function(r,a){var l=ze();return xE(l,re.memoizedState,r,a)},useTransition:function(){var r=td(Fr)[0],a=ze().memoizedState;return[typeof r=="boolean"?r:fc(r),a]},useSyncExternalStore:nE,useId:DE};Ls.useCacheRefresh=PE,Ls.useMemoCache=Dg,Ls.useHostTransitionStatus=Ug,Ls.useFormState=pE,Ls.useActionState=pE,Ls.useOptimistic=function(r,a){var l=ze();return lE(l,re,r,a)};var no={readContext:Cn,use:Jh,useCallback:SE,useContext:Cn,useEffect:Vg,useImperativeHandle:wE,useInsertionEffect:bE,useLayoutEffect:TE,useMemo:AE,useReducer:Ng,useRef:vE,useState:function(){return Ng(Fr)},useDebugValue:kg,useDeferredValue:function(r,a){var l=ze();return re===null?Lg(l,r,a):xE(l,re.memoizedState,r,a)},useTransition:function(){var r=Ng(Fr)[0],a=ze().memoizedState;return[typeof r=="boolean"?r:fc(r),a]},useSyncExternalStore:nE,useId:DE};no.useCacheRefresh=PE,no.useMemoCache=Dg,no.useHostTransitionStatus=Ug,no.useFormState=yE,no.useActionState=yE,no.useOptimistic=function(r,a){var l=ze();return re!==null?lE(l,re,r,a):(l.baseState=r,[r,l.queue.dispatch])};function zg(r,a,l,c){a=r.memoizedState,l=l(c,a),l=l==null?a:M({},a,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Fg={isMounted:function(r){return(r=r._reactInternals)?pt(r)===r:!1},enqueueSetState:function(r,a,l){r=r._reactInternals;var c=ai(),p=Bs(c);p.payload=a,l!=null&&(p.callback=l),a=zs(r,p,c),a!==null&&(zn(a,r,c),pc(a,r,c))},enqueueReplaceState:function(r,a,l){r=r._reactInternals;var c=ai(),p=Bs(c);p.tag=1,p.payload=a,l!=null&&(p.callback=l),a=zs(r,p,c),a!==null&&(zn(a,r,c),pc(a,r,c))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var l=ai(),c=Bs(l);c.tag=2,a!=null&&(c.callback=a),a=zs(r,c,l),a!==null&&(zn(a,r,l),pc(a,r,l))}};function VE(r,a,l,c,p,y,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,y,E):a.prototype&&a.prototype.isPureReactComponent?!Ju(l,c)||!Ju(p,y):!0}function kE(r,a,l,c){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==r&&Fg.enqueueReplaceState(a,a.state,null)}function io(r,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(r=r.defaultProps){l===a&&(l=M({},l));for(var p in r)l[p]===void 0&&(l[p]=r[p])}return l}var rd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function LE(r){rd(r)}function jE(r){console.error(r)}function UE(r){rd(r)}function sd(r,a){try{var l=r.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function BE(r,a,l){try{var c=r.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function qg(r,a,l){return l=Bs(l),l.tag=3,l.payload={element:null},l.callback=function(){sd(r,a)},l}function zE(r){return r=Bs(r),r.tag=3,r}function FE(r,a,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=c.value;r.payload=function(){return p(y)},r.callback=function(){BE(a,l,c)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){BE(a,l,c),typeof p!="function"&&($s===null?$s=new Set([this]):$s.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function rO(r,a,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&mc(a,l,p,!0),l=Si.current,l!==null){switch(l.tag){case 13:return lr===null?Sy():l.alternate===null&&Pe===0&&(Pe=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===_g?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),xy(r,c,p)),!1;case 22:return l.flags|=65536,c===_g?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),xy(r,c,p)),!1}throw Error(i(435,l.tag))}return xy(r,c,p),Sy(),!1}if(Zt)return a=Si.current,a!==null?(!(a.flags&65536)&&(a.flags|=256),a.flags|=65536,a.lanes=p,c!==vg&&(r=Error(i(422),{cause:c}),ic(Ti(r,l)))):(c!==vg&&(a=Error(i(423),{cause:c}),ic(Ti(a,l))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,c=Ti(c,l),p=qg(r.stateNode,c,p),ry(r,p),Pe!==4&&(Pe=2)),!1;var y=Error(i(520),{cause:c});if(y=Ti(y,l),wc===null?wc=[y]:wc.push(y),Pe!==4&&(Pe=2),a===null)return!0;c=Ti(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,r=p&-p,l.lanes|=r,r=qg(l.stateNode,c,r),ry(l,r),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&($s===null||!$s.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=zE(p),FE(p,r,l,c),ry(l,p),!1}l=l.return}while(l!==null);return!1}var qE=Error(i(461)),cn=!1;function Tn(r,a,l,c){a.child=r===null?YT(a,null,l,c):Za(a,r.child,l,c)}function HE(r,a,l,c,p){l=l.render;var y=a.ref;if("ref"in c){var E={};for(var A in c)A!=="ref"&&(E[A]=c[A])}else E=c;return so(a),c=xg(r,a,l,E,y,p),A=Rg(),r!==null&&!cn?(Ig(r,a,p),qr(r,a,p)):(Zt&&A&&gg(a),a.flags|=1,Tn(r,a,c,p),a.child)}function GE(r,a,l,c,p){if(r===null){var y=l.type;return typeof y=="function"&&!hy(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,KE(r,a,y,c,p)):(r=cd(l.type,null,c,a,a.mode,p),r.ref=a.ref,r.return=a,a.child=r)}if(y=r.child,!Zg(r,p)){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:Ju,l(E,c)&&r.ref===a.ref)return qr(r,a,p)}return a.flags|=1,r=Gs(y,c),r.ref=a.ref,r.return=a,a.child=r}function KE(r,a,l,c,p){if(r!==null){var y=r.memoizedProps;if(Ju(y,c)&&r.ref===a.ref)if(cn=!1,a.pendingProps=c=y,Zg(r,p))r.flags&131072&&(cn=!0);else return a.lanes=r.lanes,qr(r,a,p)}return Hg(r,a,l,c,p)}function $E(r,a,l){var c=a.pendingProps,p=c.children,y=(a.stateNode._pendingVisibility&2)!==0,E=r!==null?r.memoizedState:null;if(dc(r,a),c.mode==="hidden"||y){if(a.flags&128){if(c=E!==null?E.baseLanes|l:l,r!==null){for(p=a.child=r.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;a.childLanes=y&~c}else a.childLanes=0,a.child=null;return YE(r,a,c,l)}if(l&536870912)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Qh(a,E!==null?E.cachePool:null),E!==null?QT(a,E):bg(),XT(a);else return a.lanes=a.childLanes=536870912,YE(r,a,E!==null?E.baseLanes|l:l,l)}else E!==null?(Qh(a,E.cachePool),QT(a,E),Vs(),a.memoizedState=null):(r!==null&&Qh(a,null),bg(),Vs());return Tn(r,a,p,l),a.child}function YE(r,a,l,c){var p=Sg();return p=p===null?null:{parent:tn._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},r!==null&&Qh(a,null),bg(),XT(a),r!==null&&mc(r,a,c,!0),null}function dc(r,a){var l=a.ref;if(l===null)r!==null&&r.ref!==null&&(a.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(r===null||r.ref!==l)&&(a.flags|=2097664)}}function Hg(r,a,l,c,p){return so(a),l=xg(r,a,l,c,void 0,p),c=Rg(),r!==null&&!cn?(Ig(r,a,p),qr(r,a,p)):(Zt&&c&&gg(a),a.flags|=1,Tn(r,a,l,p),a.child)}function QE(r,a,l,c,p,y){return so(a),a.updateQueue=null,l=eE(a,c,l,p),tE(r),c=Rg(),r!==null&&!cn?(Ig(r,a,y),qr(r,a,y)):(Zt&&c&&gg(a),a.flags|=1,Tn(r,a,l,y),a.child)}function XE(r,a,l,c,p){if(so(a),a.stateNode===null){var y=cl,E=l.contextType;typeof E=="object"&&E!==null&&(y=Cn(E)),y=new l(c,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Fg,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=c,y.state=a.memoizedState,y.refs={},ny(a),E=l.contextType,y.context=typeof E=="object"&&E!==null?Cn(E):cl,y.state=a.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(zg(a,l,E,c),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&Fg.enqueueReplaceState(y,y.state,null),yc(a,c,y,p),gc(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(r===null){y=a.stateNode;var A=a.memoizedProps,k=io(l,A);y.props=k;var q=y.context,et=l.contextType;E=cl,typeof et=="object"&&et!==null&&(E=Cn(et));var rt=l.getDerivedStateFromProps;et=typeof rt=="function"||typeof y.getSnapshotBeforeUpdate=="function",A=a.pendingProps!==A,et||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A||q!==E)&&kE(a,y,c,E),Us=!1;var X=a.memoizedState;y.state=X,yc(a,c,y,p),gc(),q=a.memoizedState,A||X!==q||Us?(typeof rt=="function"&&(zg(a,l,rt,c),q=a.memoizedState),(k=Us||VE(a,l,k,c,X,q,E))?(et||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=q),y.props=c,y.state=q,y.context=E,c=k):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{y=a.stateNode,iy(r,a),E=a.memoizedProps,et=io(l,E),y.props=et,rt=a.pendingProps,X=y.context,q=l.contextType,k=cl,typeof q=="object"&&q!==null&&(k=Cn(q)),A=l.getDerivedStateFromProps,(q=typeof A=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==rt||X!==k)&&kE(a,y,c,k),Us=!1,X=a.memoizedState,y.state=X,yc(a,c,y,p),gc();var tt=a.memoizedState;E!==rt||X!==tt||Us||r!==null&&r.dependencies!==null&&ad(r.dependencies)?(typeof A=="function"&&(zg(a,l,A,c),tt=a.memoizedState),(et=Us||VE(a,l,et,c,X,tt,k)||r!==null&&r.dependencies!==null&&ad(r.dependencies))?(q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,tt,k),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,tt,k)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===r.memoizedProps&&X===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&X===r.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=tt),y.props=c,y.state=tt,y.context=k,c=et):(typeof y.componentDidUpdate!="function"||E===r.memoizedProps&&X===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&X===r.memoizedState||(a.flags|=1024),c=!1)}return y=c,dc(r,a),c=(a.flags&128)!==0,y||c?(y=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,r!==null&&c?(a.child=Za(a,r.child,null,p),a.child=Za(a,null,l,p)):Tn(r,a,l,p),a.memoizedState=y.state,r=a.child):r=qr(r,a,p),r}function WE(r,a,l,c){return nc(),a.flags|=256,Tn(r,a,l,c),a.child}var Gg={dehydrated:null,treeContext:null,retryLane:0};function Kg(r){return{baseLanes:r,cachePool:JT()}}function $g(r,a,l){return r=r!==null?r.childLanes&~l:0,a&&(r|=Ii),r}function ZE(r,a,l){var c=a.pendingProps,p=!1,y=(a.flags&128)!==0,E;if((E=y)||(E=r!==null&&r.memoizedState===null?!1:(Je.current&2)!==0),E&&(p=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,r===null){if(Zt){if(p?Ms(a):Vs(),Zt){var A=bn,k;if(k=A){t:{for(k=A,A=or;k.nodeType!==8;){if(!A){A=null;break t}if(k=Fi(k.nextSibling),k===null){A=null;break t}}A=k}A!==null?(a.memoizedState={dehydrated:A,treeContext:Qa!==null?{id:Ur,overflow:Br}:null,retryLane:536870912},k=Ri(18,null,null,0),k.stateNode=A,k.return=a,a.child=k,Bn=a,bn=null,k=!0):k=!1}k||Wa(a)}if(A=a.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return A.data==="$!"?a.lanes=16:a.lanes=536870912,null;zr(a)}return A=c.children,c=c.fallback,p?(Vs(),p=a.mode,A=Qg({mode:"hidden",children:A},p),c=oo(c,p,l,null),A.return=a,c.return=a,A.sibling=c,a.child=A,p=a.child,p.memoizedState=Kg(l),p.childLanes=$g(r,E,l),a.memoizedState=Gg,c):(Ms(a),Yg(a,A))}if(k=r.memoizedState,k!==null&&(A=k.dehydrated,A!==null)){if(y)a.flags&256?(Ms(a),a.flags&=-257,a=Xg(r,a,l)):a.memoizedState!==null?(Vs(),a.child=r.child,a.flags|=128,a=null):(Vs(),p=c.fallback,A=a.mode,c=Qg({mode:"visible",children:c.children},A),p=oo(p,A,l,null),p.flags|=2,c.return=a,p.return=a,c.sibling=p,a.child=c,Za(a,r.child,null,l),c=a.child,c.memoizedState=Kg(l),c.childLanes=$g(r,E,l),a.memoizedState=Gg,a=p);else if(Ms(a),A.data==="$!"){if(E=A.nextSibling&&A.nextSibling.dataset,E)var q=E.dgst;E=q,c=Error(i(419)),c.stack="",c.digest=E,ic({value:c,source:null,stack:null}),a=Xg(r,a,l)}else if(cn||mc(r,a,l,!1),E=(l&r.childLanes)!==0,cn||E){if(E=ce,E!==null){if(c=l&-l,c&42)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=c&(E.suspendedLanes|l)?0:c,c!==0&&c!==k.retryLane)throw k.retryLane=c,Os(r,c),zn(E,r,c),qE}A.data==="$?"||Sy(),a=Xg(r,a,l)}else A.data==="$?"?(a.flags|=128,a.child=r.child,a=_O.bind(null,r),A._reactRetry=a,a=null):(r=k.treeContext,bn=Fi(A.nextSibling),Bn=a,Zt=!0,Bi=null,or=!1,r!==null&&(Ei[wi++]=Ur,Ei[wi++]=Br,Ei[wi++]=Qa,Ur=r.id,Br=r.overflow,Qa=a),a=Yg(a,c.children),a.flags|=4096);return a}return p?(Vs(),p=c.fallback,A=a.mode,k=r.child,q=k.sibling,c=Gs(k,{mode:"hidden",children:c.children}),c.subtreeFlags=k.subtreeFlags&31457280,q!==null?p=Gs(q,p):(p=oo(p,A,l,null),p.flags|=2),p.return=a,c.return=a,c.sibling=p,a.child=c,c=p,p=a.child,A=r.child.memoizedState,A===null?A=Kg(l):(k=A.cachePool,k!==null?(q=tn._currentValue,k=k.parent!==q?{parent:q,pool:q}:k):k=JT(),A={baseLanes:A.baseLanes|l,cachePool:k}),p.memoizedState=A,p.childLanes=$g(r,E,l),a.memoizedState=Gg,c):(Ms(a),l=r.child,r=l.sibling,l=Gs(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,r!==null&&(E=a.deletions,E===null?(a.deletions=[r],a.flags|=16):E.push(r)),a.child=l,a.memoizedState=null,l)}function Yg(r,a){return a=Qg({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Qg(r,a){return Sw(r,a,0,null)}function Xg(r,a,l){return Za(a,r.child,null,l),r=Yg(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function JE(r,a,l){r.lanes|=a;var c=r.alternate;c!==null&&(c.lanes|=a),ty(r.return,a,l)}function Wg(r,a,l,c,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=p)}function tw(r,a,l){var c=a.pendingProps,p=c.revealOrder,y=c.tail;if(Tn(r,a,c.children,l),c=Je.current,c&2)c=c&1|2,a.flags|=128;else{if(r!==null&&r.flags&128)t:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&JE(r,l,a);else if(r.tag===19)JE(r,l,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break t;for(;r.sibling===null;){if(r.return===null||r.return===a)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(bt(Je,c),p){case"forwards":for(l=a.child,p=null;l!==null;)r=l.alternate,r!==null&&Yh(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=a.child,a.child=null):(p=l.sibling,l.sibling=null),Wg(a,!1,p,l,y);break;case"backwards":for(l=null,p=a.child,a.child=null;p!==null;){if(r=p.alternate,r!==null&&Yh(r)===null){a.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}Wg(a,!0,l,null,y);break;case"together":Wg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function qr(r,a,l){if(r!==null&&(a.dependencies=r.dependencies),Ks|=a.lanes,!(l&a.childLanes))if(r!==null){if(mc(r,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,l=Gs(r,r.pendingProps),a.child=l,l.return=a;r.sibling!==null;)r=r.sibling,l=l.sibling=Gs(r,r.pendingProps),l.return=a;l.sibling=null}return a.child}function Zg(r,a){return r.lanes&a?!0:(r=r.dependencies,!!(r!==null&&ad(r)))}function sO(r,a,l){switch(a.tag){case 3:Ln(a,a.stateNode.containerInfo),js(a,tn,r.memoizedState.cache),nc();break;case 27:case 5:bs(a);break;case 4:Ln(a,a.stateNode.containerInfo);break;case 10:js(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Ms(a),a.flags|=128,null):l&a.child.childLanes?ZE(r,a,l):(Ms(a),r=qr(r,a,l),r!==null?r.sibling:null);Ms(a);break;case 19:var p=(r.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(mc(r,a,l,!1),c=(l&a.childLanes)!==0),p){if(c)return tw(r,a,l);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),bt(Je,Je.current),c)break;return null;case 22:case 23:return a.lanes=0,$E(r,a,l);case 24:js(a,tn,r.memoizedState.cache)}return qr(r,a,l)}function ew(r,a,l){if(r!==null)if(r.memoizedProps!==a.pendingProps)cn=!0;else{if(!Zg(r,l)&&!(a.flags&128))return cn=!1,sO(r,a,l);cn=!!(r.flags&131072)}else cn=!1,Zt&&a.flags&1048576&&UT(a,qh,a.index);switch(a.lanes=0,a.tag){case 16:t:{r=a.pendingProps;var c=a.elementType,p=c._init;if(c=p(c._payload),a.type=c,typeof c=="function")hy(c)?(r=io(c,r),a.tag=1,a=XE(null,a,c,r,l)):(a.tag=0,a=Hg(null,a,c,r,l));else{if(c!=null){if(p=c.$$typeof,p===x){a.tag=11,a=HE(null,a,c,r,l);break t}else if(p===V){a.tag=14,a=GE(null,a,c,r,l);break t}}throw a=S(c)||c,Error(i(306,a,""))}}return a;case 0:return Hg(r,a,a.type,a.pendingProps,l);case 1:return c=a.type,p=io(c,a.pendingProps),XE(r,a,c,p,l);case 3:t:{if(Ln(a,a.stateNode.containerInfo),r===null)throw Error(i(387));var y=a.pendingProps;p=a.memoizedState,c=p.element,iy(r,a),yc(a,y,null,l);var E=a.memoizedState;if(y=E.cache,js(a,tn,y),y!==p.cache&&ey(a,[tn],l,!0),gc(),y=E.element,p.isDehydrated)if(p={element:y,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=WE(r,a,y,l);break t}else if(y!==c){c=Ti(Error(i(424)),a),ic(c),a=WE(r,a,y,l);break t}else for(bn=Fi(a.stateNode.containerInfo.firstChild),Bn=a,Zt=!0,Bi=null,or=!0,l=YT(a,null,y,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(nc(),y===c){a=qr(r,a,l);break t}Tn(r,a,y,l)}a=a.child}return a;case 26:return dc(r,a),r===null?(l=rS(a.type,null,a.pendingProps,null))?a.memoizedState=l:Zt||(l=a.type,r=a.pendingProps,c=Ed(Ge.current).createElement(l),c[Ie]=a,c[Xe]=r,En(c,l,r),Te(c),a.stateNode=c):a.memoizedState=rS(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return bs(a),r===null&&Zt&&(c=a.stateNode=eS(a.type,a.pendingProps,Ge.current),Bn=a,or=!0,bn=Fi(c.firstChild)),c=a.pendingProps.children,r!==null||Zt?Tn(r,a,c,l):a.child=Za(a,null,c,l),dc(r,a),a.child;case 5:return r===null&&Zt&&((p=c=bn)&&(c=VO(c,a.type,a.pendingProps,or),c!==null?(a.stateNode=c,Bn=a,bn=Fi(c.firstChild),or=!1,p=!0):p=!1),p||Wa(a)),bs(a),p=a.type,y=a.pendingProps,E=r!==null?r.memoizedProps:null,c=y.children,jy(p,y)?c=null:E!==null&&jy(p,E)&&(a.flags|=32),a.memoizedState!==null&&(p=xg(r,a,ZN,null,null,l),Nc._currentValue=p),dc(r,a),Tn(r,a,c,l),a.child;case 6:return r===null&&Zt&&((r=l=bn)&&(l=kO(l,a.pendingProps,or),l!==null?(a.stateNode=l,Bn=a,bn=null,r=!0):r=!1),r||Wa(a)),null;case 13:return ZE(r,a,l);case 4:return Ln(a,a.stateNode.containerInfo),c=a.pendingProps,r===null?a.child=Za(a,null,c,l):Tn(r,a,c,l),a.child;case 11:return HE(r,a,a.type,a.pendingProps,l);case 7:return Tn(r,a,a.pendingProps,l),a.child;case 8:return Tn(r,a,a.pendingProps.children,l),a.child;case 12:return Tn(r,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,js(a,a.type,c.value),Tn(r,a,c.children,l),a.child;case 9:return p=a.type._context,c=a.pendingProps.children,so(a),p=Cn(p),c=c(p),a.flags|=1,Tn(r,a,c,l),a.child;case 14:return GE(r,a,a.type,a.pendingProps,l);case 15:return KE(r,a,a.type,a.pendingProps,l);case 19:return tw(r,a,l);case 22:return $E(r,a,l);case 24:return so(a),c=Cn(tn),r===null?(p=Sg(),p===null&&(p=ce,y=Eg(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),a.memoizedState={parent:c,cache:p},ny(a),js(a,tn,p)):(r.lanes&l&&(iy(r,a),yc(a,null,null,l),gc()),p=r.memoizedState,y=a.memoizedState,p.parent!==c?(p={parent:c,cache:c},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),js(a,tn,c)):(c=y.cache,js(a,tn,c),c!==p.cache&&ey(a,[tn],l,!0))),Tn(r,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}var Jg=Mt(null),ro=null,Hr=null;function js(r,a,l){bt(Jg,a._currentValue),a._currentValue=l}function Gr(r){r._currentValue=Jg.current,Xt(Jg)}function ty(r,a,l){for(;r!==null;){var c=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),r===l)break;r=r.return}}function ey(r,a,l,c){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var y=p.dependencies;if(y!==null){var E=p.child;y=y.firstContext;t:for(;y!==null;){var A=y;y=p;for(var k=0;k<a.length;k++)if(A.context===a[k]){y.lanes|=l,A=y.alternate,A!==null&&(A.lanes|=l),ty(y.return,l,r),c||(E=null);break t}y=A.next}}else if(p.tag===18){if(E=p.return,E===null)throw Error(i(341));E.lanes|=l,y=E.alternate,y!==null&&(y.lanes|=l),ty(E,l,r),E=null}else E=p.child;if(E!==null)E.return=p;else for(E=p;E!==null;){if(E===r){E=null;break}if(p=E.sibling,p!==null){p.return=E.return,E=p;break}E=E.return}p=E}}function mc(r,a,l,c){r=null;for(var p=a,y=!1;p!==null;){if(!y){if(p.flags&524288)y=!0;else if(p.flags&262144)break}if(p.tag===10){var E=p.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var A=p.type;ni(p.pendingProps.value,E.value)||(r!==null?r.push(A):r=[A])}}else if(p===sn.current){if(E=p.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(Nc):r=[Nc])}p=p.return}r!==null&&ey(a,r,l,c),a.flags|=262144}function ad(r){for(r=r.firstContext;r!==null;){if(!ni(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function so(r){ro=r,Hr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Cn(r){return nw(ro,r)}function od(r,a){return ro===null&&so(r),nw(r,a)}function nw(r,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Hr===null){if(r===null)throw Error(i(308));Hr=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Hr=Hr.next=a;return l}var Us=!1;function ny(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function iy(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Bs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function zs(r,a,l){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,we&2){var p=c.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),c.pending=a,a=zh(r),LT(r,null,l),a}return Bh(r,c,a,l),zh(r)}function pc(r,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194176)!==0)){var c=a.lanes;c&=r.pendingLanes,l|=c,a.lanes=l,on(r,l)}}function ry(r,a){var l=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?p=y=a:y=y.next=a}else p=y=a;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=a:r.next=a,l.lastBaseUpdate=a}var sy=!1;function gc(){if(sy){var r=gl;if(r!==null)throw r}}function yc(r,a,l,c){sy=!1;var p=r.updateQueue;Us=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var k=A,q=k.next;k.next=null,E===null?y=q:E.next=q,E=k;var et=r.alternate;et!==null&&(et=et.updateQueue,A=et.lastBaseUpdate,A!==E&&(A===null?et.firstBaseUpdate=q:A.next=q,et.lastBaseUpdate=k))}if(y!==null){var rt=p.baseState;E=0,et=q=k=null,A=y;do{var X=A.lane&-536870913,tt=X!==A.lane;if(tt?($t&X)===X:(c&X)===X){X!==0&&X===pl&&(sy=!0),et!==null&&(et=et.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var _t=r,Nt=A;X=a;var Ne=l;switch(Nt.tag){case 1:if(_t=Nt.payload,typeof _t=="function"){rt=_t.call(Ne,rt,X);break t}rt=_t;break t;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=Nt.payload,X=typeof _t=="function"?_t.call(Ne,rt,X):_t,X==null)break t;rt=M({},rt,X);break t;case 2:Us=!0}}X=A.callback,X!==null&&(r.flags|=64,tt&&(r.flags|=8192),tt=p.callbacks,tt===null?p.callbacks=[X]:tt.push(X))}else tt={lane:X,tag:A.tag,payload:A.payload,callback:A.callback,next:null},et===null?(q=et=tt,k=rt):et=et.next=tt,E|=X;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;tt=A,A=tt.next,tt.next=null,p.lastBaseUpdate=tt,p.shared.pending=null}}while(!0);et===null&&(k=rt),p.baseState=k,p.firstBaseUpdate=q,p.lastBaseUpdate=et,y===null&&(p.shared.lanes=0),Ks|=E,r.lanes=E,r.memoizedState=rt}}function iw(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function rw(r,a){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)iw(l[r],a)}function vc(r,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&r)===r){c=void 0;var y=l.create,E=l.inst;c=y(),E.destroy=c}l=l.next}while(l!==p)}}catch(A){le(a,a.return,A)}}function Fs(r,a,l){try{var c=a.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var y=p.next;c=y;do{if((c.tag&r)===r){var E=c.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,p=a;var k=l;try{A()}catch(q){le(p,k,q)}}}c=c.next}while(c!==y)}}catch(q){le(a,a.return,q)}}function sw(r){var a=r.updateQueue;if(a!==null){var l=r.stateNode;try{rw(a,l)}catch(c){le(r,r.return,c)}}}function aw(r,a,l){l.props=io(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(c){le(r,a,c)}}function ao(r,a){try{var l=r.ref;if(l!==null){var c=r.stateNode;switch(r.tag){case 26:case 27:case 5:var p=c;break;default:p=c}typeof l=="function"?r.refCleanup=l(p):l.current=p}}catch(y){le(r,a,y)}}function ii(r,a){var l=r.ref,c=r.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){le(r,a,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){le(r,a,p)}else l.current=null}function ow(r){var a=r.type,l=r.memoizedProps,c=r.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break t;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){le(r,r.return,p)}}function lw(r,a,l){try{var c=r.stateNode;DO(c,r.type,l,a),c[Xe]=a}catch(p){le(r,r.return,p)}}function uw(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function ay(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||uw(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function oy(r,a,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,a?l.nodeType===8?l.parentNode.insertBefore(r,a):l.insertBefore(r,a):(l.nodeType===8?(a=l.parentNode,a.insertBefore(r,l)):(a=l,a.appendChild(r)),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Td));else if(c!==4&&c!==27&&(r=r.child,r!==null))for(oy(r,a,l),r=r.sibling;r!==null;)oy(r,a,l),r=r.sibling}function ld(r,a,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,a?l.insertBefore(r,a):l.appendChild(r);else if(c!==4&&c!==27&&(r=r.child,r!==null))for(ld(r,a,l),r=r.sibling;r!==null;)ld(r,a,l),r=r.sibling}var Kr=!1,De=!1,ly=!1,cw=typeof WeakSet=="function"?WeakSet:Set,fn=null,fw=!1;function aO(r,a){if(r=r.containerInfo,ky=Id,r=IT(r),cg(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else t:{l=(l=r.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break t}var E=0,A=-1,k=-1,q=0,et=0,rt=r,X=null;e:for(;;){for(var tt;rt!==l||p!==0&&rt.nodeType!==3||(A=E+p),rt!==y||c!==0&&rt.nodeType!==3||(k=E+c),rt.nodeType===3&&(E+=rt.nodeValue.length),(tt=rt.firstChild)!==null;)X=rt,rt=tt;for(;;){if(rt===r)break e;if(X===l&&++q===p&&(A=E),X===y&&++et===c&&(k=E),(tt=rt.nextSibling)!==null)break;rt=X,X=rt.parentNode}rt=tt}l=A===-1||k===-1?null:{start:A,end:k}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ly={focusedElem:r,selectionRange:l},Id=!1,fn=a;fn!==null;)if(a=fn,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,fn=r;else for(;fn!==null;){switch(a=fn,y=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if(r&1024&&y!==null){r=void 0,l=a,p=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var _t=io(l.type,p,l.elementType===l.type);r=c.getSnapshotBeforeUpdate(_t,y),c.__reactInternalSnapshotBeforeUpdate=r}catch(Nt){le(l,l.return,Nt)}}break;case 3:if(r&1024){if(r=a.stateNode.containerInfo,l=r.nodeType,l===9)zy(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":zy(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(r&1024)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,fn=r;break}fn=a.return}return _t=fw,fw=!1,_t}function hw(r,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Yr(r,l),c&4&&vc(5,l);break;case 1:if(Yr(r,l),c&4)if(r=l.stateNode,a===null)try{r.componentDidMount()}catch(A){le(l,l.return,A)}else{var p=io(l.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(p,a,r.__reactInternalSnapshotBeforeUpdate)}catch(A){le(l,l.return,A)}}c&64&&sw(l),c&512&&ao(l,l.return);break;case 3:if(Yr(r,l),c&64&&(c=l.updateQueue,c!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{rw(c,r)}catch(A){le(l,l.return,A)}}break;case 26:Yr(r,l),c&512&&ao(l,l.return);break;case 27:case 5:Yr(r,l),a===null&&c&4&&ow(l),c&512&&ao(l,l.return);break;case 12:Yr(r,l);break;case 13:Yr(r,l),c&4&&pw(r,l);break;case 22:if(p=l.memoizedState!==null||Kr,!p){a=a!==null&&a.memoizedState!==null||De;var y=Kr,E=De;Kr=p,(De=a)&&!E?qs(r,l,(l.subtreeFlags&8772)!==0):Yr(r,l),Kr=y,De=E}c&512&&(l.memoizedProps.mode==="manual"?ao(l,l.return):ii(l,l.return));break;default:Yr(r,l)}}function dw(r){var a=r.alternate;a!==null&&(r.alternate=null,dw(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&ka(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Fe=null,ri=!1;function $r(r,a,l){for(l=l.child;l!==null;)mw(r,a,l),l=l.sibling}function mw(r,a,l){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Xi,l)}catch{}switch(l.tag){case 26:De||ii(l,a),$r(r,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:De||ii(l,a);var c=Fe,p=ri;for(Fe=l.stateNode,$r(r,a,l),l=l.stateNode,a=l.attributes;a.length;)l.removeAttributeNode(a[0]);ka(l),Fe=c,ri=p;break;case 5:De||ii(l,a);case 6:p=Fe;var y=ri;if(Fe=null,$r(r,a,l),Fe=p,ri=y,Fe!==null)if(ri)try{r=Fe,c=l.stateNode,r.nodeType===8?r.parentNode.removeChild(c):r.removeChild(c)}catch(E){le(l,a,E)}else try{Fe.removeChild(l.stateNode)}catch(E){le(l,a,E)}break;case 18:Fe!==null&&(ri?(a=Fe,l=l.stateNode,a.nodeType===8?By(a.parentNode,l):a.nodeType===1&&By(a,l),kc(a)):By(Fe,l.stateNode));break;case 4:c=Fe,p=ri,Fe=l.stateNode.containerInfo,ri=!0,$r(r,a,l),Fe=c,ri=p;break;case 0:case 11:case 14:case 15:De||Fs(2,l,a),De||Fs(4,l,a),$r(r,a,l);break;case 1:De||(ii(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&aw(l,a,c)),$r(r,a,l);break;case 21:$r(r,a,l);break;case 22:De||ii(l,a),De=(c=De)||l.memoizedState!==null,$r(r,a,l),De=c;break;default:$r(r,a,l)}}function pw(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{kc(r)}catch(l){le(a,a.return,l)}}function oO(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new cw),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new cw),a;default:throw Error(i(435,r.tag))}}function uy(r,a){var l=oO(r);a.forEach(function(c){var p=bO.bind(null,r,c);l.has(c)||(l.add(c),c.then(p,p))})}function Ai(r,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],y=r,E=a,A=E;t:for(;A!==null;){switch(A.tag){case 27:case 5:Fe=A.stateNode,ri=!1;break t;case 3:Fe=A.stateNode.containerInfo,ri=!0;break t;case 4:Fe=A.stateNode.containerInfo,ri=!0;break t}A=A.return}if(Fe===null)throw Error(i(160));mw(y,E,p),Fe=null,ri=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)gw(a,r),a=a.sibling}var zi=null;function gw(r,a){var l=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ai(a,r),xi(r),c&4&&(Fs(3,r,r.return),vc(3,r),Fs(5,r,r.return));break;case 1:Ai(a,r),xi(r),c&512&&(De||l===null||ii(l,l.return)),c&64&&Kr&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=zi;if(Ai(a,r),xi(r),c&512&&(De||l===null||ii(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=r.memoizedState,l===null)if(c===null)if(r.stateNode===null){t:{c=r.type,l=r.memoizedProps,p=p.ownerDocument||p;e:switch(c){case"title":y=p.getElementsByTagName("title")[0],(!y||y[As]||y[Ie]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(c),p.head.insertBefore(y,p.querySelector("head > title"))),En(y,c,l),y[Ie]=r,Te(y),c=y;break t;case"link":var E=oS("link","href",p).get(c+(l.href||""));if(E){for(var A=0;A<E.length;A++)if(y=E[A],y.getAttribute("href")===(l.href==null?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(A,1);break e}}y=p.createElement(c),En(y,c,l),p.head.appendChild(y);break;case"meta":if(E=oS("meta","content",p).get(c+(l.content||""))){for(A=0;A<E.length;A++)if(y=E[A],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(A,1);break e}}y=p.createElement(c),En(y,c,l),p.head.appendChild(y);break;default:throw Error(i(468,c))}y[Ie]=r,Te(y),c=y}r.stateNode=c}else lS(p,r.type,r.stateNode);else r.stateNode=aS(p,c,r.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?lS(p,r.type,r.stateNode):aS(p,c,r.memoizedProps)):c===null&&r.stateNode!==null&&lw(r,r.memoizedProps,l.memoizedProps)}break;case 27:if(c&4&&r.alternate===null){p=r.stateNode,y=r.memoizedProps;try{for(var k=p.firstChild;k;){var q=k.nextSibling,et=k.nodeName;k[As]||et==="HEAD"||et==="BODY"||et==="SCRIPT"||et==="STYLE"||et==="LINK"&&k.rel.toLowerCase()==="stylesheet"||p.removeChild(k),k=q}for(var rt=r.type,X=p.attributes;X.length;)p.removeAttributeNode(X[0]);En(p,rt,y),p[Ie]=r,p[Xe]=y}catch(_t){le(r,r.return,_t)}}case 5:if(Ai(a,r),xi(r),c&512&&(De||l===null||ii(l,l.return)),r.flags&32){p=r.stateNode;try{gi(p,"")}catch(_t){le(r,r.return,_t)}}c&4&&r.stateNode!=null&&(p=r.memoizedProps,lw(r,p,l!==null?l.memoizedProps:p)),c&1024&&(ly=!0);break;case 6:if(Ai(a,r),xi(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,l=r.stateNode;try{l.nodeValue=c}catch(_t){le(r,r.return,_t)}}break;case 3:if(Ad=null,p=zi,zi=wd(a.containerInfo),Ai(a,r),zi=p,xi(r),c&4&&l!==null&&l.memoizedState.isDehydrated)try{kc(a.containerInfo)}catch(_t){le(r,r.return,_t)}ly&&(ly=!1,yw(r));break;case 4:c=zi,zi=wd(r.stateNode.containerInfo),Ai(a,r),xi(r),zi=c;break;case 12:Ai(a,r),xi(r);break;case 13:Ai(a,r),xi(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(vy=pn()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,uy(r,c)));break;case 22:if(c&512&&(De||l===null||ii(l,l.return)),k=r.memoizedState!==null,q=l!==null&&l.memoizedState!==null,et=Kr,rt=De,Kr=et||k,De=rt||q,Ai(a,r),De=rt,Kr=et,xi(r),a=r.stateNode,a._current=r,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,c&8192&&(a._visibility=k?a._visibility&-2:a._visibility|1,k&&(a=Kr||De,l===null||q||a||bl(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))t:for(l=null,a=r;;){if(a.tag===5||a.tag===26||a.tag===27){if(l===null){q=l=a;try{if(p=q.stateNode,k)y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=q.stateNode,A=q.memoizedProps.style;var tt=A!=null&&A.hasOwnProperty("display")?A.display:null;E.style.display=tt==null||typeof tt=="boolean"?"":(""+tt).trim()}}catch(_t){le(q,q.return,_t)}}}else if(a.tag===6){if(l===null){q=a;try{q.stateNode.nodeValue=k?"":q.memoizedProps}catch(_t){le(q,q.return,_t)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break t;for(;a.sibling===null;){if(a.return===null||a.return===r)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=r.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,uy(r,l))));break;case 19:Ai(a,r),xi(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,uy(r,c)));break;case 21:break;default:Ai(a,r),xi(r)}}function xi(r){var a=r.flags;if(a&2){try{if(r.tag!==27){t:{for(var l=r.return;l!==null;){if(uw(l)){var c=l;break t}l=l.return}throw Error(i(160))}switch(c.tag){case 27:var p=c.stateNode,y=ay(r);ld(r,y,p);break;case 5:var E=c.stateNode;c.flags&32&&(gi(E,""),c.flags&=-33);var A=ay(r);ld(r,A,E);break;case 3:case 4:var k=c.stateNode.containerInfo,q=ay(r);oy(r,q,k);break;default:throw Error(i(161))}}}catch(et){le(r,r.return,et)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function yw(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;yw(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function Yr(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)hw(r,a.alternate,a),a=a.sibling}function bl(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:Fs(4,a,a.return),bl(a);break;case 1:ii(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&aw(a,a.return,l),bl(a);break;case 26:case 27:case 5:ii(a,a.return),bl(a);break;case 22:ii(a,a.return),a.memoizedState===null&&bl(a);break;default:bl(a)}r=r.sibling}}function qs(r,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,p=r,y=a,E=y.flags;switch(y.tag){case 0:case 11:case 15:qs(p,y,l),vc(4,y);break;case 1:if(qs(p,y,l),c=y,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(q){le(c,c.return,q)}if(c=y,p=c.updateQueue,p!==null){var A=c.stateNode;try{var k=p.shared.hiddenCallbacks;if(k!==null)for(p.shared.hiddenCallbacks=null,p=0;p<k.length;p++)iw(k[p],A)}catch(q){le(c,c.return,q)}}l&&E&64&&sw(y),ao(y,y.return);break;case 26:case 27:case 5:qs(p,y,l),l&&c===null&&E&4&&ow(y),ao(y,y.return);break;case 12:qs(p,y,l);break;case 13:qs(p,y,l),l&&E&4&&pw(p,y);break;case 22:y.memoizedState===null&&qs(p,y,l),ao(y,y.return);break;default:qs(p,y,l)}a=a.sibling}}function cy(r,a){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&lc(l))}function fy(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&lc(r))}function Hs(r,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)vw(r,a,l,c),a=a.sibling}function vw(r,a,l,c){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Hs(r,a,l,c),p&2048&&vc(9,a);break;case 3:Hs(r,a,l,c),p&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&lc(r)));break;case 12:if(p&2048){Hs(r,a,l,c),r=a.stateNode;try{var y=a.memoizedProps,E=y.id,A=y.onPostCommit;typeof A=="function"&&A(E,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(k){le(a,a.return,k)}}else Hs(r,a,l,c);break;case 23:break;case 22:y=a.stateNode,a.memoizedState!==null?y._visibility&4?Hs(r,a,l,c):_c(r,a):y._visibility&4?Hs(r,a,l,c):(y._visibility|=4,Tl(r,a,l,c,(a.subtreeFlags&10256)!==0)),p&2048&&cy(a.alternate,a);break;case 24:Hs(r,a,l,c),p&2048&&fy(a.alternate,a);break;default:Hs(r,a,l,c)}}function Tl(r,a,l,c,p){for(p=p&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=r,E=a,A=l,k=c,q=E.flags;switch(E.tag){case 0:case 11:case 15:Tl(y,E,A,k,p),vc(8,E);break;case 23:break;case 22:var et=E.stateNode;E.memoizedState!==null?et._visibility&4?Tl(y,E,A,k,p):_c(y,E):(et._visibility|=4,Tl(y,E,A,k,p)),p&&q&2048&&cy(E.alternate,E);break;case 24:Tl(y,E,A,k,p),p&&q&2048&&fy(E.alternate,E);break;default:Tl(y,E,A,k,p)}a=a.sibling}}function _c(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=r,c=a,p=c.flags;switch(c.tag){case 22:_c(l,c),p&2048&&cy(c.alternate,c);break;case 24:_c(l,c),p&2048&&fy(c.alternate,c);break;default:_c(l,c)}a=a.sibling}}var bc=8192;function El(r){if(r.subtreeFlags&bc)for(r=r.child;r!==null;)_w(r),r=r.sibling}function _w(r){switch(r.tag){case 26:El(r),r.flags&bc&&r.memoizedState!==null&&QO(zi,r.memoizedState,r.memoizedProps);break;case 5:El(r);break;case 3:case 4:var a=zi;zi=wd(r.stateNode.containerInfo),El(r),zi=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=bc,bc=16777216,El(r),bc=a):El(r));break;default:El(r)}}function bw(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Tc(r){var a=r.deletions;if(r.flags&16){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];fn=c,Ew(c,r)}bw(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Tw(r),r=r.sibling}function Tw(r){switch(r.tag){case 0:case 11:case 15:Tc(r),r.flags&2048&&Fs(9,r,r.return);break;case 3:Tc(r);break;case 12:Tc(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&4&&(r.return===null||r.return.tag!==13)?(a._visibility&=-5,ud(r)):Tc(r);break;default:Tc(r)}}function ud(r){var a=r.deletions;if(r.flags&16){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];fn=c,Ew(c,r)}bw(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:Fs(8,a,a.return),ud(a);break;case 22:l=a.stateNode,l._visibility&4&&(l._visibility&=-5,ud(a));break;default:ud(a)}r=r.sibling}}function Ew(r,a){for(;fn!==null;){var l=fn;switch(l.tag){case 0:case 11:case 15:Fs(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:lc(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,fn=c;else t:for(l=r;fn!==null;){c=fn;var p=c.sibling,y=c.return;if(dw(c),c===l){fn=null;break t}if(p!==null){p.return=y,fn=p;break t}fn=y}}}function lO(r,a,l,c){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ri(r,a,l,c){return new lO(r,a,l,c)}function hy(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Gs(r,a){var l=r.alternate;return l===null?(l=Ri(r.tag,a,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=a,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&31457280,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,a=r.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function ww(r,a){r.flags&=31457282;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,a=l.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function cd(r,a,l,c,p,y){var E=0;if(c=r,typeof r=="function")hy(r)&&(E=1);else if(typeof r=="string")E=$O(r,l,Ve.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case h:return oo(l.children,p,y,a);case m:E=8,p|=24;break;case g:return r=Ri(12,l,a,p|2),r.elementType=g,r.lanes=y,r;case N:return r=Ri(13,l,a,p),r.elementType=N,r.lanes=y,r;case D:return r=Ri(19,l,a,p),r.elementType=D,r.lanes=y,r;case j:return Sw(l,p,y,a);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case v:case w:E=10;break t;case b:E=9;break t;case x:E=11;break t;case V:E=14;break t;case B:E=16,c=null;break t}E=29,l=Error(i(130,r===null?"null":typeof r,"")),c=null}return a=Ri(E,l,a,p),a.elementType=r,a.type=c,a.lanes=y,a}function oo(r,a,l,c){return r=Ri(7,r,c,a),r.lanes=l,r}function Sw(r,a,l,c){r=Ri(22,r,c,a),r.elementType=j,r.lanes=l;var p={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=p._current;if(y===null)throw Error(i(456));if(!(p._pendingVisibility&2)){var E=Os(y,2);E!==null&&(p._pendingVisibility|=2,zn(E,y,2))}},attach:function(){var y=p._current;if(y===null)throw Error(i(456));if(p._pendingVisibility&2){var E=Os(y,2);E!==null&&(p._pendingVisibility&=-3,zn(E,y,2))}}};return r.stateNode=p,r}function dy(r,a,l){return r=Ri(6,r,null,a),r.lanes=l,r}function my(r,a,l){return a=Ri(4,r.children!==null?r.children:[],r.key,a),a.lanes=l,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}function Qr(r){r.flags|=4}function Aw(r,a){if(a.type!=="stylesheet"||a.state.loading&4)r.flags&=-16777217;else if(r.flags|=16777216,!uS(a)){if(a=Si.current,a!==null&&(($t&4194176)===$t?lr!==null:($t&62914560)!==$t&&!($t&536870912)||a!==lr))throw sc=_g,FT;r.flags|=8192}}function fd(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Ye():536870912,r.lanes|=a,Sl|=a)}function Ec(r,a){if(!Zt)switch(r.tailMode){case"hidden":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Ee(r){var a=r.alternate!==null&&r.alternate.child===r.child,l=0,c=0;if(a)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&31457280,c|=p.flags&31457280,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=c,r.childLanes=l,a}function uO(r,a,l){var c=a.pendingProps;switch(yg(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(a),null;case 1:return Ee(a),null;case 3:return l=a.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Gr(tn),An(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(ec(a)?Qr(a):r===null||r.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Bi!==null&&(Ey(Bi),Bi=null))),Ee(a),null;case 26:return l=a.memoizedState,r===null?(Qr(a),l!==null?(Ee(a),Aw(a,l)):(Ee(a),a.flags&=-16777217)):l?l!==r.memoizedState?(Qr(a),Ee(a),Aw(a,l)):(Ee(a),a.flags&=-16777217):(r.memoizedProps!==c&&Qr(a),Ee(a),a.flags&=-16777217),null;case 27:Ir(a),l=Ge.current;var p=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==c&&Qr(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return Ee(a),null}r=Ve.current,ec(a)?BT(a):(r=eS(p,c,l),a.stateNode=r,Qr(a))}return Ee(a),null;case 5:if(Ir(a),l=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==c&&Qr(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return Ee(a),null}if(r=Ve.current,ec(a))BT(a);else{switch(p=Ed(Ge.current),r){case 1:r=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:r=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":r=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":r=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":r=p.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?p.createElement(l,{is:c.is}):p.createElement(l)}}r[Ie]=a,r[Xe]=c;t:for(p=a.child;p!==null;){if(p.tag===5||p.tag===6)r.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break t;for(;p.sibling===null;){if(p.return===null||p.return===a)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}a.stateNode=r;t:switch(En(r,l,c),l){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&Qr(a)}}return Ee(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==c&&Qr(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(i(166));if(r=Ge.current,ec(a)){if(r=a.stateNode,l=a.memoizedProps,c=null,p=Bn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}r[Ie]=a,r=!!(r.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||Qw(r.nodeValue,l)),r||Wa(a)}else r=Ed(r).createTextNode(c),r[Ie]=a,a.stateNode=r}return Ee(a),null;case 13:if(c=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=ec(a),c!==null&&c.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Ie]=a}else nc(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Ee(a),p=!1}else Bi!==null&&(Ey(Bi),Bi=null),p=!0;if(!p)return a.flags&256?(zr(a),a):(zr(a),null)}if(zr(a),a.flags&128)return a.lanes=l,a;if(l=c!==null,r=r!==null&&r.memoizedState!==null,l){c=a.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==p&&(c.flags|=2048)}return l!==r&&l&&(a.child.flags|=8192),fd(a,a.updateQueue),Ee(a),null;case 4:return An(),r===null&&Oy(a.stateNode.containerInfo),Ee(a),null;case 10:return Gr(a.type),Ee(a),null;case 19:if(Xt(Je),p=a.memoizedState,p===null)return Ee(a),null;if(c=(a.flags&128)!==0,y=p.rendering,y===null)if(c)Ec(p,!1);else{if(Pe!==0||r!==null&&r.flags&128)for(r=a.child;r!==null;){if(y=Yh(r),y!==null){for(a.flags|=128,Ec(p,!1),r=y.updateQueue,a.updateQueue=r,fd(a,r),a.subtreeFlags=0,r=l,l=a.child;l!==null;)ww(l,r),l=l.sibling;return bt(Je,Je.current&1|2),a.child}r=r.sibling}p.tail!==null&&pn()>hd&&(a.flags|=128,c=!0,Ec(p,!1),a.lanes=4194304)}else{if(!c)if(r=Yh(y),r!==null){if(a.flags|=128,c=!0,r=r.updateQueue,a.updateQueue=r,fd(a,r),Ec(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Zt)return Ee(a),null}else 2*pn()-p.renderingStartTime>hd&&l!==536870912&&(a.flags|=128,c=!0,Ec(p,!1),a.lanes=4194304);p.isBackwards?(y.sibling=a.child,a.child=y):(r=p.last,r!==null?r.sibling=y:a.child=y,p.last=y)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=pn(),a.sibling=null,r=Je.current,bt(Je,c?r&1|2:r&1),a):(Ee(a),null);case 22:case 23:return zr(a),Tg(),c=a.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?l&536870912&&!(a.flags&128)&&(Ee(a),a.subtreeFlags&6&&(a.flags|=8192)):Ee(a),l=a.updateQueue,l!==null&&fd(a,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),r!==null&&Xt(Ja),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Gr(tn),Ee(a),null;case 25:return null}throw Error(i(156,a.tag))}function cO(r,a){switch(yg(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Gr(tn),An(),r=a.flags,r&65536&&!(r&128)?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Ir(a),null;case 13:if(zr(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));nc()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return Xt(Je),null;case 4:return An(),null;case 10:return Gr(a.type),null;case 22:case 23:return zr(a),Tg(),r!==null&&Xt(Ja),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return Gr(tn),null;case 25:return null;default:return null}}function xw(r,a){switch(yg(a),a.tag){case 3:Gr(tn),An();break;case 26:case 27:case 5:Ir(a);break;case 4:An();break;case 13:zr(a);break;case 19:Xt(Je);break;case 10:Gr(a.type);break;case 22:case 23:zr(a),Tg(),r!==null&&Xt(Ja);break;case 24:Gr(tn)}}var fO={getCacheForType:function(r){var a=Cn(tn),l=a.data.get(r);return l===void 0&&(l=r(),a.data.set(r,l)),l}},hO=typeof WeakMap=="function"?WeakMap:Map,we=0,ce=null,Bt=null,$t=0,fe=0,si=null,Xr=!1,wl=!1,py=!1,Wr=0,Pe=0,Ks=0,lo=0,gy=0,Ii=0,Sl=0,wc=null,cr=null,yy=!1,vy=0,hd=1/0,dd=null,$s=null,md=!1,uo=null,Sc=0,_y=0,by=null,Ac=0,Ty=null;function ai(){if(we&2&&$t!==0)return $t&-$t;if(R.T!==null){var r=pl;return r!==0?r:Cy()}return Zi()}function Rw(){Ii===0&&(Ii=!($t&536870912)||Zt?$e():536870912);var r=Si.current;return r!==null&&(r.flags|=32),Ii}function zn(r,a,l){(r===ce&&fe===2||r.cancelPendingCommit!==null)&&(Al(r,0),Zr(r,$t,Ii,!1)),kt(r,l),(!(we&2)||r!==ce)&&(r===ce&&(!(we&2)&&(lo|=l),Pe===4&&Zr(r,$t,Ii,!1)),fr(r))}function Iw(r,a,l){if(we&6)throw Error(i(327));var c=!l&&(a&60)===0&&(a&r.expiredLanes)===0||yn(r,a),p=c?pO(r,a):Ay(r,a,!0),y=c;do{if(p===0){wl&&!c&&Zr(r,a,0,!1);break}else if(p===6)Zr(r,a,0,!Xr);else{if(l=r.current.alternate,y&&!dO(l)){p=Ay(r,a,!1),y=!1;continue}if(p===2){if(y=a,r.errorRecoveryDisabledLanes&y)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;t:{var A=r;p=wc;var k=A.current.memoizedState.isDehydrated;if(k&&(Al(A,E).flags|=256),E=Ay(A,E,!1),E!==2){if(py&&!k){A.errorRecoveryDisabledLanes|=y,lo|=y,p=4;break t}y=cr,cr=p,y!==null&&Ey(y)}p=E}if(y=!1,p!==2)continue}}if(p===1){Al(r,0),Zr(r,a,0,!0);break}t:{switch(c=r,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194176)===a){Zr(c,a,Ii,!Xr);break t}break;case 2:cr=null;break;case 3:case 5:break;default:throw Error(i(329))}if(c.finishedWork=l,c.finishedLanes=a,(a&62914560)===a&&(y=vy+300-pn(),10<y)){if(Zr(c,a,Ii,!Xr),ue(c,0)!==0)break t;c.timeoutHandle=Zw(Cw.bind(null,c,l,cr,dd,yy,a,Ii,lo,Sl,Xr,2,-0,0),y);break t}Cw(c,l,cr,dd,yy,a,Ii,lo,Sl,Xr,0,-0,0)}}break}while(!0);fr(r)}function Ey(r){cr===null?cr=r:cr.push.apply(cr,r)}function Cw(r,a,l,c,p,y,E,A,k,q,et,rt,X){var tt=a.subtreeFlags;if((tt&8192||(tt&16785408)===16785408)&&(Pc={stylesheets:null,count:0,unsuspend:YO},_w(a),a=XO(),a!==null)){r.cancelPendingCommit=a(kw.bind(null,r,l,c,p,E,A,k,1,rt,X)),Zr(r,y,E,!q);return}kw(r,l,c,p,E,A,k,et,rt,X)}function dO(r){for(var a=r;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],y=p.getSnapshot;p=p.value;try{if(!ni(y(),p))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Zr(r,a,l,c){a&=~gy,a&=~lo,r.suspendedLanes|=a,r.pingedLanes&=~a,c&&(r.warmLanes|=a),c=r.expirationTimes;for(var p=a;0<p;){var y=31-gn(p),E=1<<y;c[y]=-1,p&=~E}l!==0&&Qe(r,l,a)}function pd(){return we&6?!0:(xc(0),!1)}function wy(){if(Bt!==null){if(fe===0)var r=Bt.return;else r=Bt,Hr=ro=null,Cg(r),dl=null,ac=0,r=Bt;for(;r!==null;)xw(r.alternate,r),r=r.return;Bt=null}}function Al(r,a){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,NO(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),wy(),ce=r,Bt=l=Gs(r.current,null),$t=a,fe=0,si=null,Xr=!1,wl=yn(r,a),py=!1,Sl=Ii=gy=lo=Ks=Pe=0,cr=wc=null,yy=!1,a&8&&(a|=a&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=a;0<c;){var p=31-gn(c),y=1<<p;a|=r[p],c&=~y}return Wr=a,Uh(),l}function Dw(r,a){Lt=null,R.H=ur,a===rc?(a=GT(),fe=3):a===FT?(a=GT(),fe=4):fe=a===qE?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,si=a,Bt===null&&(Pe=1,sd(r,Ti(a,r.current)))}function Pw(){var r=R.H;return R.H=ur,r===null?ur:r}function Nw(){var r=R.A;return R.A=fO,r}function Sy(){Pe=4,Xr||($t&4194176)!==$t&&Si.current!==null||(wl=!0),!(Ks&134217727)&&!(lo&134217727)||ce===null||Zr(ce,$t,Ii,!1)}function Ay(r,a,l){var c=we;we|=2;var p=Pw(),y=Nw();(ce!==r||$t!==a)&&(dd=null,Al(r,a)),a=!1;var E=Pe;t:do try{if(fe!==0&&Bt!==null){var A=Bt,k=si;switch(fe){case 8:wy(),E=6;break t;case 3:case 2:case 6:Si.current===null&&(a=!0);var q=fe;if(fe=0,si=null,xl(r,A,k,q),l&&wl){E=0;break t}break;default:q=fe,fe=0,si=null,xl(r,A,k,q)}}mO(),E=Pe;break}catch(et){Dw(r,et)}while(!0);return a&&r.shellSuspendCounter++,Hr=ro=null,we=c,R.H=p,R.A=y,Bt===null&&(ce=null,$t=0,Uh()),E}function mO(){for(;Bt!==null;)Ow(Bt)}function pO(r,a){var l=we;we|=2;var c=Pw(),p=Nw();ce!==r||$t!==a?(dd=null,hd=pn()+500,Al(r,a)):wl=yn(r,a);t:do try{if(fe!==0&&Bt!==null){a=Bt;var y=si;e:switch(fe){case 1:fe=0,si=null,xl(r,a,y,1);break;case 2:if(qT(y)){fe=0,si=null,Mw(a);break}a=function(){fe===2&&ce===r&&(fe=7),fr(r)},y.then(a,a);break t;case 3:fe=7;break t;case 4:fe=5;break t;case 7:qT(y)?(fe=0,si=null,Mw(a)):(fe=0,si=null,xl(r,a,y,7));break;case 5:var E=null;switch(Bt.tag){case 26:E=Bt.memoizedState;case 5:case 27:var A=Bt;if(!E||uS(E)){fe=0,si=null;var k=A.sibling;if(k!==null)Bt=k;else{var q=A.return;q!==null?(Bt=q,gd(q)):Bt=null}break e}}fe=0,si=null,xl(r,a,y,5);break;case 6:fe=0,si=null,xl(r,a,y,6);break;case 8:wy(),Pe=6;break t;default:throw Error(i(462))}}gO();break}catch(et){Dw(r,et)}while(!0);return Hr=ro=null,R.H=c,R.A=p,we=l,Bt!==null?0:(ce=null,$t=0,Uh(),Pe)}function gO(){for(;Bt!==null&&!Ts();)Ow(Bt)}function Ow(r){var a=ew(r.alternate,r,Wr);r.memoizedProps=r.pendingProps,a===null?gd(r):Bt=a}function Mw(r){var a=r,l=a.alternate;switch(a.tag){case 15:case 0:a=QE(l,a,a.pendingProps,a.type,void 0,$t);break;case 11:a=QE(l,a,a.pendingProps,a.type.render,a.ref,$t);break;case 5:Cg(a);default:xw(l,a),a=Bt=ww(a,Wr),a=ew(l,a,Wr)}r.memoizedProps=r.pendingProps,a===null?gd(r):Bt=a}function xl(r,a,l,c){Hr=ro=null,Cg(a),dl=null,ac=0;var p=a.return;try{if(rO(r,p,a,l,$t)){Pe=1,sd(r,Ti(l,r.current)),Bt=null;return}}catch(y){if(p!==null)throw Bt=p,y;Pe=1,sd(r,Ti(l,r.current)),Bt=null;return}a.flags&32768?(Zt||c===1?r=!0:wl||$t&536870912?r=!1:(Xr=r=!0,(c===2||c===3||c===6)&&(c=Si.current,c!==null&&c.tag===13&&(c.flags|=16384))),Vw(a,r)):gd(a)}function gd(r){var a=r;do{if(a.flags&32768){Vw(a,Xr);return}r=a.return;var l=uO(a.alternate,a,Wr);if(l!==null){Bt=l;return}if(a=a.sibling,a!==null){Bt=a;return}Bt=a=r}while(a!==null);Pe===0&&(Pe=5)}function Vw(r,a){do{var l=cO(r.alternate,r);if(l!==null){l.flags&=32767,Bt=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(r=r.sibling,r!==null)){Bt=r;return}Bt=r=l}while(r!==null);Pe=6,Bt=null}function kw(r,a,l,c,p,y,E,A,k,q){var et=R.T,rt=ht.p;try{ht.p=2,R.T=null,yO(r,a,l,c,rt,p,y,E,A,k,q)}finally{R.T=et,ht.p=rt}}function yO(r,a,l,c,p,y,E,A){do Rl();while(uo!==null);if(we&6)throw Error(i(327));var k=r.finishedWork;if(c=r.finishedLanes,k===null)return null;if(r.finishedWork=null,r.finishedLanes=0,k===r.current)throw Error(i(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var q=k.lanes|k.childLanes;if(q|=mg,Jn(r,c,q,y,E,A),r===ce&&(Bt=ce=null,$t=0),!(k.subtreeFlags&10256)&&!(k.flags&10256)||md||(md=!0,_y=q,by=l,TO(Rn,function(){return Rl(),null})),l=(k.flags&15990)!==0,k.subtreeFlags&15990||l?(l=R.T,R.T=null,y=ht.p,ht.p=2,E=we,we|=4,aO(r,k),gw(k,r),zN(Ly,r.containerInfo),Id=!!ky,Ly=ky=null,r.current=k,hw(r,k.alternate,k),Es(),we=E,ht.p=y,R.T=l):r.current=k,md?(md=!1,uo=r,Sc=c):Lw(r,q),q=r.pendingLanes,q===0&&($s=null),Cr(k.stateNode),fr(r),a!==null)for(p=r.onRecoverableError,k=0;k<a.length;k++)q=a[k],p(q.value,{componentStack:q.stack});return Sc&3&&Rl(),q=r.pendingLanes,c&4194218&&q&42?r===Ty?Ac++:(Ac=0,Ty=r):Ac=0,xc(0),null}function Lw(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,lc(a)))}function Rl(){if(uo!==null){var r=uo,a=_y;_y=0;var l=Wi(Sc),c=R.T,p=ht.p;try{if(ht.p=32>l?32:l,R.T=null,uo===null)var y=!1;else{l=by,by=null;var E=uo,A=Sc;if(uo=null,Sc=0,we&6)throw Error(i(331));var k=we;if(we|=4,Tw(E.current),vw(E,E.current,A,l),we=k,xc(0,!1),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(Xi,E)}catch{}y=!0}return y}finally{ht.p=p,R.T=c,Lw(r,a)}}return!1}function jw(r,a,l){a=Ti(l,a),a=qg(r.stateNode,a,2),r=zs(r,a,2),r!==null&&(kt(r,2),fr(r))}function le(r,a,l){if(r.tag===3)jw(r,r,l);else for(;a!==null;){if(a.tag===3){jw(a,r,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&($s===null||!$s.has(c))){r=Ti(l,r),l=zE(2),c=zs(a,l,2),c!==null&&(FE(l,c,a,r),kt(c,2),fr(c));break}}a=a.return}}function xy(r,a,l){var c=r.pingCache;if(c===null){c=r.pingCache=new hO;var p=new Set;c.set(a,p)}else p=c.get(a),p===void 0&&(p=new Set,c.set(a,p));p.has(l)||(py=!0,p.add(l),r=vO.bind(null,r,a,l),a.then(r,r))}function vO(r,a,l){var c=r.pingCache;c!==null&&c.delete(a),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,ce===r&&($t&l)===l&&(Pe===4||Pe===3&&($t&62914560)===$t&&300>pn()-vy?!(we&2)&&Al(r,0):gy|=l,Sl===$t&&(Sl=0)),fr(r)}function Uw(r,a){a===0&&(a=Ye()),r=Os(r,a),r!==null&&(kt(r,a),fr(r))}function _O(r){var a=r.memoizedState,l=0;a!==null&&(l=a.retryLane),Uw(r,l)}function bO(r,a){var l=0;switch(r.tag){case 13:var c=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(a),Uw(r,l)}function TO(r,a){return xn(r,a)}var yd=null,Il=null,Ry=!1,vd=!1,Iy=!1,co=0;function fr(r){r!==Il&&r.next===null&&(Il===null?yd=Il=r:Il=Il.next=r),vd=!0,Ry||(Ry=!0,wO(EO))}function xc(r,a){if(!Iy&&vd){Iy=!0;do for(var l=!1,c=yd;c!==null;){if(r!==0){var p=c.pendingLanes;if(p===0)var y=0;else{var E=c.suspendedLanes,A=c.pingedLanes;y=(1<<31-gn(42|r)+1)-1,y&=p&~(E&~A),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(l=!0,Fw(c,y))}else y=$t,y=ue(c,c===ce?y:0),!(y&3)||yn(c,y)||(l=!0,Fw(c,y));c=c.next}while(l);Iy=!1}}function EO(){vd=Ry=!1;var r=0;co!==0&&(PO()&&(r=co),co=0);for(var a=pn(),l=null,c=yd;c!==null;){var p=c.next,y=Bw(c,a);y===0?(c.next=null,l===null?yd=p:l.next=p,p===null&&(Il=l)):(l=c,(r!==0||y&3)&&(vd=!0)),c=p}xc(r)}function Bw(r,a){for(var l=r.suspendedLanes,c=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var E=31-gn(y),A=1<<E,k=p[E];k===-1?(!(A&l)||A&c)&&(p[E]=Ke(A,a)):k<=a&&(r.expiredLanes|=A),y&=~A}if(a=ce,l=$t,l=ue(r,r===a?l:0),c=r.callbackNode,l===0||r===a&&fe===2||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Li(c),r.callbackNode=null,r.callbackPriority=0;if(!(l&3)||yn(r,l)){if(a=l&-l,a===r.callbackPriority)return a;switch(c!==null&&Li(c),Wi(l)){case 2:case 8:l=pe;break;case 32:l=Rn;break;case 268435456:l=ws;break;default:l=Rn}return c=zw.bind(null,r),l=xn(l,c),r.callbackPriority=a,r.callbackNode=l,a}return c!==null&&c!==null&&Li(c),r.callbackPriority=2,r.callbackNode=null,2}function zw(r,a){var l=r.callbackNode;if(Rl()&&r.callbackNode!==l)return null;var c=$t;return c=ue(r,r===ce?c:0),c===0?null:(Iw(r,c,a),Bw(r,pn()),r.callbackNode!=null&&r.callbackNode===l?zw.bind(null,r):null)}function Fw(r,a){if(Rl())return null;Iw(r,a,!0)}function wO(r){OO(function(){we&6?xn(ke,r):r()})}function Cy(){return co===0&&(co=$e()),co}function qw(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:tr(""+r)}function Hw(r,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,r.id&&l.setAttribute("form",r.id),a.parentNode.insertBefore(l,a),r=new FormData(r),l.parentNode.removeChild(l),r}function SO(r,a,l,c,p){if(a==="submit"&&l&&l.stateNode===p){var y=qw((p[Xe]||null).action),E=c.submitter;E&&(a=(a=E[Xe]||null)?qw(a.formAction):E.getAttribute("formAction"),a!==null&&(y=a,E=null));var A=new Jo("action","action",null,c,p);r.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(co!==0){var k=E?Hw(p,E):new FormData(p);jg(l,{pending:!0,data:k,method:p.method,action:y},null,k)}}else typeof y=="function"&&(A.preventDefault(),k=E?Hw(p,E):new FormData(p),jg(l,{pending:!0,data:k,method:p.method,action:y},y,k))},currentTarget:p}]})}}for(var Dy=0;Dy<kT.length;Dy++){var Py=kT[Dy],AO=Py.toLowerCase(),xO=Py[0].toUpperCase()+Py.slice(1);Ui(AO,"on"+xO)}Ui(PT,"onAnimationEnd"),Ui(NT,"onAnimationIteration"),Ui(OT,"onAnimationStart"),Ui("dblclick","onDoubleClick"),Ui("focusin","onFocus"),Ui("focusout","onBlur"),Ui(qN,"onTransitionRun"),Ui(HN,"onTransitionStart"),Ui(GN,"onTransitionCancel"),Ui(MT,"onTransitionEnd"),Yn("onMouseEnter",["mouseout","mouseover"]),Yn("onMouseLeave",["mouseout","mouseover"]),Yn("onPointerEnter",["pointerout","pointerover"]),Yn("onPointerLeave",["pointerout","pointerover"]),ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rc));function Gw(r,a){a=(a&4)!==0;for(var l=0;l<r.length;l++){var c=r[l],p=c.event;c=c.listeners;t:{var y=void 0;if(a)for(var E=c.length-1;0<=E;E--){var A=c[E],k=A.instance,q=A.currentTarget;if(A=A.listener,k!==y&&p.isPropagationStopped())break t;y=A,p.currentTarget=q;try{y(p)}catch(et){rd(et)}p.currentTarget=null,y=k}else for(E=0;E<c.length;E++){if(A=c[E],k=A.instance,q=A.currentTarget,A=A.listener,k!==y&&p.isPropagationStopped())break t;y=A,p.currentTarget=q;try{y(p)}catch(et){rd(et)}p.currentTarget=null,y=k}}}}function qt(r,a){var l=a[Va];l===void 0&&(l=a[Va]=new Set);var c=r+"__bubble";l.has(c)||(Kw(a,r,2,!1),l.add(c))}function Ny(r,a,l){var c=0;a&&(c|=4),Kw(l,r,c,a)}var _d="_reactListening"+Math.random().toString(36).slice(2);function Oy(r){if(!r[_d]){r[_d]=!0,Uu.forEach(function(l){l!=="selectionchange"&&(RO.has(l)||Ny(l,!1,r),Ny(l,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[_d]||(a[_d]=!0,Ny("selectionchange",!1,a))}}function Kw(r,a,l,c){switch(pS(a)){case 2:var p=JO;break;case 8:p=tM;break;default:p=Ky}l=p.bind(null,a,l,r),p=void 0,!vi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),c?p!==void 0?r.addEventListener(a,l,{capture:!0,passive:p}):r.addEventListener(a,l,!0):p!==void 0?r.addEventListener(a,l,{passive:p}):r.addEventListener(a,l,!1)}function My(r,a,l,c,p){var y=c;if(!(a&1)&&!(a&2)&&c!==null)t:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var A=c.stateNode.containerInfo;if(A===p||A.nodeType===8&&A.parentNode===p)break;if(E===4)for(E=c.return;E!==null;){var k=E.tag;if((k===3||k===4)&&(k=E.stateNode.containerInfo,k===p||k.nodeType===8&&k.parentNode===p))return;E=E.return}for(;A!==null;){if(E=ji(A),E===null)return;if(k=E.tag,k===5||k===6||k===26||k===27){c=y=E;continue t}A=A.parentNode}}c=c.return}Sh(function(){var q=y,et=Zo(l),rt=[];t:{var X=VT.get(r);if(X!==void 0){var tt=Jo,_t=r;switch(r){case"keypress":if(nr(l)===0)break t;case"keydown":case"keyup":tt=sl;break;case"focusin":_t="focus",tt=nl;break;case"focusout":_t="blur",tt=nl;break;case"beforeblur":case"afterblur":tt=nl;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=_i;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=ag;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=Nh;break;case PT:case NT:case OT:tt=il;break;case MT:tt=Mh;break;case"scroll":case"scrollend":tt=Ah;break;case"wheel":tt=al;break;case"copy":case"cut":case"paste":tt=rl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=Wu;break;case"toggle":case"beforetoggle":tt=kh}var Nt=(a&4)!==0,Ne=!Nt&&(r==="scroll"||r==="scrollend"),K=Nt?X!==null?X+"Capture":null:X;Nt=[];for(var F=q,Q;F!==null;){var nt=F;if(Q=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||Q===null||K===null||(nt=Ba(F,K),nt!=null&&Nt.push(Ic(F,nt,Q))),Ne)break;F=F.return}0<Nt.length&&(X=new tt(X,_t,null,l,et),rt.push({event:X,listeners:Nt}))}}if(!(a&7)){t:{if(X=r==="mouseover"||r==="pointerover",tt=r==="mouseout"||r==="pointerout",X&&l!==yi&&(_t=l.relatedTarget||l.fromElement)&&(ji(_t)||_t[Dr]))break t;if((tt||X)&&(X=et.window===et?et:(X=et.ownerDocument)?X.defaultView||X.parentWindow:window,tt?(_t=l.relatedTarget||l.toElement,tt=q,_t=_t?ji(_t):null,_t!==null&&(Ne=pt(_t),Nt=_t.tag,_t!==Ne||Nt!==5&&Nt!==27&&Nt!==6)&&(_t=null)):(tt=null,_t=q),tt!==_t)){if(Nt=_i,nt="onMouseLeave",K="onMouseEnter",F="mouse",(r==="pointerout"||r==="pointerover")&&(Nt=Wu,nt="onPointerLeave",K="onPointerEnter",F="pointer"),Ne=tt==null?X:xs(tt),Q=_t==null?X:xs(_t),X=new Nt(nt,F+"leave",tt,l,et),X.target=Ne,X.relatedTarget=Q,nt=null,ji(et)===q&&(Nt=new Nt(K,F+"enter",_t,l,et),Nt.target=Q,Nt.relatedTarget=Ne,nt=Nt),Ne=nt,tt&&_t)e:{for(Nt=tt,K=_t,F=0,Q=Nt;Q;Q=Cl(Q))F++;for(Q=0,nt=K;nt;nt=Cl(nt))Q++;for(;0<F-Q;)Nt=Cl(Nt),F--;for(;0<Q-F;)K=Cl(K),Q--;for(;F--;){if(Nt===K||K!==null&&Nt===K.alternate)break e;Nt=Cl(Nt),K=Cl(K)}Nt=null}else Nt=null;tt!==null&&$w(rt,X,tt,Nt,!1),_t!==null&&Ne!==null&&$w(rt,Ne,_t,Nt,!0)}}t:{if(X=q?xs(q):window,tt=X.nodeName&&X.nodeName.toLowerCase(),tt==="select"||tt==="input"&&X.type==="file")var yt=bT;else if(Ze(X))if(TT)yt=UN;else{yt=LN;var Ut=kN}else tt=X.nodeName,!tt||tt.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?q&&Hu(q.elementType)&&(yt=bT):yt=jN;if(yt&&(yt=yt(r,q))){jr(rt,yt,l,et);break t}Ut&&Ut(r,X,q),r==="focusout"&&q&&X.type==="number"&&q.memoizedProps.value!=null&&Wo(X,"number",X.value)}switch(Ut=q?xs(q):window,r){case"focusin":(Ze(Ut)||Ut.contentEditable==="true")&&(ol=Ut,fg=q,tc=null);break;case"focusout":tc=fg=ol=null;break;case"mousedown":hg=!0;break;case"contextmenu":case"mouseup":case"dragend":hg=!1,CT(rt,l,et);break;case"selectionchange":if(FN)break;case"keydown":case"keyup":CT(rt,l,et)}var wt;if(sr)t:{switch(r){case"compositionstart":var xt="onCompositionStart";break t;case"compositionend":xt="onCompositionEnd";break t;case"compositionupdate":xt="onCompositionUpdate";break t}xt=void 0}else Gt?W(r,l)&&(xt="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(xt="onCompositionStart");xt&&(T&&l.locale!=="ko"&&(Gt||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&Gt&&(wt=Ku()):(er=et,Ns="value"in er?er.value:er.textContent,Gt=!0)),Ut=bd(q,xt),0<Ut.length&&(xt=new Qu(xt,r,null,l,et),rt.push({event:xt,listeners:Ut}),wt?xt.data=wt:(wt=lt(l),wt!==null&&(xt.data=wt)))),(wt=_?We(r,l):Kt(r,l))&&(xt=bd(q,"onBeforeInput"),0<xt.length&&(Ut=new Qu("onBeforeInput","beforeinput",null,l,et),rt.push({event:Ut,listeners:xt}),Ut.data=wt)),SO(rt,r,q,l,et)}Gw(rt,a)})}function Ic(r,a,l){return{instance:r,listener:a,currentTarget:l}}function bd(r,a){for(var l=a+"Capture",c=[];r!==null;){var p=r,y=p.stateNode;p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Ba(r,l),p!=null&&c.unshift(Ic(r,p,y)),p=Ba(r,a),p!=null&&c.push(Ic(r,p,y))),r=r.return}return c}function Cl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function $w(r,a,l,c,p){for(var y=a._reactName,E=[];l!==null&&l!==c;){var A=l,k=A.alternate,q=A.stateNode;if(A=A.tag,k!==null&&k===c)break;A!==5&&A!==26&&A!==27||q===null||(k=q,p?(q=Ba(l,y),q!=null&&E.unshift(Ic(l,q,k))):p||(q=Ba(l,y),q!=null&&E.push(Ic(l,q,k)))),l=l.return}E.length!==0&&r.push({event:a,listeners:E})}var IO=/\r\n?/g,CO=/\u0000|\uFFFD/g;function Yw(r){return(typeof r=="string"?r:""+r).replace(IO,`
`).replace(CO,"")}function Qw(r,a){return a=Yw(a),Yw(r)===a}function Td(){}function se(r,a,l,c,p,y){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||gi(r,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&gi(r,""+c);break;case"className":Cs(r,"class",c);break;case"tabIndex":Cs(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Cs(r,l,c);break;case"style":wh(r,c,y);break;case"data":if(a!=="object"){Cs(r,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){r.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=tr(""+c),r.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&se(r,a,"name",p.name,p,null),se(r,a,"formEncType",p.formEncType,p,null),se(r,a,"formMethod",p.formMethod,p,null),se(r,a,"formTarget",p.formTarget,p,null)):(se(r,a,"encType",p.encType,p,null),se(r,a,"method",p.method,p,null),se(r,a,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=tr(""+c),r.setAttribute(l,c);break;case"onClick":c!=null&&(r.onclick=Td);break;case"onScroll":c!=null&&qt("scroll",r);break;case"onScrollEnd":c!=null&&qt("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}l=tr(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""+c):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":c===!0?r.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,c):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(l,c):r.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(l):r.setAttribute(l,c);break;case"popover":qt("beforetoggle",r),qt("toggle",r),Is(r,"popover",c);break;case"xlinkActuate":pi(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":pi(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":pi(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":pi(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":pi(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":pi(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":pi(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":pi(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":pi(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Is(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=rg.get(l)||l,Is(r,l,c))}}function Vy(r,a,l,c,p,y){switch(l){case"style":wh(r,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"children":typeof c=="string"?gi(r,c):(typeof c=="number"||typeof c=="bigint")&&gi(r,""+c);break;case"onScroll":c!=null&&qt("scroll",r);break;case"onScrollEnd":c!=null&&qt("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Td);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qo.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),a=l.slice(2,p?l.length-7:void 0),y=r[Xe]||null,y=y!=null?y[l]:null,typeof y=="function"&&r.removeEventListener(a,y,p),typeof c=="function")){typeof y!="function"&&y!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(a,c,p);break t}l in r?r[l]=c:c===!0?r.setAttribute(l,""):Is(r,l,c)}}}function En(r,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qt("error",r),qt("load",r);var c=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var E=l[y];if(E!=null)switch(y){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:se(r,a,y,E,l,null)}}p&&se(r,a,"srcSet",l.srcSet,l,null),c&&se(r,a,"src",l.src,l,null);return;case"input":qt("invalid",r);var A=y=E=p=null,k=null,q=null;for(c in l)if(l.hasOwnProperty(c)){var et=l[c];if(et!=null)switch(c){case"name":p=et;break;case"type":E=et;break;case"checked":k=et;break;case"defaultChecked":q=et;break;case"value":y=et;break;case"defaultValue":A=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(i(137,a));break;default:se(r,a,c,et,l,null)}}ja(r,y,A,k,q,E,p,!1),La(r);return;case"select":qt("invalid",r),c=E=y=null;for(p in l)if(l.hasOwnProperty(p)&&(A=l[p],A!=null))switch(p){case"value":y=A;break;case"defaultValue":E=A;break;case"multiple":c=A;default:se(r,a,p,A,l,null)}a=y,l=E,r.multiple=!!c,a!=null?Wt(r,!!c,a,!1):l!=null&&Wt(r,!!c,l,!0);return;case"textarea":qt("invalid",r),y=p=c=null;for(E in l)if(l.hasOwnProperty(E)&&(A=l[E],A!=null))switch(E){case"value":c=A;break;case"defaultValue":p=A;break;case"children":y=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:se(r,a,E,A,l,null)}Ps(r,c,p,y),La(r);return;case"option":for(k in l)if(l.hasOwnProperty(k)&&(c=l[k],c!=null))switch(k){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:se(r,a,k,c,l,null)}return;case"dialog":qt("cancel",r),qt("close",r);break;case"iframe":case"object":qt("load",r);break;case"video":case"audio":for(c=0;c<Rc.length;c++)qt(Rc[c],r);break;case"image":qt("error",r),qt("load",r);break;case"details":qt("toggle",r);break;case"embed":case"source":case"link":qt("error",r),qt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in l)if(l.hasOwnProperty(q)&&(c=l[q],c!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:se(r,a,q,c,l,null)}return;default:if(Hu(a)){for(et in l)l.hasOwnProperty(et)&&(c=l[et],c!==void 0&&Vy(r,a,et,c,l,void 0));return}}for(A in l)l.hasOwnProperty(A)&&(c=l[A],c!=null&&se(r,a,A,c,l,null))}function DO(r,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,E=null,A=null,k=null,q=null,et=null;for(tt in l){var rt=l[tt];if(l.hasOwnProperty(tt)&&rt!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":k=rt;default:c.hasOwnProperty(tt)||se(r,a,tt,null,c,rt)}}for(var X in c){var tt=c[X];if(rt=l[X],c.hasOwnProperty(X)&&(tt!=null||rt!=null))switch(X){case"type":y=tt;break;case"name":p=tt;break;case"checked":q=tt;break;case"defaultChecked":et=tt;break;case"value":E=tt;break;case"defaultValue":A=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(i(137,a));break;default:tt!==rt&&se(r,a,X,tt,c,rt)}}Ds(r,E,A,k,q,et,y,p);return;case"select":tt=E=A=X=null;for(y in l)if(k=l[y],l.hasOwnProperty(y)&&k!=null)switch(y){case"value":break;case"multiple":tt=k;default:c.hasOwnProperty(y)||se(r,a,y,null,c,k)}for(p in c)if(y=c[p],k=l[p],c.hasOwnProperty(p)&&(y!=null||k!=null))switch(p){case"value":X=y;break;case"defaultValue":A=y;break;case"multiple":E=y;default:y!==k&&se(r,a,p,y,c,k)}a=A,l=E,c=tt,X!=null?Wt(r,!!l,X,!1):!!c!=!!l&&(a!=null?Wt(r,!!l,a,!0):Wt(r,!!l,l?[]:"",!1));return;case"textarea":tt=X=null;for(A in l)if(p=l[A],l.hasOwnProperty(A)&&p!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:se(r,a,A,null,c,p)}for(E in c)if(p=c[E],y=l[E],c.hasOwnProperty(E)&&(p!=null||y!=null))switch(E){case"value":X=p;break;case"defaultValue":tt=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&se(r,a,E,p,c,y)}Ua(r,X,tt);return;case"option":for(var _t in l)if(X=l[_t],l.hasOwnProperty(_t)&&X!=null&&!c.hasOwnProperty(_t))switch(_t){case"selected":r.selected=!1;break;default:se(r,a,_t,null,c,X)}for(k in c)if(X=c[k],tt=l[k],c.hasOwnProperty(k)&&X!==tt&&(X!=null||tt!=null))switch(k){case"selected":r.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:se(r,a,k,X,c,tt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Nt in l)X=l[Nt],l.hasOwnProperty(Nt)&&X!=null&&!c.hasOwnProperty(Nt)&&se(r,a,Nt,null,c,X);for(q in c)if(X=c[q],tt=l[q],c.hasOwnProperty(q)&&X!==tt&&(X!=null||tt!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,a));break;default:se(r,a,q,X,c,tt)}return;default:if(Hu(a)){for(var Ne in l)X=l[Ne],l.hasOwnProperty(Ne)&&X!==void 0&&!c.hasOwnProperty(Ne)&&Vy(r,a,Ne,void 0,c,X);for(et in c)X=c[et],tt=l[et],!c.hasOwnProperty(et)||X===tt||X===void 0&&tt===void 0||Vy(r,a,et,X,c,tt);return}}for(var K in l)X=l[K],l.hasOwnProperty(K)&&X!=null&&!c.hasOwnProperty(K)&&se(r,a,K,null,c,X);for(rt in c)X=c[rt],tt=l[rt],!c.hasOwnProperty(rt)||X===tt||X==null&&tt==null||se(r,a,rt,X,c,tt)}var ky=null,Ly=null;function Ed(r){return r.nodeType===9?r:r.ownerDocument}function Xw(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ww(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function jy(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Uy=null;function PO(){var r=window.event;return r&&r.type==="popstate"?r===Uy?!1:(Uy=r,!0):(Uy=null,!1)}var Zw=typeof setTimeout=="function"?setTimeout:void 0,NO=typeof clearTimeout=="function"?clearTimeout:void 0,Jw=typeof Promise=="function"?Promise:void 0,OO=typeof queueMicrotask=="function"?queueMicrotask:typeof Jw<"u"?function(r){return Jw.resolve(null).then(r).catch(MO)}:Zw;function MO(r){setTimeout(function(){throw r})}function By(r,a){var l=a,c=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(c===0){r.removeChild(p),kc(a);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=p}while(l);kc(a)}function zy(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":zy(l),ka(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function VO(r,a,l,c){for(;r.nodeType===1;){var p=l;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[As])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==p.rel||r.getAttribute("href")!==(p.href==null?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=Fi(r.nextSibling),r===null)break}return null}function kO(r,a,l){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=Fi(r.nextSibling),r===null))return null;return r}function Fi(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}function tS(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return r;a--}else l==="/$"&&a++}r=r.previousSibling}return null}function eS(r,a,l){switch(a=Ed(l),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}var Ci=new Map,nS=new Set;function wd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var Jr=ht.d;ht.d={f:LO,r:jO,D:UO,C:BO,L:zO,m:FO,X:HO,S:qO,M:GO};function LO(){var r=Jr.f(),a=pd();return r||a}function jO(r){var a=Pr(r);a!==null&&a.tag===5&&a.type==="form"?CE(a):Jr.r(r)}var Dl=typeof document>"u"?null:document;function iS(r,a,l){var c=Dl;if(c&&typeof a=="string"&&a){var p=Ce(a);p='link[rel="'+r+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),nS.has(p)||(nS.add(p),r={rel:r,crossOrigin:l,href:a},c.querySelector(p)===null&&(a=c.createElement("link"),En(a,"link",r),Te(a),c.head.appendChild(a)))}}function UO(r){Jr.D(r),iS("dns-prefetch",r,null)}function BO(r,a){Jr.C(r,a),iS("preconnect",r,a)}function zO(r,a,l){Jr.L(r,a,l);var c=Dl;if(c&&r&&a){var p='link[rel="preload"][as="'+Ce(a)+'"]';a==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Ce(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Ce(l.imageSizes)+'"]')):p+='[href="'+Ce(r)+'"]';var y=p;switch(a){case"style":y=Pl(r);break;case"script":y=Nl(r)}Ci.has(y)||(r=M({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:r,as:a},l),Ci.set(y,r),c.querySelector(p)!==null||a==="style"&&c.querySelector(Cc(y))||a==="script"&&c.querySelector(Dc(y))||(a=c.createElement("link"),En(a,"link",r),Te(a),c.head.appendChild(a)))}}function FO(r,a){Jr.m(r,a);var l=Dl;if(l&&r){var c=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+Ce(c)+'"][href="'+Ce(r)+'"]',y=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Nl(r)}if(!Ci.has(y)&&(r=M({rel:"modulepreload",href:r},a),Ci.set(y,r),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Dc(y)))return}c=l.createElement("link"),En(c,"link",r),Te(c),l.head.appendChild(c)}}}function qO(r,a,l){Jr.S(r,a,l);var c=Dl;if(c&&r){var p=Rs(c).hoistableStyles,y=Pl(r);a=a||"default";var E=p.get(y);if(!E){var A={loading:0,preload:null};if(E=c.querySelector(Cc(y)))A.loading=5;else{r=M({rel:"stylesheet",href:r,"data-precedence":a},l),(l=Ci.get(y))&&Fy(r,l);var k=E=c.createElement("link");Te(k),En(k,"link",r),k._p=new Promise(function(q,et){k.onload=q,k.onerror=et}),k.addEventListener("load",function(){A.loading|=1}),k.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Sd(E,a,c)}E={type:"stylesheet",instance:E,count:1,state:A},p.set(y,E)}}}function HO(r,a){Jr.X(r,a);var l=Dl;if(l&&r){var c=Rs(l).hoistableScripts,p=Nl(r),y=c.get(p);y||(y=l.querySelector(Dc(p)),y||(r=M({src:r,async:!0},a),(a=Ci.get(p))&&qy(r,a),y=l.createElement("script"),Te(y),En(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function GO(r,a){Jr.M(r,a);var l=Dl;if(l&&r){var c=Rs(l).hoistableScripts,p=Nl(r),y=c.get(p);y||(y=l.querySelector(Dc(p)),y||(r=M({src:r,async:!0,type:"module"},a),(a=Ci.get(p))&&qy(r,a),y=l.createElement("script"),Te(y),En(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function rS(r,a,l,c){var p=(p=Ge.current)?wd(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Pl(l.href),l=Rs(p).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=Pl(l.href);var y=Rs(p).hoistableStyles,E=y.get(r);if(E||(p=p.ownerDocument||p,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,E),(y=p.querySelector(Cc(r)))&&!y._p&&(E.instance=y,E.state.loading=5),Ci.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ci.set(r,l),y||KO(p,r,l,E.state))),a&&c===null)throw Error(i(528,""));return E}if(a&&c!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Nl(l),l=Rs(p).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Pl(r){return'href="'+Ce(r)+'"'}function Cc(r){return'link[rel="stylesheet"]['+r+"]"}function sS(r){return M({},r,{"data-precedence":r.precedence,precedence:null})}function KO(r,a,l,c){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=r.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),En(a,"link",l),Te(a),r.head.appendChild(a))}function Nl(r){return'[src="'+Ce(r)+'"]'}function Dc(r){return"script[async]"+r}function aS(r,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=r.querySelector('style[data-href~="'+Ce(l.href)+'"]');if(c)return a.instance=c,Te(c),c;var p=M({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),Te(c),En(c,"style",p),Sd(c,l.precedence,r),a.instance=c;case"stylesheet":p=Pl(l.href);var y=r.querySelector(Cc(p));if(y)return a.state.loading|=4,a.instance=y,Te(y),y;c=sS(l),(p=Ci.get(p))&&Fy(c,p),y=(r.ownerDocument||r).createElement("link"),Te(y);var E=y;return E._p=new Promise(function(A,k){E.onload=A,E.onerror=k}),En(y,"link",c),a.state.loading|=4,Sd(y,l.precedence,r),a.instance=y;case"script":return y=Nl(l.src),(p=r.querySelector(Dc(y)))?(a.instance=p,Te(p),p):(c=l,(p=Ci.get(y))&&(c=M({},l),qy(c,p)),r=r.ownerDocument||r,p=r.createElement("script"),Te(p),En(p,"link",c),r.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&!(a.state.loading&4)&&(c=a.instance,a.state.loading|=4,Sd(c,l.precedence,r));return a.instance}function Sd(r,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,y=p,E=0;E<c.length;E++){var A=c[E];if(A.dataset.precedence===a)y=A;else if(y!==p)break}y?y.parentNode.insertBefore(r,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(r,a.firstChild))}function Fy(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function qy(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var Ad=null;function oS(r,a,l){if(Ad===null){var c=new Map,p=Ad=new Map;p.set(l,c)}else p=Ad,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(r))return c;for(c.set(r,null),l=l.getElementsByTagName(r),p=0;p<l.length;p++){var y=l[p];if(!(y[As]||y[Ie]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(a)||"";E=r+E;var A=c.get(E);A?A.push(y):c.set(E,[y])}}return c}function lS(r,a,l){r=r.ownerDocument||r,r.head.insertBefore(l,a==="title"?r.querySelector("head > title"):null)}function $O(r,a,l){if(l===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function uS(r){return!(r.type==="stylesheet"&&!(r.state.loading&3))}var Pc=null;function YO(){}function QO(r,a,l){if(Pc===null)throw Error(i(475));var c=Pc;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var p=Pl(l.href),y=r.querySelector(Cc(p));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=xd.bind(c),r.then(c,c)),a.state.loading|=4,a.instance=y,Te(y);return}y=r.ownerDocument||r,l=sS(l),(p=Ci.get(p))&&Fy(l,p),y=y.createElement("link"),Te(y);var E=y;E._p=new Promise(function(A,k){E.onload=A,E.onerror=k}),En(y,"link",l),a.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,r),(r=a.state.preload)&&!(a.state.loading&3)&&(c.count++,a=xd.bind(c),r.addEventListener("load",a),r.addEventListener("error",a))}}function XO(){if(Pc===null)throw Error(i(475));var r=Pc;return r.stylesheets&&r.count===0&&Hy(r,r.stylesheets),0<r.count?function(a){var l=setTimeout(function(){if(r.stylesheets&&Hy(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(l)}}:null}function xd(){if(this.count--,this.count===0){if(this.stylesheets)Hy(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Rd=null;function Hy(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Rd=new Map,a.forEach(WO,r),Rd=null,xd.call(r))}function WO(r,a){if(!(a.state.loading&4)){var l=Rd.get(r);if(l)var c=l.get(null);else{l=new Map,Rd.set(r,l);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var E=p[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),c=E)}c&&l.set(null,c)}p=a.instance,E=p.getAttribute("data-precedence"),y=l.get(E)||c,y===c&&l.set(null,p),l.set(E,p),this.count++,c=xd.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),y?y.parentNode.insertBefore(p,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),a.state.loading|=4}}var Nc={$$typeof:w,Provider:null,Consumer:null,_currentValue:It,_currentValue2:It,_threadCount:0};function ZO(r,a,l,c,p,y,E,A){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zn(0),this.hiddenUpdates=Zn(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function cS(r,a,l,c,p,y,E,A,k,q,et,rt){return r=new ZO(r,a,l,E,A,k,q,rt),a=1,y===!0&&(a|=24),y=Ri(3,null,null,a),r.current=y,y.stateNode=r,a=Eg(),a.refCount++,r.pooledCache=a,a.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:a},ny(y),r}function fS(r){return r?(r=cl,r):cl}function hS(r,a,l,c,p,y){p=fS(p),c.context===null?c.context=p:c.pendingContext=p,c=Bs(a),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=zs(r,c,a),l!==null&&(zn(l,r,a),pc(l,r,a))}function dS(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<a?l:a}}function Gy(r,a){dS(r,a),(r=r.alternate)&&dS(r,a)}function mS(r){if(r.tag===13){var a=Os(r,67108864);a!==null&&zn(a,r,67108864),Gy(r,67108864)}}var Id=!0;function JO(r,a,l,c){var p=R.T;R.T=null;var y=ht.p;try{ht.p=2,Ky(r,a,l,c)}finally{ht.p=y,R.T=p}}function tM(r,a,l,c){var p=R.T;R.T=null;var y=ht.p;try{ht.p=8,Ky(r,a,l,c)}finally{ht.p=y,R.T=p}}function Ky(r,a,l,c){if(Id){var p=$y(c);if(p===null)My(r,a,c,Cd,l),gS(r,c);else if(nM(p,r,a,l,c))c.stopPropagation();else if(gS(r,c),a&4&&-1<eM.indexOf(r)){for(;p!==null;){var y=Pr(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=ye(y.pendingLanes);if(E!==0){var A=y;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var k=1<<31-gn(E);A.entanglements[1]|=k,E&=~k}fr(y),!(we&6)&&(hd=pn()+500,xc(0))}}break;case 13:A=Os(y,2),A!==null&&zn(A,y,2),pd(),Gy(y,2)}if(y=$y(c),y===null&&My(r,a,c,Cd,l),y===p)break;p=y}p!==null&&c.stopPropagation()}else My(r,a,c,null,l)}}function $y(r){return r=Zo(r),Yy(r)}var Cd=null;function Yy(r){if(Cd=null,r=ji(r),r!==null){var a=pt(r);if(a===null)r=null;else{var l=a.tag;if(l===13){if(r=Pt(a),r!==null)return r;r=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Cd=r,null}function pS(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Go()){case ke:return 2;case pe:return 8;case Rn:case Yi:return 32;case ws:return 268435456;default:return 32}default:return 32}}var Qy=!1,Ys=null,Qs=null,Xs=null,Oc=new Map,Mc=new Map,Ws=[],eM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gS(r,a){switch(r){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":Oc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mc.delete(a.pointerId)}}function Vc(r,a,l,c,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[p]},a!==null&&(a=Pr(a),a!==null&&mS(a)),r):(r.eventSystemFlags|=c,a=r.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),r)}function nM(r,a,l,c,p){switch(a){case"focusin":return Ys=Vc(Ys,r,a,l,c,p),!0;case"dragenter":return Qs=Vc(Qs,r,a,l,c,p),!0;case"mouseover":return Xs=Vc(Xs,r,a,l,c,p),!0;case"pointerover":var y=p.pointerId;return Oc.set(y,Vc(Oc.get(y)||null,r,a,l,c,p)),!0;case"gotpointercapture":return y=p.pointerId,Mc.set(y,Vc(Mc.get(y)||null,r,a,l,c,p)),!0}return!1}function yS(r){var a=ji(r.target);if(a!==null){var l=pt(a);if(l!==null){if(a=l.tag,a===13){if(a=Pt(l),a!==null){r.blockedOn=a,vn(r.priority,function(){if(l.tag===13){var c=ai(),p=Os(l,c);p!==null&&zn(p,l,c),Gy(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Dd(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var l=$y(r.nativeEvent);if(l===null){l=r.nativeEvent;var c=new l.constructor(l.type,l);yi=c,l.target.dispatchEvent(c),yi=null}else return a=Pr(l),a!==null&&mS(a),r.blockedOn=l,!1;a.shift()}return!0}function vS(r,a,l){Dd(r)&&l.delete(a)}function iM(){Qy=!1,Ys!==null&&Dd(Ys)&&(Ys=null),Qs!==null&&Dd(Qs)&&(Qs=null),Xs!==null&&Dd(Xs)&&(Xs=null),Oc.forEach(vS),Mc.forEach(vS)}function Pd(r,a){r.blockedOn===a&&(r.blockedOn=null,Qy||(Qy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,iM)))}var Nd=null;function _S(r){Nd!==r&&(Nd=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Nd===r&&(Nd=null);for(var a=0;a<r.length;a+=3){var l=r[a],c=r[a+1],p=r[a+2];if(typeof c!="function"){if(Yy(c||l)===null)continue;break}var y=Pr(l);y!==null&&(r.splice(a,3),a-=3,jg(y,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function kc(r){function a(k){return Pd(k,r)}Ys!==null&&Pd(Ys,r),Qs!==null&&Pd(Qs,r),Xs!==null&&Pd(Xs,r),Oc.forEach(a),Mc.forEach(a);for(var l=0;l<Ws.length;l++){var c=Ws[l];c.blockedOn===r&&(c.blockedOn=null)}for(;0<Ws.length&&(l=Ws[0],l.blockedOn===null);)yS(l),l.blockedOn===null&&Ws.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],y=l[c+1],E=p[Xe]||null;if(typeof y=="function")E||_S(l);else if(E){var A=null;if(y&&y.hasAttribute("formAction")){if(p=y,E=y[Xe]||null)A=E.formAction;else if(Yy(p)!==null)continue}else A=E.action;typeof A=="function"?l[c+1]=A:(l.splice(c,3),c-=3),_S(l)}}}function Xy(r){this._internalRoot=r}Od.prototype.render=Xy.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,c=ai();hS(l,c,r,a,null,null)},Od.prototype.unmount=Xy.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;r.tag===0&&Rl(),hS(r.current,2,null,r,null,null),pd(),a[Dr]=null}};function Od(r){this._internalRoot=r}Od.prototype.unstable_scheduleHydration=function(r){if(r){var a=Zi();r={blockedOn:null,target:r,priority:a};for(var l=0;l<Ws.length&&a!==0&&a<Ws[l].priority;l++);Ws.splice(l,0,r),l===0&&yS(r)}};var bS=t.version;if(bS!=="19.0.0")throw Error(i(527,bS,"19.0.0"));ht.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=st(a),r=r!==null?dt(r):null,r=r===null?null:r.stateNode,r};var rM={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:ji,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Md.isDisabled&&Md.supportsFiber)try{Xi=Md.inject(rM),an=Md}catch{}}return jc.createRoot=function(r,a){if(!s(r))throw Error(i(299));var l=!1,c="",p=LE,y=jE,E=UE,A=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(A=a.unstable_transitionCallbacks)),a=cS(r,1,!1,null,null,l,c,p,y,E,A,null),r[Dr]=a.current,Oy(r.nodeType===8?r.parentNode:r),new Xy(a)},jc.hydrateRoot=function(r,a,l){if(!s(r))throw Error(i(299));var c=!1,p="",y=LE,E=jE,A=UE,k=null,q=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(A=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(k=l.unstable_transitionCallbacks),l.formState!==void 0&&(q=l.formState)),a=cS(r,1,!0,a,l??null,c,p,y,E,A,k,q),a.context=fS(null),l=a.current,c=ai(),p=Bs(c),p.callback=null,zs(l,p,c),a.current.lanes=c,kt(a,c),fr(a),r[Dr]=a.current,Oy(r),new Od(a)},jc.version="19.0.0",jc}var DS;function dM(){if(DS)return Jy.exports;DS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Jy.exports=hM(),Jy.exports}var mM=dM();const pM=c_(mM);var Uc={},PS;function gM(){if(PS)return Uc;PS=1,Object.defineProperty(Uc,"__esModule",{value:!0}),Uc.parse=u,Uc.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function u(b,w){const x=new o,N=b.length;if(N<2)return x;const D=(w==null?void 0:w.decode)||g;let V=0;do{const B=b.indexOf("=",V);if(B===-1)break;const j=b.indexOf(";",V),Z=j===-1?N:j;if(B>Z){V=b.lastIndexOf(";",B-1)+1;continue}const G=f(b,V,B),J=h(b,B,G),O=b.slice(G,J);if(x[O]===void 0){let S=f(b,B+1,Z),R=h(b,Z,S);const M=D(b.slice(S,R));x[O]=M}V=Z+1}while(V<N);return x}function f(b,w,x){do{const N=b.charCodeAt(w);if(N!==32&&N!==9)return w}while(++w<x);return x}function h(b,w,x){for(;w>x;){const N=b.charCodeAt(--w);if(N!==32&&N!==9)return w+1}return x}function m(b,w,x){const N=(x==null?void 0:x.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const D=N(w);if(!t.test(D))throw new TypeError(`argument val is invalid: ${w}`);let V=b+"="+D;if(!x)return V;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);V+="; Max-Age="+x.maxAge}if(x.domain){if(!e.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);V+="; Domain="+x.domain}if(x.path){if(!i.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);V+="; Path="+x.path}if(x.expires){if(!v(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);V+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(V+="; HttpOnly"),x.secure&&(V+="; Secure"),x.partitioned&&(V+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return V}function g(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function v(b){return s.call(b)==="[object Date]"}return Uc}gM();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var NS="popstate";function yM(n={}){function t(i,s){let{pathname:o,search:u,hash:f}=i.location;return Kv("",{pathname:o,search:u,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function e(i,s){return typeof s=="string"?s:Tf(s)}return _M(t,e,null,n)}function xe(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Sr(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function vM(){return Math.random().toString(36).substring(2,10)}function OS(n,t){return{usr:n.state,key:n.key,idx:t}}function Kv(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Au(t):t,state:e,key:t&&t.key||i||vM()}}function Tf({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function Au(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function _M(n,t,e,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,u=s.history,f="POP",h=null,m=g();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function g(){return(u.state||{idx:null}).idx}function v(){f="POP";let D=g(),V=D==null?null:D-m;m=D,h&&h({action:f,location:N.location,delta:V})}function b(D,V){f="PUSH";let B=Kv(N.location,D,V);m=g()+1;let j=OS(B,m),Z=N.createHref(B);try{u.pushState(j,"",Z)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;s.location.assign(Z)}o&&h&&h({action:f,location:N.location,delta:1})}function w(D,V){f="REPLACE";let B=Kv(N.location,D,V);m=g();let j=OS(B,m),Z=N.createHref(B);u.replaceState(j,"",Z),o&&h&&h({action:f,location:N.location,delta:0})}function x(D){let V=s.location.origin!=="null"?s.location.origin:s.location.href,B=typeof D=="string"?D:Tf(D);return B=B.replace(/ $/,"%20"),xe(V,`No window.location.(origin|href) available to create URL for href: ${B}`),new URL(B,V)}let N={get action(){return f},get location(){return n(s,u)},listen(D){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(NS,v),h=D,()=>{s.removeEventListener(NS,v),h=null}},createHref(D){return t(s,D)},createURL:x,encodeLocation(D){let V=x(D);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:b,replace:w,go(D){return u.go(D)}};return N}function BR(n,t,e="/"){return bM(n,t,e,!1)}function bM(n,t,e,i){let s=typeof t=="string"?Au(t):t,o=_a(s.pathname||"/",e);if(o==null)return null;let u=zR(n);TM(u);let f=null;for(let h=0;f==null&&h<u.length;++h){let m=NM(o);f=DM(u[h],m,i)}return f}function zR(n,t=[],e=[],i=""){let s=(o,u,f)=>{let h={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};h.relativePath.startsWith("/")&&(xe(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let m=rs([i,h.relativePath]),g=e.concat(h);o.children&&o.children.length>0&&(xe(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),zR(o.children,t,g,m)),!(o.path==null&&!o.index)&&t.push({path:m,score:IM(m,o.index),routesMeta:g})};return n.forEach((o,u)=>{var f;if(o.path===""||!((f=o.path)!=null&&f.includes("?")))s(o,u);else for(let h of FR(o.path))s(o,u,h)}),t}function FR(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,s=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let u=FR(i.join("/")),f=[];return f.push(...u.map(h=>h===""?o:[o,h].join("/"))),s&&f.push(...u),f.map(h=>n.startsWith("/")&&h===""?"/":h)}function TM(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:CM(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var EM=/^:[\w-]+$/,wM=3,SM=2,AM=1,xM=10,RM=-2,MS=n=>n==="*";function IM(n,t){let e=n.split("/"),i=e.length;return e.some(MS)&&(i+=RM),t&&(i+=SM),e.filter(s=>!MS(s)).reduce((s,o)=>s+(EM.test(o)?wM:o===""?AM:xM),i)}function CM(n,t){return n.length===t.length&&n.slice(0,-1).every((i,s)=>i===t[s])?n[n.length-1]-t[t.length-1]:0}function DM(n,t,e=!1){let{routesMeta:i}=n,s={},o="/",u=[];for(let f=0;f<i.length;++f){let h=i[f],m=f===i.length-1,g=o==="/"?t:t.slice(o.length)||"/",v=Sm({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},g),b=h.route;if(!v&&m&&e&&!i[i.length-1].route.index&&(v=Sm({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!v)return null;Object.assign(s,v.params),u.push({params:s,pathname:rs([o,v.pathname]),pathnameBase:kM(rs([o,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(o=rs([o,v.pathnameBase]))}return u}function Sm(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=PM(n.path,n.caseSensitive,n.end),s=t.match(e);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:i.reduce((m,{paramName:g,isOptional:v},b)=>{if(g==="*"){let x=f[b]||"";u=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const w=f[b];return v&&!w?m[g]=void 0:m[g]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:n}}function PM(n,t=!1,e=!0){Sr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,h)=>(i.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function NM(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Sr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function _a(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function OM(n,t="/"){let{pathname:e,search:i="",hash:s=""}=typeof n=="string"?Au(n):n;return{pathname:e?e.startsWith("/")?e:MM(e,t):t,search:LM(i),hash:jM(s)}}function MM(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function iv(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function VM(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function qR(n){let t=VM(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function HR(n,t,e,i=!1){let s;typeof n=="string"?s=Au(n):(s={...n},xe(!s.pathname||!s.pathname.includes("?"),iv("?","pathname","search",s)),xe(!s.pathname||!s.pathname.includes("#"),iv("#","pathname","hash",s)),xe(!s.search||!s.search.includes("#"),iv("#","search","hash",s)));let o=n===""||s.pathname==="",u=o?"/":s.pathname,f;if(u==null)f=e;else{let v=t.length-1;if(!i&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),v-=1;s.pathname=b.join("/")}f=v>=0?t[v]:"/"}let h=OM(s,f),m=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&e.endsWith("/");return!h.pathname.endsWith("/")&&(m||g)&&(h.pathname+="/"),h}var rs=n=>n.join("/").replace(/\/\/+/g,"/"),kM=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),LM=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,jM=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function UM(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var GR=["POST","PUT","PATCH","DELETE"];new Set(GR);var BM=["GET",...GR];new Set(BM);var xu=C.createContext(null);xu.displayName="DataRouter";var mp=C.createContext(null);mp.displayName="DataRouterState";var KR=C.createContext({isTransitioning:!1});KR.displayName="ViewTransition";var zM=C.createContext(new Map);zM.displayName="Fetchers";var FM=C.createContext(null);FM.displayName="Await";var xr=C.createContext(null);xr.displayName="Navigation";var Qf=C.createContext(null);Qf.displayName="Location";var Rr=C.createContext({outlet:null,matches:[],isDataRoute:!1});Rr.displayName="Route";var h_=C.createContext(null);h_.displayName="RouteError";function qM(n,{relative:t}={}){xe(Xf(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=C.useContext(xr),{hash:s,pathname:o,search:u}=Wf(n,{relative:t}),f=o;return e!=="/"&&(f=o==="/"?e:rs([e,o])),i.createHref({pathname:f,search:u,hash:s})}function Xf(){return C.useContext(Qf)!=null}function Da(){return xe(Xf(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Qf).location}var $R="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function YR(n){C.useContext(xr).static||C.useLayoutEffect(n)}function HM(){let{isDataRoute:n}=C.useContext(Rr);return n?rV():GM()}function GM(){xe(Xf(),"useNavigate() may be used only in the context of a <Router> component.");let n=C.useContext(xu),{basename:t,navigator:e}=C.useContext(xr),{matches:i}=C.useContext(Rr),{pathname:s}=Da(),o=JSON.stringify(qR(i)),u=C.useRef(!1);return YR(()=>{u.current=!0}),C.useCallback((h,m={})=>{if(Sr(u.current,$R),!u.current)return;if(typeof h=="number"){e.go(h);return}let g=HR(h,JSON.parse(o),s,m.relative==="path");n==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:rs([t,g.pathname])),(m.replace?e.replace:e.push)(g,m.state,m)},[t,e,o,s,n])}C.createContext(null);function KM(){let{matches:n}=C.useContext(Rr),t=n[n.length-1];return t?t.params:{}}function Wf(n,{relative:t}={}){let{matches:e}=C.useContext(Rr),{pathname:i}=Da(),s=JSON.stringify(qR(e));return C.useMemo(()=>HR(n,JSON.parse(s),i,t==="path"),[n,s,i,t])}function $M(n,t){return QR(n,t)}function QR(n,t,e,i){var B;xe(Xf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:o}=C.useContext(xr),{matches:u}=C.useContext(Rr),f=u[u.length-1],h=f?f.params:{},m=f?f.pathname:"/",g=f?f.pathnameBase:"/",v=f&&f.route;{let j=v&&v.path||"";XR(m,!v||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let b=Da(),w;if(t){let j=typeof t=="string"?Au(t):t;xe(g==="/"||((B=j.pathname)==null?void 0:B.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${j.pathname}" was given in the \`location\` prop.`),w=j}else w=b;let x=w.pathname||"/",N=x;if(g!=="/"){let j=g.replace(/^\//,"").split("/");N="/"+x.replace(/^\//,"").split("/").slice(j.length).join("/")}let D=!o&&e&&e.matches&&e.matches.length>0?e.matches:BR(n,{pathname:N});Sr(v||D!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Sr(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=ZM(D&&D.map(j=>Object.assign({},j,{params:Object.assign({},h,j.params),pathname:rs([g,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?g:rs([g,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),u,e,i);return t&&V?C.createElement(Qf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},V):V}function YM(){let n=iV(),t=UM(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:o},"ErrorBoundary")," or"," ",C.createElement("code",{style:o},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),e?C.createElement("pre",{style:s},e):null,u)}var QM=C.createElement(YM,null),XM=class extends C.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?C.createElement(Rr.Provider,{value:this.props.routeContext},C.createElement(h_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WM({routeContext:n,match:t,children:e}){let i=C.useContext(xu);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),C.createElement(Rr.Provider,{value:n},e)}function ZM(n,t=[],e=null,i=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let s=n,o=e==null?void 0:e.errors;if(o!=null){let h=s.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);xe(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let u=!1,f=-1;if(e)for(let h=0;h<s.length;h++){let m=s[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=h),m.route.id){let{loaderData:g,errors:v}=e,b=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||b){u=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((h,m,g)=>{let v,b=!1,w=null,x=null;e&&(v=o&&m.route.id?o[m.route.id]:void 0,w=m.route.errorElement||QM,u&&(f<0&&g===0?(XR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,x=null):f===g&&(b=!0,x=m.route.hydrateFallbackElement||null)));let N=t.concat(s.slice(0,g+1)),D=()=>{let V;return v?V=w:b?V=x:m.route.Component?V=C.createElement(m.route.Component,null):m.route.element?V=m.route.element:V=h,C.createElement(WM,{match:m,routeContext:{outlet:h,matches:N,isDataRoute:e!=null},children:V})};return e&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?C.createElement(XM,{location:e.location,revalidation:e.revalidation,component:w,error:v,children:D(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):D()},null)}function d_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JM(n){let t=C.useContext(xu);return xe(t,d_(n)),t}function tV(n){let t=C.useContext(mp);return xe(t,d_(n)),t}function eV(n){let t=C.useContext(Rr);return xe(t,d_(n)),t}function m_(n){let t=eV(n),e=t.matches[t.matches.length-1];return xe(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function nV(){return m_("useRouteId")}function iV(){var i;let n=C.useContext(h_),t=tV("useRouteError"),e=m_("useRouteError");return n!==void 0?n:(i=t.errors)==null?void 0:i[e]}function rV(){let{router:n}=JM("useNavigate"),t=m_("useNavigate"),e=C.useRef(!1);return YR(()=>{e.current=!0}),C.useCallback(async(s,o={})=>{Sr(e.current,$R),e.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:t,...o}))},[n,t])}var VS={};function XR(n,t,e){!t&&!VS[n]&&(VS[n]=!0,Sr(!1,e))}C.memo(sV);function sV({routes:n,future:t,state:e}){return QR(n,void 0,e,t)}function $v(n){xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aV({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:s,static:o=!1}){xe(!Xf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),f=C.useMemo(()=>({basename:u,navigator:s,static:o,future:{}}),[u,s,o]);typeof e=="string"&&(e=Au(e));let{pathname:h="/",search:m="",hash:g="",state:v=null,key:b="default"}=e,w=C.useMemo(()=>{let x=_a(h,u);return x==null?null:{location:{pathname:x,search:m,hash:g,state:v,key:b},navigationType:i}},[u,h,m,g,v,b,i]);return Sr(w!=null,`<Router basename="${u}"> is not able to match the URL "${h}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:C.createElement(xr.Provider,{value:f},C.createElement(Qf.Provider,{children:t,value:w}))}function oV({children:n,location:t}){return $M(Yv(n),t)}function Yv(n,t=[]){let e=[];return C.Children.forEach(n,(i,s)=>{if(!C.isValidElement(i))return;let o=[...t,s];if(i.type===C.Fragment){e.push.apply(e,Yv(i.props.children,o));return}xe(i.type===$v,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xe(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Yv(i.props.children,o)),e.push(u)}),e}var tm="get",em="application/x-www-form-urlencoded";function pp(n){return n!=null&&typeof n.tagName=="string"}function lV(n){return pp(n)&&n.tagName.toLowerCase()==="button"}function uV(n){return pp(n)&&n.tagName.toLowerCase()==="form"}function cV(n){return pp(n)&&n.tagName.toLowerCase()==="input"}function fV(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function hV(n,t){return n.button===0&&(!t||t==="_self")&&!fV(n)}var Vd=null;function dV(){if(Vd===null)try{new FormData(document.createElement("form"),0),Vd=!1}catch{Vd=!0}return Vd}var mV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rv(n){return n!=null&&!mV.has(n)?(Sr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${em}"`),null):n}function pV(n,t){let e,i,s,o,u;if(uV(n)){let f=n.getAttribute("action");i=f?_a(f,t):null,e=n.getAttribute("method")||tm,s=rv(n.getAttribute("enctype"))||em,o=new FormData(n)}else if(lV(n)||cV(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||f.getAttribute("action");if(i=h?_a(h,t):null,e=n.getAttribute("formmethod")||f.getAttribute("method")||tm,s=rv(n.getAttribute("formenctype"))||rv(f.getAttribute("enctype"))||em,o=new FormData(f,n),!dV()){let{name:m,type:g,value:v}=n;if(g==="image"){let b=m?`${m}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else m&&o.append(m,v)}}else{if(pp(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=tm,i=null,s=em,u=n}return o&&s==="text/plain"&&(u=o,o=void 0),{action:i,method:e.toLowerCase(),encType:s,formData:o,body:u}}function p_(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function gV(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yV(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function vV(n,t,e){let i=await Promise.all(n.map(async s=>{let o=t.routes[s.route.id];if(o){let u=await gV(o,e);return u.links?u.links():[]}return[]}));return EV(i.flat(1).filter(yV).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function kS(n,t,e,i,s,o){let u=(h,m)=>e[m]?h.route.id!==e[m].route.id:!0,f=(h,m)=>{var g;return e[m].pathname!==h.pathname||((g=e[m].route.path)==null?void 0:g.endsWith("*"))&&e[m].params["*"]!==h.params["*"]};return o==="assets"?t.filter((h,m)=>u(h,m)||f(h,m)):o==="data"?t.filter((h,m)=>{var v;let g=i.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(u(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=e[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function _V(n,t){return bV(n.map(e=>{let i=t.routes[e.route.id];if(!i)return[];let s=[i.module];return i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function bV(n){return[...new Set(n)]}function TV(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function EV(n,t){let e=new Set;return new Set(t),n.reduce((i,s)=>{let o=JSON.stringify(TV(s));return e.has(o)||(e.add(o),i.push({key:o,link:s})),i},[])}function wV(n){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function SV(){let n=C.useContext(xu);return p_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function AV(){let n=C.useContext(mp);return p_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var g_=C.createContext(void 0);g_.displayName="FrameworkContext";function WR(){let n=C.useContext(g_);return p_(n,"You must render this element inside a <HydratedRouter> element"),n}function xV(n,t){let e=C.useContext(g_),[i,s]=C.useState(!1),[o,u]=C.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:g,onTouchStart:v}=t,b=C.useRef(null);C.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let N=V=>{V.forEach(B=>{u(B.isIntersecting)})},D=new IntersectionObserver(N,{threshold:.5});return b.current&&D.observe(b.current),()=>{D.disconnect()}}},[n]),C.useEffect(()=>{if(i){let N=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(N)}}},[i]);let w=()=>{s(!0)},x=()=>{s(!1),u(!1)};return e?n!=="intent"?[o,b,{}]:[o,b,{onFocus:Bc(f,w),onBlur:Bc(h,x),onMouseEnter:Bc(m,w),onMouseLeave:Bc(g,x),onTouchStart:Bc(v,w)}]:[!1,b,{}]}function Bc(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function RV({page:n,...t}){let{router:e}=SV(),i=C.useMemo(()=>BR(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?C.createElement(CV,{page:n,matches:i,...t}):null}function IV(n){let{manifest:t,routeModules:e}=WR(),[i,s]=C.useState([]);return C.useEffect(()=>{let o=!1;return vV(n,t,e).then(u=>{o||s(u)}),()=>{o=!0}},[n,t,e]),i}function CV({page:n,matches:t,...e}){let i=Da(),{manifest:s,routeModules:o}=WR(),{loaderData:u,matches:f}=AV(),h=C.useMemo(()=>kS(n,t,f,s,i,"data"),[n,t,f,s,i]),m=C.useMemo(()=>kS(n,t,f,s,i,"assets"),[n,t,f,s,i]),g=C.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let w=new Set,x=!1;if(t.forEach(D=>{var B;let V=s.routes[D.route.id];!V||!V.hasLoader||(!h.some(j=>j.route.id===D.route.id)&&D.route.id in u&&((B=o[D.route.id])!=null&&B.shouldRevalidate)||V.hasClientLoader?x=!0:w.add(D.route.id))}),w.size===0)return[];let N=wV(n);return x&&w.size>0&&N.searchParams.set("_routes",t.filter(D=>w.has(D.route.id)).map(D=>D.route.id).join(",")),[N.pathname+N.search]},[u,i,s,h,t,n,o]),v=C.useMemo(()=>_V(m,s),[m,s]),b=IV(m);return C.createElement(C.Fragment,null,g.map(w=>C.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...e})),v.map(w=>C.createElement("link",{key:w,rel:"modulepreload",href:w,...e})),b.map(({key:w,link:x})=>C.createElement("link",{key:w,...x})))}function DV(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var ZR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZR&&(window.__reactRouterVersion="7.1.5")}catch{}function PV({basename:n,children:t,window:e}){let i=C.useRef();i.current==null&&(i.current=yM({window:e,v5Compat:!0}));let s=i.current,[o,u]=C.useState({action:s.action,location:s.location}),f=C.useCallback(h=>{C.startTransition(()=>u(h))},[u]);return C.useLayoutEffect(()=>s.listen(f),[s,f]),C.createElement(aV,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:s})}var JR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zo=C.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:s,reloadDocument:o,replace:u,state:f,target:h,to:m,preventScrollReset:g,viewTransition:v,...b},w){let{basename:x}=C.useContext(xr),N=typeof m=="string"&&JR.test(m),D,V=!1;if(typeof m=="string"&&N&&(D=m,ZR))try{let R=new URL(window.location.href),M=m.startsWith("//")?new URL(R.protocol+m):new URL(m),U=_a(M.pathname,x);M.origin===R.origin&&U!=null?m=U+M.search+M.hash:V=!0}catch{Sr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=qM(m,{relative:s}),[j,Z,G]=xV(i,b),J=VV(m,{replace:u,state:f,target:h,preventScrollReset:g,relative:s,viewTransition:v});function O(R){t&&t(R),R.defaultPrevented||J(R)}let S=C.createElement("a",{...b,...G,href:D||B,onClick:V||o?t:O,ref:DV(w,Z),target:h,"data-discover":!N&&e==="render"?"true":void 0});return j&&!N?C.createElement(C.Fragment,null,S,C.createElement(RV,{page:B})):S});zo.displayName="Link";var NV=C.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:s=!1,style:o,to:u,viewTransition:f,children:h,...m},g){let v=Wf(u,{relative:m.relative}),b=Da(),w=C.useContext(mp),{navigator:x,basename:N}=C.useContext(xr),D=w!=null&&BV(v)&&f===!0,V=x.encodeLocation?x.encodeLocation(v).pathname:v.pathname,B=b.pathname,j=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;e||(B=B.toLowerCase(),j=j?j.toLowerCase():null,V=V.toLowerCase()),j&&N&&(j=_a(j,N)||j);const Z=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let G=B===V||!s&&B.startsWith(V)&&B.charAt(Z)==="/",J=j!=null&&(j===V||!s&&j.startsWith(V)&&j.charAt(V.length)==="/"),O={isActive:G,isPending:J,isTransitioning:D},S=G?t:void 0,R;typeof i=="function"?R=i(O):R=[i,G?"active":null,J?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let M=typeof o=="function"?o(O):o;return C.createElement(zo,{...m,"aria-current":S,className:R,ref:g,style:M,to:u,viewTransition:f},typeof h=="function"?h(O):h)});NV.displayName="NavLink";var OV=C.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:s,state:o,method:u=tm,action:f,onSubmit:h,relative:m,preventScrollReset:g,viewTransition:v,...b},w)=>{let x=jV(),N=UV(f,{relative:m}),D=u.toLowerCase()==="get"?"get":"post",V=typeof f=="string"&&JR.test(f),B=j=>{if(h&&h(j),j.defaultPrevented)return;j.preventDefault();let Z=j.nativeEvent.submitter,G=(Z==null?void 0:Z.getAttribute("formmethod"))||u;x(Z||j.currentTarget,{fetcherKey:t,method:G,navigate:e,replace:s,state:o,relative:m,preventScrollReset:g,viewTransition:v})};return C.createElement("form",{ref:w,method:D,action:N,onSubmit:i?h:B,...b,"data-discover":!V&&n==="render"?"true":void 0})});OV.displayName="Form";function MV(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tI(n){let t=C.useContext(xu);return xe(t,MV(n)),t}function VV(n,{target:t,replace:e,state:i,preventScrollReset:s,relative:o,viewTransition:u}={}){let f=HM(),h=Da(),m=Wf(n,{relative:o});return C.useCallback(g=>{if(hV(g,t)){g.preventDefault();let v=e!==void 0?e:Tf(h)===Tf(m);f(n,{replace:v,state:i,preventScrollReset:s,relative:o,viewTransition:u})}},[h,f,m,e,i,t,n,s,o,u])}var kV=0,LV=()=>`__${String(++kV)}__`;function jV(){let{router:n}=tI("useSubmit"),{basename:t}=C.useContext(xr),e=nV();return C.useCallback(async(i,s={})=>{let{action:o,method:u,encType:f,formData:h,body:m}=pV(i,t);if(s.navigate===!1){let g=s.fetcherKey||LV();await n.fetch(g,e,s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:m,formMethod:s.method||u,formEncType:s.encType||f,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:m,formMethod:s.method||u,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:e,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,t,e])}function UV(n,{relative:t}={}){let{basename:e}=C.useContext(xr),i=C.useContext(Rr);xe(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...Wf(n||".",{relative:t})},u=Da();if(n==null){o.search=u.search;let f=new URLSearchParams(o.search),h=f.getAll("index");if(h.some(g=>g==="")){f.delete("index"),h.filter(v=>v).forEach(v=>f.append("index",v));let g=f.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:rs([e,o.pathname])),Tf(o)}function BV(n,t={}){let e=C.useContext(KR);xe(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=tI("useViewTransitionState"),s=Wf(n,{relative:t.relative});if(!e.isTransitioning)return!1;let o=_a(e.currentLocation.pathname,i)||e.currentLocation.pathname,u=_a(e.nextLocation.pathname,i)||e.nextLocation.pathname;return Sm(s.pathname,u)!=null||Sm(s.pathname,o)!=null}new TextEncoder;var Qc=UR();const y_=C.createContext({});function v_(n){const t=C.useRef(null);return t.current===null&&(t.current=n()),t.current}const gp=C.createContext(null),__=C.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class zV extends C.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const i=e.offsetParent,s=i instanceof HTMLElement&&i.offsetWidth||0,o=this.props.sizeRef.current;o.height=e.offsetHeight||0,o.width=e.offsetWidth||0,o.top=e.offsetTop,o.left=e.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function FV({children:n,isPresent:t,anchorX:e}){const i=C.useId(),s=C.useRef(null),o=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=C.useContext(__);return C.useInsertionEffect(()=>{const{width:f,height:h,top:m,left:g,right:v}=o.current;if(t||!s.current||!f||!h)return;const b=e==="left"?`left: ${g}`:`right: ${v}`;s.current.dataset.motionPopId=i;const w=document.createElement("style");return u&&(w.nonce=u),document.head.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${h}px !important;
            ${b}px !important;
            top: ${m}px !important;
          }
        `),()=>{document.head.removeChild(w)}},[t]),P.jsx(zV,{isPresent:t,childRef:s,sizeRef:o,children:C.cloneElement(n,{ref:s})})}const qV=({children:n,initial:t,isPresent:e,onExitComplete:i,custom:s,presenceAffectsLayout:o,mode:u,anchorX:f})=>{const h=v_(HV),m=C.useId(),g=C.useCallback(b=>{h.set(b,!0);for(const w of h.values())if(!w)return;i&&i()},[h,i]),v=C.useMemo(()=>({id:m,initial:t,isPresent:e,custom:s,onExitComplete:g,register:b=>(h.set(b,!1),()=>h.delete(b))}),o?[Math.random(),g]:[e,g]);return C.useMemo(()=>{h.forEach((b,w)=>h.set(w,!1))},[e]),C.useEffect(()=>{!e&&!h.size&&i&&i()},[e]),u==="popLayout"&&(n=P.jsx(FV,{isPresent:e,anchorX:f,children:n})),P.jsx(gp.Provider,{value:v,children:n})};function HV(){return new Map}function eI(n=!0){const t=C.useContext(gp);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:s}=t,o=C.useId();C.useEffect(()=>{n&&s(o)},[n]);const u=C.useCallback(()=>n&&i&&i(o),[o,i,n]);return!e&&i?[!1,u]:[!0]}const kd=n=>n.key||"";function LS(n){const t=[];return C.Children.forEach(n,e=>{C.isValidElement(e)&&t.push(e)}),t}const b_=typeof window<"u",nI=b_?C.useLayoutEffect:C.useEffect,GV=({children:n,custom:t,initial:e=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync",propagate:u=!1,anchorX:f="left"})=>{const[h,m]=eI(u),g=C.useMemo(()=>LS(n),[n]),v=u&&!h?[]:g.map(kd),b=C.useRef(!0),w=C.useRef(g),x=v_(()=>new Map),[N,D]=C.useState(g),[V,B]=C.useState(g);nI(()=>{b.current=!1,w.current=g;for(let G=0;G<V.length;G++){const J=kd(V[G]);v.includes(J)?x.delete(J):x.get(J)!==!0&&x.set(J,!1)}},[V,v.length,v.join("-")]);const j=[];if(g!==N){let G=[...g];for(let J=0;J<V.length;J++){const O=V[J],S=kd(O);v.includes(S)||(G.splice(J,0,O),j.push(O))}return o==="wait"&&j.length&&(G=j),B(LS(G)),D(g),null}const{forceRender:Z}=C.useContext(y_);return P.jsx(P.Fragment,{children:V.map(G=>{const J=kd(G),O=u&&!h?!1:g===V||v.includes(J),S=()=>{if(x.has(J))x.set(J,!0);else return;let R=!0;x.forEach(M=>{M||(R=!1)}),R&&(Z==null||Z(),B(w.current),u&&(m==null||m()),i&&i())};return P.jsx(qV,{isPresent:O,initial:!b.current||e?void 0:!1,custom:t,presenceAffectsLayout:s,mode:o,onExitComplete:O?void 0:S,anchorX:f,children:G},J)})})},ci=n=>n;let iI=ci;function T_(n){let t;return()=>(t===void 0&&(t=n()),t)}const su=(n,t,e)=>{const i=t-n;return i===0?1:(e-n)/i},ss=n=>n*1e3,as=n=>n/1e3,KV={useManualTiming:!1},Ld=["read","resolveKeyframes","update","preRender","render","postRender"],jS={value:null};function $V(n,t){let e=new Set,i=new Set,s=!1,o=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1},h=0;function m(v){u.has(v)&&(g.schedule(v),n()),h++,v(f)}const g={schedule:(v,b=!1,w=!1)=>{const N=w&&s?e:i;return b&&u.add(v),N.has(v)||N.add(v),v},cancel:v=>{i.delete(v),u.delete(v)},process:v=>{if(f=v,s){o=!0;return}s=!0,[e,i]=[i,e],e.forEach(m),t&&jS.value&&jS.value.frameloop[t].push(h),h=0,e.clear(),s=!1,o&&(o=!1,g.process(v))}};return g}const YV=40;function rI(n,t){let e=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>e=!0,u=Ld.reduce((V,B)=>(V[B]=$V(o,t?B:void 0),V),{}),{read:f,resolveKeyframes:h,update:m,preRender:g,render:v,postRender:b}=u,w=()=>{const V=performance.now();e=!1,s.delta=i?1e3/60:Math.max(Math.min(V-s.timestamp,YV),1),s.timestamp=V,s.isProcessing=!0,f.process(s),h.process(s),m.process(s),g.process(s),v.process(s),b.process(s),s.isProcessing=!1,e&&t&&(i=!1,n(w))},x=()=>{e=!0,i=!0,s.isProcessing||n(w)};return{schedule:Ld.reduce((V,B)=>{const j=u[B];return V[B]=(Z,G=!1,J=!1)=>(e||x(),j.schedule(Z,G,J)),V},{}),cancel:V=>{for(let B=0;B<Ld.length;B++)u[Ld[B]].cancel(V)},state:s,steps:u}}const{schedule:de,cancel:ba,state:wn,steps:sv}=rI(typeof requestAnimationFrame<"u"?requestAnimationFrame:ci,!0),sI=C.createContext({strict:!1}),US={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},au={};for(const n in US)au[n]={isEnabled:t=>US[n].some(e=>!!t[e])};function QV(n){for(const t in n)au[t]={...au[t],...n[t]}}const XV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Am(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||XV.has(n)}let aI=n=>!Am(n);function WV(n){n&&(aI=t=>t.startsWith("on")?!Am(t):n(t))}try{WV(require("@emotion/is-prop-valid").default)}catch{}function ZV(n,t,e){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(aI(s)||e===!0&&Am(s)||!t&&!Am(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}function JV(n){if(typeof Proxy>"u")return n;const t=new Map,e=(...i)=>n(...i);return new Proxy(e,{get:(i,s)=>s==="create"?n:(t.has(s)||t.set(s,n(s)),t.get(s))})}const yp=C.createContext({});function vp(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Ef(n){return typeof n=="string"||Array.isArray(n)}const E_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],w_=["initial",...E_];function _p(n){return vp(n.animate)||w_.some(t=>Ef(n[t]))}function oI(n){return!!(_p(n)||n.variants)}function tk(n,t){if(_p(n)){const{initial:e,animate:i}=n;return{initial:e===!1||Ef(e)?e:void 0,animate:Ef(i)?i:void 0}}return n.inherit!==!1?t:{}}function ek(n){const{initial:t,animate:e}=tk(n,C.useContext(yp));return C.useMemo(()=>({initial:t,animate:e}),[BS(t),BS(e)])}function BS(n){return Array.isArray(n)?n.join(" "):n}const nk=Symbol.for("motionComponentSymbol");function Gl(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function ik(n,t,e){return C.useCallback(i=>{i&&n.onMount&&n.onMount(i),t&&(i?t.mount(i):t.unmount()),e&&(typeof e=="function"?e(i):Gl(e)&&(e.current=i))},[t])}const S_=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),rk="framerAppearId",lI="data-"+S_(rk),{schedule:A_}=rI(queueMicrotask,!1),uI=C.createContext({});function sk(n,t,e,i,s){var o,u;const{visualElement:f}=C.useContext(yp),h=C.useContext(sI),m=C.useContext(gp),g=C.useContext(__).reducedMotion,v=C.useRef(null);i=i||h.renderer,!v.current&&i&&(v.current=i(n,{visualState:t,parent:f,props:e,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:g}));const b=v.current,w=C.useContext(uI);b&&!b.projection&&s&&(b.type==="html"||b.type==="svg")&&ak(v.current,e,s,w);const x=C.useRef(!1);C.useInsertionEffect(()=>{b&&x.current&&b.update(e,m)});const N=e[lI],D=C.useRef(!!N&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,N))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,N)));return nI(()=>{b&&(x.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),A_.render(b.render),D.current&&b.animationState&&b.animationState.animateChanges())}),C.useEffect(()=>{b&&(!D.current&&b.animationState&&b.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{var V;(V=window.MotionHandoffMarkAsComplete)===null||V===void 0||V.call(window,N)}),D.current=!1))}),b}function ak(n,t,e,i){const{layoutId:s,layout:o,drag:u,dragConstraints:f,layoutScroll:h,layoutRoot:m}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:cI(n.parent)),n.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!u||f&&Gl(f),visualElement:n,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:m})}function cI(n){if(n)return n.options.allowProjection!==!1?n.projection:cI(n.parent)}function ok({preloadedFeatures:n,createVisualElement:t,useRender:e,useVisualState:i,Component:s}){var o,u;n&&QV(n);function f(m,g){let v;const b={...C.useContext(__),...m,layoutId:lk(m)},{isStatic:w}=b,x=ek(m),N=i(m,w);if(!w&&b_){uk();const D=ck(b);v=D.MeasureLayout,x.visualElement=sk(s,N,b,t,D.ProjectionNode)}return P.jsxs(yp.Provider,{value:x,children:[v&&x.visualElement?P.jsx(v,{visualElement:x.visualElement,...b}):null,e(s,m,ik(N,x.visualElement,g),N,w,x.visualElement)]})}f.displayName=`motion.${typeof s=="string"?s:`create(${(u=(o=s.displayName)!==null&&o!==void 0?o:s.name)!==null&&u!==void 0?u:""})`}`;const h=C.forwardRef(f);return h[nk]=s,h}function lk({layoutId:n}){const t=C.useContext(y_).id;return t&&n!==void 0?t+"-"+n:n}function uk(n,t){C.useContext(sI).strict}function ck(n){const{drag:t,layout:e}=au;if(!t&&!e)return{};const i={...t,...e};return{MeasureLayout:t!=null&&t.isEnabled(n)||e!=null&&e.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const fI=n=>t=>typeof t=="string"&&t.startsWith(n),x_=fI("--"),fk=fI("var(--"),R_=n=>fk(n)?hk.test(n.split("/*")[0].trim()):!1,hk=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,wf={};function dk(n){for(const t in n)wf[t]=n[t],x_(t)&&(wf[t].isCSSVariable=!0)}const Ru=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Fo=new Set(Ru);function hI(n,{layout:t,layoutId:e}){return Fo.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!wf[n]||n==="opacity")}const Mn=n=>!!(n&&n.getVelocity),dI=(n,t)=>t&&typeof n=="number"?t.transform(n):n,ls=(n,t,e)=>e>t?t:e<n?n:e,Iu={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Sf={...Iu,transform:n=>ls(0,1,n)},jd={...Iu,default:1},Zf=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),ra=Zf("deg"),br=Zf("%"),Rt=Zf("px"),mk=Zf("vh"),pk=Zf("vw"),zS={...br,parse:n=>br.parse(n)/100,transform:n=>br.transform(n*100)},gk={borderWidth:Rt,borderTopWidth:Rt,borderRightWidth:Rt,borderBottomWidth:Rt,borderLeftWidth:Rt,borderRadius:Rt,radius:Rt,borderTopLeftRadius:Rt,borderTopRightRadius:Rt,borderBottomRightRadius:Rt,borderBottomLeftRadius:Rt,width:Rt,maxWidth:Rt,height:Rt,maxHeight:Rt,top:Rt,right:Rt,bottom:Rt,left:Rt,padding:Rt,paddingTop:Rt,paddingRight:Rt,paddingBottom:Rt,paddingLeft:Rt,margin:Rt,marginTop:Rt,marginRight:Rt,marginBottom:Rt,marginLeft:Rt,backgroundPositionX:Rt,backgroundPositionY:Rt},yk={rotate:ra,rotateX:ra,rotateY:ra,rotateZ:ra,scale:jd,scaleX:jd,scaleY:jd,scaleZ:jd,skew:ra,skewX:ra,skewY:ra,distance:Rt,translateX:Rt,translateY:Rt,translateZ:Rt,x:Rt,y:Rt,z:Rt,perspective:Rt,transformPerspective:Rt,opacity:Sf,originX:zS,originY:zS,originZ:Rt},FS={...Iu,transform:Math.round},I_={...gk,...yk,zIndex:FS,size:Rt,fillOpacity:Sf,strokeOpacity:Sf,numOctaves:FS},vk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_k=Ru.length;function bk(n,t,e){let i="",s=!0;for(let o=0;o<_k;o++){const u=Ru[o],f=n[u];if(f===void 0)continue;let h=!0;if(typeof f=="number"?h=f===(u.startsWith("scale")?1:0):h=parseFloat(f)===0,!h||e){const m=dI(f,I_[u]);if(!h){s=!1;const g=vk[u]||u;i+=`${g}(${m}) `}e&&(t[u]=m)}}return i=i.trim(),e?i=e(t,s?"":i):s&&(i="none"),i}function C_(n,t,e){const{style:i,vars:s,transformOrigin:o}=n;let u=!1,f=!1;for(const h in t){const m=t[h];if(Fo.has(h)){u=!0;continue}else if(x_(h)){s[h]=m;continue}else{const g=dI(m,I_[h]);h.startsWith("origin")?(f=!0,o[h]=g):i[h]=g}}if(t.transform||(u||e?i.transform=bk(t,n.transform,e):i.transform&&(i.transform="none")),f){const{originX:h="50%",originY:m="50%",originZ:g=0}=o;i.transformOrigin=`${h} ${m} ${g}`}}const D_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function mI(n,t,e){for(const i in t)!Mn(t[i])&&!hI(i,e)&&(n[i]=t[i])}function Tk({transformTemplate:n},t){return C.useMemo(()=>{const e=D_();return C_(e,t,n),Object.assign({},e.vars,e.style)},[t])}function Ek(n,t){const e=n.style||{},i={};return mI(i,e,n),Object.assign(i,Tk(n,t)),i}function wk(n,t){const e={},i=Ek(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=i,e}const Sk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function P_(n){return typeof n!="string"||n.includes("-")?!1:!!(Sk.indexOf(n)>-1||/[A-Z]/u.test(n))}const Ak={offset:"stroke-dashoffset",array:"stroke-dasharray"},xk={offset:"strokeDashoffset",array:"strokeDasharray"};function Rk(n,t,e=1,i=0,s=!0){n.pathLength=1;const o=s?Ak:xk;n[o.offset]=Rt.transform(-i);const u=Rt.transform(t),f=Rt.transform(e);n[o.array]=`${u} ${f}`}function qS(n,t,e){return typeof n=="string"?n:Rt.transform(t+e*n)}function Ik(n,t,e){const i=qS(t,n.x,n.width),s=qS(e,n.y,n.height);return`${i} ${s}`}function N_(n,{attrX:t,attrY:e,attrScale:i,originX:s,originY:o,pathLength:u,pathSpacing:f=1,pathOffset:h=0,...m},g,v){if(C_(n,m,v),g){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:b,style:w,dimensions:x}=n;b.transform&&(x&&(w.transform=b.transform),delete b.transform),x&&(s!==void 0||o!==void 0||w.transform)&&(w.transformOrigin=Ik(x,s!==void 0?s:.5,o!==void 0?o:.5)),t!==void 0&&(b.x=t),e!==void 0&&(b.y=e),i!==void 0&&(b.scale=i),u!==void 0&&Rk(b,u,f,h,!1)}const pI=()=>({...D_(),attrs:{}}),O_=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Ck(n,t,e,i){const s=C.useMemo(()=>{const o=pI();return N_(o,t,O_(i),n.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(n.style){const o={};mI(o,n.style,n),s.style={...o,...s.style}}return s}function Dk(n=!1){return(e,i,s,{latestValues:o},u)=>{const h=(P_(e)?Ck:wk)(i,o,u,e),m=ZV(i,typeof e=="string",n),g=e!==C.Fragment?{...m,...h,ref:s}:{},{children:v}=i,b=C.useMemo(()=>Mn(v)?v.get():v,[v]);return C.createElement(e,{...g,children:b})}}function HS(n){const t=[{},{}];return n==null||n.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function M_(n,t,e,i){if(typeof t=="function"){const[s,o]=HS(i);t=t(e!==void 0?e:n.custom,s,o)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[s,o]=HS(i);t=t(e!==void 0?e:n.custom,s,o)}return t}const Qv=n=>Array.isArray(n),Pk=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),Nk=n=>Qv(n)?n[n.length-1]||0:n;function nm(n){const t=Mn(n)?n.get():n;return Pk(t)?t.toValue():t}function Ok({scrapeMotionValuesFromProps:n,createRenderState:t,onUpdate:e},i,s,o){const u={latestValues:Mk(i,s,o,n),renderState:t()};return e&&(u.onMount=f=>e({props:i,current:f,...u}),u.onUpdate=f=>e(f)),u}const gI=n=>(t,e)=>{const i=C.useContext(yp),s=C.useContext(gp),o=()=>Ok(n,t,i,s);return e?o():v_(o)};function Mk(n,t,e,i){const s={},o=i(n,{});for(const b in o)s[b]=nm(o[b]);let{initial:u,animate:f}=n;const h=_p(n),m=oI(n);t&&m&&!h&&n.inherit!==!1&&(u===void 0&&(u=t.initial),f===void 0&&(f=t.animate));let g=e?e.initial===!1:!1;g=g||u===!1;const v=g?f:u;if(v&&typeof v!="boolean"&&!vp(v)){const b=Array.isArray(v)?v:[v];for(let w=0;w<b.length;w++){const x=M_(n,b[w]);if(x){const{transitionEnd:N,transition:D,...V}=x;for(const B in V){let j=V[B];if(Array.isArray(j)){const Z=g?j.length-1:0;j=j[Z]}j!==null&&(s[B]=j)}for(const B in N)s[B]=N[B]}}}return s}function V_(n,t,e){var i;const{style:s}=n,o={};for(const u in s)(Mn(s[u])||t.style&&Mn(t.style[u])||hI(u,n)||((i=e==null?void 0:e.getValue(u))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(o[u]=s[u]);return o}const Vk={useVisualState:gI({scrapeMotionValuesFromProps:V_,createRenderState:D_})};function yI(n,t){try{t.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function vI(n,{style:t,vars:e},i,s){Object.assign(n.style,t,s&&s.getProjectionStyles(i));for(const o in e)n.style.setProperty(o,e[o])}const _I=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function bI(n,t,e,i){vI(n,t,void 0,i);for(const s in t.attrs)n.setAttribute(_I.has(s)?s:S_(s),t.attrs[s])}function TI(n,t,e){const i=V_(n,t,e);for(const s in n)if(Mn(n[s])||Mn(t[s])){const o=Ru.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[o]=n[s]}return i}const GS=["x","y","width","height","cx","cy","r"],kk={useVisualState:gI({scrapeMotionValuesFromProps:TI,createRenderState:pI,onUpdate:({props:n,prevProps:t,current:e,renderState:i,latestValues:s})=>{if(!e)return;let o=!!n.drag;if(!o){for(const f in s)if(Fo.has(f)){o=!0;break}}if(!o)return;let u=!t;if(t)for(let f=0;f<GS.length;f++){const h=GS[f];n[h]!==t[h]&&(u=!0)}u&&de.read(()=>{yI(e,i),de.render(()=>{N_(i,s,O_(e.tagName),n.transformTemplate),bI(e,i)})})}})};function Lk(n,t){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const u={...P_(i)?kk:Vk,preloadedFeatures:n,useRender:Dk(s),createVisualElement:t,Component:i};return ok(u)}}function Af(n,t,e){const i=n.getProps();return M_(i,t,e!==void 0?e:i.custom,n)}const jk=T_(()=>window.ScrollTimeline!==void 0);class Uk{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,e){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=e}attachTimeline(t,e){const i=this.animations.map(s=>{if(jk()&&s.attachTimeline)return s.attachTimeline(t);if(typeof e=="function")return e(s)});return()=>{i.forEach((s,o)=>{s&&s(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let e=0;e<this.animations.length;e++)t=Math.max(t,this.animations[e].duration);return t}runAll(t){this.animations.forEach(e=>e[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Bk extends Uk{then(t,e){return Promise.all(this.animations).then(t).catch(e)}}function k_(n,t){return n?n[t]||n.default||n:void 0}const Xv=2e4;function EI(n){let t=0;const e=50;let i=n.next(t);for(;!i.done&&t<Xv;)t+=e,i=n.next(t);return t>=Xv?1/0:t}function L_(n){return typeof n=="function"}function KS(n,t){n.timeline=t,n.onfinish=null}const j_=n=>Array.isArray(n)&&typeof n[0]=="number",zk={linearEasing:void 0};function Fk(n,t){const e=T_(n);return()=>{var i;return(i=zk[t])!==null&&i!==void 0?i:e()}}const xm=Fk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),wI=(n,t,e=10)=>{let i="";const s=Math.max(Math.round(t/e),2);for(let o=0;o<s;o++)i+=n(su(0,s-1,o))+", ";return`linear(${i.substring(0,i.length-2)})`};function SI(n){return!!(typeof n=="function"&&xm()||!n||typeof n=="string"&&(n in Wv||xm())||j_(n)||Array.isArray(n)&&n.every(SI))}const Xc=([n,t,e,i])=>`cubic-bezier(${n}, ${t}, ${e}, ${i})`,Wv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xc([0,.65,.55,1]),circOut:Xc([.55,0,1,.45]),backIn:Xc([.31,.01,.66,-.59]),backOut:Xc([.33,1.53,.69,.99])};function AI(n,t){if(n)return typeof n=="function"&&xm()?wI(n,t):j_(n)?Xc(n):Array.isArray(n)?n.map(e=>AI(e,t)||Wv.easeOut):Wv[n]}const qi={x:!1,y:!1};function xI(){return qi.x||qi.y}function qk(n,t,e){var i;if(n instanceof Element)return[n];if(typeof n=="string"){let s=document;const o=(i=void 0)!==null&&i!==void 0?i:s.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}function RI(n,t){const e=qk(n),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[e,s,()=>i.abort()]}function $S(n){return!(n.pointerType==="touch"||xI())}function Hk(n,t,e={}){const[i,s,o]=RI(n,e),u=f=>{if(!$S(f))return;const{target:h}=f,m=t(h,f);if(typeof m!="function"||!h)return;const g=v=>{$S(v)&&(m(v),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,s)};return i.forEach(f=>{f.addEventListener("pointerenter",u,s)}),o}const II=(n,t)=>t?n===t?!0:II(n,t.parentElement):!1,U_=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,Gk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Kk(n){return Gk.has(n.tagName)||n.tabIndex!==-1}const Wc=new WeakSet;function YS(n){return t=>{t.key==="Enter"&&n(t)}}function av(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const $k=(n,t)=>{const e=n.currentTarget;if(!e)return;const i=YS(()=>{if(Wc.has(e))return;av(e,"down");const s=YS(()=>{av(e,"up")}),o=()=>av(e,"cancel");e.addEventListener("keyup",s,t),e.addEventListener("blur",o,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function QS(n){return U_(n)&&!xI()}function Yk(n,t,e={}){const[i,s,o]=RI(n,e),u=f=>{const h=f.currentTarget;if(!QS(f)||Wc.has(h))return;Wc.add(h);const m=t(h,f),g=(w,x)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),!(!QS(w)||!Wc.has(h))&&(Wc.delete(h),typeof m=="function"&&m(w,{success:x}))},v=w=>{g(w,e.useGlobalTarget||II(h,w.target))},b=w=>{g(w,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",b,s)};return i.forEach(f=>{!Kk(f)&&f.getAttribute("tabindex")===null&&(f.tabIndex=0),(e.useGlobalTarget?window:f).addEventListener("pointerdown",u,s),f.addEventListener("focus",m=>$k(m,s),s)}),o}function Qk(n){return n==="x"||n==="y"?qi[n]?null:(qi[n]=!0,()=>{qi[n]=!1}):qi.x||qi.y?null:(qi.x=qi.y=!0,()=>{qi.x=qi.y=!1})}const CI=new Set(["width","height","top","left","right","bottom",...Ru]);let im;function Xk(){im=void 0}const Tr={now:()=>(im===void 0&&Tr.set(wn.isProcessing||KV.useManualTiming?wn.timestamp:performance.now()),im),set:n=>{im=n,queueMicrotask(Xk)}};function B_(n,t){n.indexOf(t)===-1&&n.push(t)}function z_(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}class F_{constructor(){this.subscriptions=[]}add(t){return B_(this.subscriptions,t),()=>z_(this.subscriptions,t)}notify(t,e,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,e,i);else for(let o=0;o<s;o++){const u=this.subscriptions[o];u&&u(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function DI(n,t){return t?n*(1e3/t):0}const XS=30,Wk=n=>!isNaN(parseFloat(n));class Zk{constructor(t,e={}){this.version="12.4.3",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{const o=Tr.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Tr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Wk(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new F_);const i=this.events[t].add(e);return t==="change"?()=>{i(),de.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){!e||!this.passiveEffect?this.updateAndNotify(t,e):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Tr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>XS)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,XS);return DI(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xf(n,t){return new Zk(n,t)}function Jk(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,xf(e))}function t4(n,t){const e=Af(n,t);let{transitionEnd:i={},transition:s={},...o}=e||{};o={...o,...i};for(const u in o){const f=Nk(o[u]);Jk(n,u,f)}}function e4(n){return!!(Mn(n)&&n.add)}function Zv(n,t){const e=n.getValue("willChange");if(e4(e))return e.add(t)}function PI(n){return n.props[lI]}const NI=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,n4=1e-7,i4=12;function r4(n,t,e,i,s){let o,u,f=0;do u=t+(e-t)/2,o=NI(u,i,s)-n,o>0?e=u:t=u;while(Math.abs(o)>n4&&++f<i4);return u}function Jf(n,t,e,i){if(n===t&&e===i)return ci;const s=o=>r4(o,0,1,n,e);return o=>o===0||o===1?o:NI(s(o),t,i)}const OI=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,MI=n=>t=>1-n(1-t),VI=Jf(.33,1.53,.69,.99),q_=MI(VI),kI=OI(q_),LI=n=>(n*=2)<1?.5*q_(n):.5*(2-Math.pow(2,-10*(n-1))),H_=n=>1-Math.sin(Math.acos(n)),jI=MI(H_),UI=OI(H_),BI=n=>/^0[^.\s]+$/u.test(n);function s4(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||BI(n):!0}const sf=n=>Math.round(n*1e5)/1e5,G_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function a4(n){return n==null}const o4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,K_=(n,t)=>e=>!!(typeof e=="string"&&o4.test(e)&&e.startsWith(n)||t&&!a4(e)&&Object.prototype.hasOwnProperty.call(e,t)),zI=(n,t,e)=>i=>{if(typeof i!="string")return i;const[s,o,u,f]=i.match(G_);return{[n]:parseFloat(s),[t]:parseFloat(o),[e]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},l4=n=>ls(0,255,n),ov={...Iu,transform:n=>Math.round(l4(n))},Eo={test:K_("rgb","red"),parse:zI("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:i=1})=>"rgba("+ov.transform(n)+", "+ov.transform(t)+", "+ov.transform(e)+", "+sf(Sf.transform(i))+")"};function u4(n){let t="",e="",i="",s="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),t+=t,e+=e,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const Jv={test:K_("#"),parse:u4,transform:Eo.transform},Kl={test:K_("hsl","hue"),parse:zI("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(n)+", "+br.transform(sf(t))+", "+br.transform(sf(e))+", "+sf(Sf.transform(i))+")"},Nn={test:n=>Eo.test(n)||Jv.test(n)||Kl.test(n),parse:n=>Eo.test(n)?Eo.parse(n):Kl.test(n)?Kl.parse(n):Jv.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Eo.transform(n):Kl.transform(n)},c4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function f4(n){var t,e;return isNaN(n)&&typeof n=="string"&&(((t=n.match(G_))===null||t===void 0?void 0:t.length)||0)+(((e=n.match(c4))===null||e===void 0?void 0:e.length)||0)>0}const FI="number",qI="color",h4="var",d4="var(",WS="${}",m4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Rf(n){const t=n.toString(),e=[],i={color:[],number:[],var:[]},s=[];let o=0;const f=t.replace(m4,h=>(Nn.test(h)?(i.color.push(o),s.push(qI),e.push(Nn.parse(h))):h.startsWith(d4)?(i.var.push(o),s.push(h4),e.push(h)):(i.number.push(o),s.push(FI),e.push(parseFloat(h))),++o,WS)).split(WS);return{values:e,split:f,indexes:i,types:s}}function HI(n){return Rf(n).values}function GI(n){const{split:t,types:e}=Rf(n),i=t.length;return s=>{let o="";for(let u=0;u<i;u++)if(o+=t[u],s[u]!==void 0){const f=e[u];f===FI?o+=sf(s[u]):f===qI?o+=Nn.transform(s[u]):o+=s[u]}return o}}const p4=n=>typeof n=="number"?0:n;function g4(n){const t=HI(n);return GI(n)(t.map(p4))}const Ta={test:f4,parse:HI,createTransformer:GI,getAnimatableNone:g4},y4=new Set(["brightness","contrast","saturate","opacity"]);function v4(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[i]=e.match(G_)||[];if(!i)return n;const s=e.replace(i,"");let o=y4.has(t)?1:0;return i!==e&&(o*=100),t+"("+o+s+")"}const _4=/\b([a-z-]*)\(.*?\)/gu,t0={...Ta,getAnimatableNone:n=>{const t=n.match(_4);return t?t.map(v4).join(" "):n}},b4={...I_,color:Nn,backgroundColor:Nn,outlineColor:Nn,fill:Nn,stroke:Nn,borderColor:Nn,borderTopColor:Nn,borderRightColor:Nn,borderBottomColor:Nn,borderLeftColor:Nn,filter:t0,WebkitFilter:t0},$_=n=>b4[n];function KI(n,t){let e=$_(n);return e!==t0&&(e=Ta),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const T4=new Set(["auto","none","0"]);function E4(n,t,e){let i=0,s;for(;i<n.length&&!s;){const o=n[i];typeof o=="string"&&!T4.has(o)&&Rf(o).values.length&&(s=n[i]),i++}if(s&&e)for(const o of t)n[o]=KI(e,s)}const ZS=n=>n===Iu||n===Rt,JS=(n,t)=>parseFloat(n.split(", ")[t]),tA=(n,t)=>(e,{transform:i})=>{if(i==="none"||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/u);if(s)return JS(s[1],t);{const o=i.match(/^matrix\((.+)\)$/u);return o?JS(o[1],n):0}},w4=new Set(["x","y","z"]),S4=Ru.filter(n=>!w4.has(n));function A4(n){const t=[];return S4.forEach(e=>{const i=n.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const ou={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:tA(4,13),y:tA(5,14)};ou.translateX=ou.x;ou.translateY=ou.y;const Ao=new Set;let e0=!1,n0=!1;function $I(){if(n0){const n=Array.from(Ao).filter(i=>i.needsMeasurement),t=new Set(n.map(i=>i.element)),e=new Map;t.forEach(i=>{const s=A4(i);s.length&&(e.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=e.get(i);s&&s.forEach(([o,u])=>{var f;(f=i.getValue(o))===null||f===void 0||f.set(u)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}n0=!1,e0=!1,Ao.forEach(n=>n.complete()),Ao.clear()}function YI(){Ao.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(n0=!0)})}function x4(){YI(),$I()}class Y_{constructor(t,e,i,s,o,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=s,this.element=o,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ao.add(this),e0||(e0=!0,de.read(YI),de.resolveKeyframes($I))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:s}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const u=s==null?void 0:s.get(),f=t[t.length-1];if(u!==void 0)t[0]=u;else if(i&&e){const h=i.readValue(e,f);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=f),s&&u===void 0&&s.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ao.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ao.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const QI=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),R4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function I4(n){const t=R4.exec(n);if(!t)return[,];const[,e,i,s]=t;return[`--${e??i}`,s]}function XI(n,t,e=1){const[i,s]=I4(n);if(!i)return;const o=window.getComputedStyle(t).getPropertyValue(i);if(o){const u=o.trim();return QI(u)?parseFloat(u):u}return R_(s)?XI(s,t,e+1):s}const WI=n=>t=>t.test(n),C4={test:n=>n==="auto",parse:n=>n},ZI=[Iu,Rt,br,ra,pk,mk,C4],eA=n=>ZI.find(WI(n));class JI extends Y_{constructor(t,e,i,s,o){super(t,e,i,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let m=t[h];if(typeof m=="string"&&(m=m.trim(),R_(m))){const g=XI(m,e.current);g!==void 0&&(t[h]=g),h===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!CI.has(i)||t.length!==2)return;const[s,o]=t,u=eA(s),f=eA(o);if(u!==f)if(ZS(u)&&ZS(f))for(let h=0;h<t.length;h++){const m=t[h];typeof m=="string"&&(t[h]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let s=0;s<t.length;s++)s4(t[s])&&i.push(s);i.length&&E4(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ou[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const s=e[e.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){var t;const{element:e,name:i,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const o=e.getValue(i);o&&o.jump(this.measuredOrigin,!1);const u=s.length-1,f=s[u];s[u]=ou[i](e.measureViewportBox(),window.getComputedStyle(e.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([h,m])=>{e.getValue(h).set(m)}),this.resolveNoneKeyframes()}}const nA=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ta.test(n)||n==="0")&&!n.startsWith("url("));function D4(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function P4(n,t,e,i){const s=n[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const o=n[n.length-1],u=nA(s,t),f=nA(o,t);return!u||!f?!1:D4(n)||(e==="spring"||L_(e))&&i}const N4=n=>n!==null;function bp(n,{repeat:t,repeatType:e="loop"},i){const s=n.filter(N4),o=t&&e!=="loop"&&t%2===1?0:s.length-1;return!o||i===void 0?s[o]:i}const O4=40;class tC{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:u="loop",...f}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Tr.now(),this.options={autoplay:t,delay:e,type:i,repeat:s,repeatDelay:o,repeatType:u,...f},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>O4?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&x4(),this._resolved}onKeyframesResolved(t,e){this.resolvedAt=Tr.now(),this.hasAttemptedResolve=!0;const{name:i,type:s,velocity:o,delay:u,onComplete:f,onUpdate:h,isGenerator:m}=this.options;if(!m&&!P4(t,i,s,o))if(u)this.options.duration=0;else{h&&h(bp(t,this.options,e)),f&&f(),this.resolveFinishedPromise();return}const g=this.initPlayback(t,e);g!==!1&&(this._resolved={keyframes:t,finalKeyframe:e,...g},this.onPostResolved())}onPostResolved(){}then(t,e){return this.currentFinishedPromise.then(t,e)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Se=(n,t,e)=>n+(t-n)*e;function lv(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function M4({hue:n,saturation:t,lightness:e,alpha:i}){n/=360,t/=100,e/=100;let s=0,o=0,u=0;if(!t)s=o=u=e;else{const f=e<.5?e*(1+t):e+t-e*t,h=2*e-f;s=lv(h,f,n+1/3),o=lv(h,f,n),u=lv(h,f,n-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:i}}function Rm(n,t){return e=>e>0?t:n}const uv=(n,t,e)=>{const i=n*n,s=e*(t*t-i)+i;return s<0?0:Math.sqrt(s)},V4=[Jv,Eo,Kl],k4=n=>V4.find(t=>t.test(n));function iA(n){const t=k4(n);if(!t)return!1;let e=t.parse(n);return t===Kl&&(e=M4(e)),e}const rA=(n,t)=>{const e=iA(n),i=iA(t);if(!e||!i)return Rm(n,t);const s={...e};return o=>(s.red=uv(e.red,i.red,o),s.green=uv(e.green,i.green,o),s.blue=uv(e.blue,i.blue,o),s.alpha=Se(e.alpha,i.alpha,o),Eo.transform(s))},L4=(n,t)=>e=>t(n(e)),th=(...n)=>n.reduce(L4),i0=new Set(["none","hidden"]);function j4(n,t){return i0.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function U4(n,t){return e=>Se(n,t,e)}function Q_(n){return typeof n=="number"?U4:typeof n=="string"?R_(n)?Rm:Nn.test(n)?rA:F4:Array.isArray(n)?eC:typeof n=="object"?Nn.test(n)?rA:B4:Rm}function eC(n,t){const e=[...n],i=e.length,s=n.map((o,u)=>Q_(o)(o,t[u]));return o=>{for(let u=0;u<i;u++)e[u]=s[u](o);return e}}function B4(n,t){const e={...n,...t},i={};for(const s in e)n[s]!==void 0&&t[s]!==void 0&&(i[s]=Q_(n[s])(n[s],t[s]));return s=>{for(const o in i)e[o]=i[o](s);return e}}function z4(n,t){var e;const i=[],s={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],f=n.indexes[u][s[u]],h=(e=n.values[f])!==null&&e!==void 0?e:0;i[o]=h,s[u]++}return i}const F4=(n,t)=>{const e=Ta.createTransformer(t),i=Rf(n),s=Rf(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?i0.has(n)&&!s.values.length||i0.has(t)&&!i.values.length?j4(n,t):th(eC(z4(i,s),s.values),e):Rm(n,t)};function nC(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?Se(n,t,e):Q_(n)(n,t)}const q4=5;function iC(n,t,e){const i=Math.max(t-q4,0);return DI(e-n(i),t-i)}const Oe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sA=.001;function H4({duration:n=Oe.duration,bounce:t=Oe.bounce,velocity:e=Oe.velocity,mass:i=Oe.mass}){let s,o,u=1-t;u=ls(Oe.minDamping,Oe.maxDamping,u),n=ls(Oe.minDuration,Oe.maxDuration,as(n)),u<1?(s=m=>{const g=m*u,v=g*n,b=g-e,w=r0(m,u),x=Math.exp(-v);return sA-b/w*x},o=m=>{const v=m*u*n,b=v*e+e,w=Math.pow(u,2)*Math.pow(m,2)*n,x=Math.exp(-v),N=r0(Math.pow(m,2),u);return(-s(m)+sA>0?-1:1)*((b-w)*x)/N}):(s=m=>{const g=Math.exp(-m*n),v=(m-e)*n+1;return-.001+g*v},o=m=>{const g=Math.exp(-m*n),v=(e-m)*(n*n);return g*v});const f=5/n,h=K4(s,o,f);if(n=ss(n),isNaN(h))return{stiffness:Oe.stiffness,damping:Oe.damping,duration:n};{const m=Math.pow(h,2)*i;return{stiffness:m,damping:u*2*Math.sqrt(i*m),duration:n}}}const G4=12;function K4(n,t,e){let i=e;for(let s=1;s<G4;s++)i=i-n(i)/t(i);return i}function r0(n,t){return n*Math.sqrt(1-t*t)}const $4=["duration","bounce"],Y4=["stiffness","damping","mass"];function aA(n,t){return t.some(e=>n[e]!==void 0)}function Q4(n){let t={velocity:Oe.velocity,stiffness:Oe.stiffness,damping:Oe.damping,mass:Oe.mass,isResolvedFromDuration:!1,...n};if(!aA(n,Y4)&&aA(n,$4))if(n.visualDuration){const e=n.visualDuration,i=2*Math.PI/(e*1.2),s=i*i,o=2*ls(.05,1,1-(n.bounce||0))*Math.sqrt(s);t={...t,mass:Oe.mass,stiffness:s,damping:o}}else{const e=H4(n);t={...t,...e,mass:Oe.mass},t.isResolvedFromDuration=!0}return t}function rC(n=Oe.visualDuration,t=Oe.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:i,restDelta:s}=e;const o=e.keyframes[0],u=e.keyframes[e.keyframes.length-1],f={done:!1,value:o},{stiffness:h,damping:m,mass:g,duration:v,velocity:b,isResolvedFromDuration:w}=Q4({...e,velocity:-as(e.velocity||0)}),x=b||0,N=m/(2*Math.sqrt(h*g)),D=u-o,V=as(Math.sqrt(h/g)),B=Math.abs(D)<5;i||(i=B?Oe.restSpeed.granular:Oe.restSpeed.default),s||(s=B?Oe.restDelta.granular:Oe.restDelta.default);let j;if(N<1){const G=r0(V,N);j=J=>{const O=Math.exp(-N*V*J);return u-O*((x+N*V*D)/G*Math.sin(G*J)+D*Math.cos(G*J))}}else if(N===1)j=G=>u-Math.exp(-V*G)*(D+(x+V*D)*G);else{const G=V*Math.sqrt(N*N-1);j=J=>{const O=Math.exp(-N*V*J),S=Math.min(G*J,300);return u-O*((x+N*V*D)*Math.sinh(S)+G*D*Math.cosh(S))/G}}const Z={calculatedDuration:w&&v||null,next:G=>{const J=j(G);if(w)f.done=G>=v;else{let O=0;N<1&&(O=G===0?ss(x):iC(j,G,J));const S=Math.abs(O)<=i,R=Math.abs(u-J)<=s;f.done=S&&R}return f.value=f.done?u:J,f},toString:()=>{const G=Math.min(EI(Z),Xv),J=wI(O=>Z.next(G*O).value,G,30);return G+"ms "+J}};return Z}function oA({keyframes:n,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:u,min:f,max:h,restDelta:m=.5,restSpeed:g}){const v=n[0],b={done:!1,value:v},w=S=>f!==void 0&&S<f||h!==void 0&&S>h,x=S=>f===void 0?h:h===void 0||Math.abs(f-S)<Math.abs(h-S)?f:h;let N=e*t;const D=v+N,V=u===void 0?D:u(D);V!==D&&(N=V-v);const B=S=>-N*Math.exp(-S/i),j=S=>V+B(S),Z=S=>{const R=B(S),M=j(S);b.done=Math.abs(R)<=m,b.value=b.done?V:M};let G,J;const O=S=>{w(b.value)&&(G=S,J=rC({keyframes:[b.value,x(b.value)],velocity:iC(j,S,b.value),damping:s,stiffness:o,restDelta:m,restSpeed:g}))};return O(0),{calculatedDuration:null,next:S=>{let R=!1;return!J&&G===void 0&&(R=!0,Z(S),O(S)),G!==void 0&&S>=G?J.next(S-G):(!R&&Z(S),b)}}}const X4=Jf(.42,0,1,1),W4=Jf(0,0,.58,1),sC=Jf(.42,0,.58,1),Z4=n=>Array.isArray(n)&&typeof n[0]!="number",J4={linear:ci,easeIn:X4,easeInOut:sC,easeOut:W4,circIn:H_,circInOut:UI,circOut:jI,backIn:q_,backInOut:kI,backOut:VI,anticipate:LI},lA=n=>{if(j_(n)){iI(n.length===4);const[t,e,i,s]=n;return Jf(t,e,i,s)}else if(typeof n=="string")return J4[n];return n};function tL(n,t,e){const i=[],s=e||nC,o=n.length-1;for(let u=0;u<o;u++){let f=s(n[u],n[u+1]);if(t){const h=Array.isArray(t)?t[u]||ci:t;f=th(h,f)}i.push(f)}return i}function eL(n,t,{clamp:e=!0,ease:i,mixer:s}={}){const o=n.length;if(iI(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const u=n[0]===n[1];n[0]>n[o-1]&&(n=[...n].reverse(),t=[...t].reverse());const f=tL(t,i,s),h=f.length,m=g=>{if(u&&g<n[0])return t[0];let v=0;if(h>1)for(;v<n.length-2&&!(g<n[v+1]);v++);const b=su(n[v],n[v+1],g);return f[v](b)};return e?g=>m(ls(n[0],n[o-1],g)):m}function nL(n,t){const e=n[n.length-1];for(let i=1;i<=t;i++){const s=su(0,t,i);n.push(Se(e,1,s))}}function iL(n){const t=[0];return nL(t,n.length-1),t}function rL(n,t){return n.map(e=>e*t)}function sL(n,t){return n.map(()=>t||sC).splice(0,n.length-1)}function Im({duration:n=300,keyframes:t,times:e,ease:i="easeInOut"}){const s=Z4(i)?i.map(lA):lA(i),o={done:!1,value:t[0]},u=rL(e&&e.length===t.length?e:iL(t),n),f=eL(u,t,{ease:Array.isArray(s)?s:sL(t,s)});return{calculatedDuration:n,next:h=>(o.value=f(h),o.done=h>=n,o)}}const aL=n=>{const t=({timestamp:e})=>n(e);return{start:()=>de.update(t,!0),stop:()=>ba(t),now:()=>wn.isProcessing?wn.timestamp:Tr.now()}},oL={decay:oA,inertia:oA,tween:Im,keyframes:Im,spring:rC},lL=n=>n/100;class X_ extends tC{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:e,motionValue:i,element:s,keyframes:o}=this.options,u=(s==null?void 0:s.KeyframeResolver)||Y_,f=(h,m)=>this.onKeyframesResolved(h,m);this.resolver=new u(o,f,e,i,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:e="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o,velocity:u=0}=this.options,f=L_(e)?e:oL[e]||Im;let h,m;f!==Im&&typeof t[0]!="number"&&(h=th(lL,nC(t[0],t[1])),t=[0,100]);const g=f({...this.options,keyframes:t});o==="mirror"&&(m=f({...this.options,keyframes:[...t].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=EI(g));const{calculatedDuration:v}=g,b=v+s,w=b*(i+1)-s;return{generator:g,mirroredGenerator:m,mapPercentToKeyframes:h,calculatedDuration:v,resolvedDuration:b,totalDuration:w}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,e=!1){const{resolved:i}=this;if(!i){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:s,generator:o,mirroredGenerator:u,mapPercentToKeyframes:f,keyframes:h,calculatedDuration:m,totalDuration:g,resolvedDuration:v}=i;if(this.startTime===null)return o.next(0);const{delay:b,repeat:w,repeatType:x,repeatDelay:N,onUpdate:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-g/this.speed,this.startTime)),e?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const V=this.currentTime-b*(this.speed>=0?1:-1),B=this.speed>=0?V<0:V>g;this.currentTime=Math.max(V,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let j=this.currentTime,Z=o;if(w){const S=Math.min(this.currentTime,g)/v;let R=Math.floor(S),M=S%1;!M&&S>=1&&(M=1),M===1&&R--,R=Math.min(R,w+1),!!(R%2)&&(x==="reverse"?(M=1-M,N&&(M-=N/v)):x==="mirror"&&(Z=u)),j=ls(0,1,M)*v}const G=B?{done:!1,value:h[0]}:Z.next(j);f&&(G.value=f(G.value));let{done:J}=G;!B&&m!==null&&(J=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&J);return O&&s!==void 0&&(G.value=bp(h,this.options,s)),D&&D(G.value),O&&this.finish(),G}get duration(){const{resolved:t}=this;return t?as(t.calculatedDuration):0}get time(){return as(this.currentTime)}set time(t){t=ss(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=as(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=aL,onPlay:e,startTime:i}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),e&&e();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const uL=new Set(["opacity","clipPath","filter","transform"]);function cL(n,t,e,{delay:i=0,duration:s=300,repeat:o=0,repeatType:u="loop",ease:f="easeInOut",times:h}={}){const m={[t]:e};h&&(m.offset=h);const g=AI(f,s);return Array.isArray(g)&&(m.easing=g),n.animate(m,{delay:i,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal"})}const fL=T_(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Cm=10,hL=2e4;function dL(n){return L_(n.type)||n.type==="spring"||!SI(n.ease)}function mL(n,t){const e=new X_({...t,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const s=[];let o=0;for(;!i.done&&o<hL;)i=e.sample(o),s.push(i.value),o+=Cm;return{times:void 0,keyframes:s,duration:o-Cm,ease:"linear"}}const aC={anticipate:LI,backInOut:kI,circInOut:UI};function pL(n){return n in aC}class uA extends tC{constructor(t){super(t);const{name:e,motionValue:i,element:s,keyframes:o}=this.options;this.resolver=new JI(o,(u,f)=>this.onKeyframesResolved(u,f),e,i,s),this.resolver.scheduleResolve()}initPlayback(t,e){let{duration:i=300,times:s,ease:o,type:u,motionValue:f,name:h,startTime:m}=this.options;if(!f.owner||!f.owner.current)return!1;if(typeof o=="string"&&xm()&&pL(o)&&(o=aC[o]),dL(this.options)){const{onComplete:v,onUpdate:b,motionValue:w,element:x,...N}=this.options,D=mL(t,N);t=D.keyframes,t.length===1&&(t[1]=t[0]),i=D.duration,s=D.times,o=D.ease,u="keyframes"}const g=cL(f.owner.current,h,t,{...this.options,duration:i,times:s,ease:o});return g.startTime=m??this.calcStartTime(),this.pendingTimeline?(KS(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:v}=this.options;f.set(bp(t,this.options,e)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:i,times:s,type:u,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:e}=t;return as(e)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:e}=t;return as(e.currentTime||0)}set time(t){const{resolved:e}=this;if(!e)return;const{animation:i}=e;i.currentTime=ss(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:e}=t;return e.playbackRate}set speed(t){const{resolved:e}=this;if(!e)return;const{animation:i}=e;i.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:e}=t;return e.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:e}=t;return e.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:e}=this;if(!e)return ci;const{animation:i}=e;KS(i,t)}return ci}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.playState==="finished"&&this.updateFinishedPromise(),e.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:e,keyframes:i,duration:s,type:o,ease:u,times:f}=t;if(e.playState==="idle"||e.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:g,onComplete:v,element:b,...w}=this.options,x=new X_({...w,keyframes:i,duration:s,type:o,ease:u,times:f,isGenerator:!0}),N=ss(this.time);m.setWithVelocity(x.sample(N-Cm).value,x.sample(N).value,Cm)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:e,name:i,repeatDelay:s,repeatType:o,damping:u,type:f}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:m}=e.owner.getProps();return fL()&&i&&uL.has(i)&&!h&&!m&&!s&&o!=="mirror"&&u!==0&&f!=="inertia"}}const gL={type:"spring",stiffness:500,damping:25,restSpeed:10},yL=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),vL={type:"keyframes",duration:.8},_L={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bL=(n,{keyframes:t})=>t.length>2?vL:Fo.has(n)?n.startsWith("scale")?yL(t[1]):gL:_L;function TL({when:n,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:u,repeatDelay:f,from:h,elapsed:m,...g}){return!!Object.keys(g).length}const W_=(n,t,e,i={},s,o)=>u=>{const f=k_(i,n)||{},h=f.delay||i.delay||0;let{elapsed:m=0}=i;m=m-ss(h);let g={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-m,onUpdate:b=>{t.set(b),f.onUpdate&&f.onUpdate(b)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:n,motionValue:t,element:o?void 0:s};TL(f)||(g={...g,...bL(n,g)}),g.duration&&(g.duration=ss(g.duration)),g.repeatDelay&&(g.repeatDelay=ss(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(v=!0)),v&&!o&&t.get()!==void 0){const b=bp(g.keyframes,f);if(b!==void 0)return de.update(()=>{g.onUpdate(b),g.onComplete()}),new Bk([])}return!o&&uA.supports(g)?new uA(g):new X_(g)};function EL({protectedKeys:n,needsAnimating:t},e){const i=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function oC(n,t,{delay:e=0,transitionOverride:i,type:s}={}){var o;let{transition:u=n.getDefaultTransition(),transitionEnd:f,...h}=t;i&&(u=i);const m=[],g=s&&n.animationState&&n.animationState.getState()[s];for(const v in h){const b=n.getValue(v,(o=n.latestValues[v])!==null&&o!==void 0?o:null),w=h[v];if(w===void 0||g&&EL(g,v))continue;const x={delay:e,...k_(u||{},v)};let N=!1;if(window.MotionHandoffAnimation){const V=PI(n);if(V){const B=window.MotionHandoffAnimation(V,v,de);B!==null&&(x.startTime=B,N=!0)}}Zv(n,v),b.start(W_(v,b,w,n.shouldReduceMotion&&CI.has(v)?{type:!1}:x,n,N));const D=b.animation;D&&m.push(D)}return f&&Promise.all(m).then(()=>{de.update(()=>{f&&t4(n,f)})}),m}function s0(n,t,e={}){var i;const s=Af(n,t,e.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=s||{};e.transitionOverride&&(o=e.transitionOverride);const u=s?()=>Promise.all(oC(n,s,e)):()=>Promise.resolve(),f=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:b}=o;return wL(n,t,g+m,v,b,e)}:()=>Promise.resolve(),{when:h}=o;if(h){const[m,g]=h==="beforeChildren"?[u,f]:[f,u];return m().then(()=>g())}else return Promise.all([u(),f(e.delay)])}function wL(n,t,e=0,i=0,s=1,o){const u=[],f=(n.variantChildren.size-1)*i,h=s===1?(m=0)=>m*i:(m=0)=>f-m*i;return Array.from(n.variantChildren).sort(SL).forEach((m,g)=>{m.notify("AnimationStart",t),u.push(s0(m,t,{...o,delay:e+h(g)}).then(()=>m.notify("AnimationComplete",t)))}),Promise.all(u)}function SL(n,t){return n.sortNodePosition(t)}function AL(n,t,e={}){n.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(o=>s0(n,o,e));i=Promise.all(s)}else if(typeof t=="string")i=s0(n,t,e);else{const s=typeof t=="function"?Af(n,t,e.custom):t;i=Promise.all(oC(n,s,e))}return i.then(()=>{n.notify("AnimationComplete",t)})}function lC(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let i=0;i<e;i++)if(t[i]!==n[i])return!1;return!0}const xL=w_.length;function uC(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?uC(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<xL;e++){const i=w_[e],s=n.props[i];(Ef(s)||s===!1)&&(t[i]=s)}return t}const RL=[...E_].reverse(),IL=E_.length;function CL(n){return t=>Promise.all(t.map(({animation:e,options:i})=>AL(n,e,i)))}function DL(n){let t=CL(n),e=cA(),i=!0;const s=h=>(m,g)=>{var v;const b=Af(n,g,h==="exit"?(v=n.presenceContext)===null||v===void 0?void 0:v.custom:void 0);if(b){const{transition:w,transitionEnd:x,...N}=b;m={...m,...N,...x}}return m};function o(h){t=h(n)}function u(h){const{props:m}=n,g=uC(n.parent)||{},v=[],b=new Set;let w={},x=1/0;for(let D=0;D<IL;D++){const V=RL[D],B=e[V],j=m[V]!==void 0?m[V]:g[V],Z=Ef(j),G=V===h?B.isActive:null;G===!1&&(x=D);let J=j===g[V]&&j!==m[V]&&Z;if(J&&i&&n.manuallyAnimateOnMount&&(J=!1),B.protectedKeys={...w},!B.isActive&&G===null||!j&&!B.prevProp||vp(j)||typeof j=="boolean")continue;const O=PL(B.prevProp,j);let S=O||V===h&&B.isActive&&!J&&Z||D>x&&Z,R=!1;const M=Array.isArray(j)?j:[j];let U=M.reduce(s(V),{});G===!1&&(U={});const{prevResolvedValues:H={}}=B,L={...H,...U},Qt=ct=>{S=!0,b.has(ct)&&(R=!0,b.delete(ct)),B.needsAnimating[ct]=!0;const pt=n.getValue(ct);pt&&(pt.liveStyle=!1)};for(const ct in L){const pt=U[ct],Pt=H[ct];if(w.hasOwnProperty(ct))continue;let z=!1;Qv(pt)&&Qv(Pt)?z=!lC(pt,Pt):z=pt!==Pt,z?pt!=null?Qt(ct):b.add(ct):pt!==void 0&&b.has(ct)?Qt(ct):B.protectedKeys[ct]=!0}B.prevProp=j,B.prevResolvedValues=U,B.isActive&&(w={...w,...U}),i&&n.blockInitialAnimation&&(S=!1),S&&(!(J&&O)||R)&&v.push(...M.map(ct=>({animation:ct,options:{type:V}})))}if(b.size){const D={};if(typeof m.initial!="boolean"){const V=Af(n,Array.isArray(m.initial)?m.initial[0]:m.initial);V&&V.transition&&(D.transition=V.transition)}b.forEach(V=>{const B=n.getBaseTarget(V),j=n.getValue(V);j&&(j.liveStyle=!0),D[V]=B??null}),v.push({animation:D})}let N=!!v.length;return i&&(m.initial===!1||m.initial===m.animate)&&!n.manuallyAnimateOnMount&&(N=!1),i=!1,N?t(v):Promise.resolve()}function f(h,m){var g;if(e[h].isActive===m)return Promise.resolve();(g=n.variantChildren)===null||g===void 0||g.forEach(b=>{var w;return(w=b.animationState)===null||w===void 0?void 0:w.setActive(h,m)}),e[h].isActive=m;const v=u(h);for(const b in e)e[b].protectedKeys={};return v}return{animateChanges:u,setActive:f,setAnimateFunction:o,getState:()=>e,reset:()=>{e=cA(),i=!0}}}function PL(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!lC(t,n):!1}function fo(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cA(){return{animate:fo(!0),whileInView:fo(),whileHover:fo(),whileTap:fo(),whileDrag:fo(),whileFocus:fo(),exit:fo()}}class Pa{constructor(t){this.isMounted=!1,this.node=t}update(){}}class NL extends Pa{constructor(t){super(t),t.animationState||(t.animationState=DL(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();vp(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let OL=0;class ML extends Pa{constructor(){super(...arguments),this.id=OL++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);e&&!t&&s.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const VL={animation:{Feature:NL},exit:{Feature:ML}};function If(n,t,e,i={passive:!0}){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e)}function eh(n){return{point:{x:n.pageX,y:n.pageY}}}const kL=n=>t=>U_(t)&&n(t,eh(t));function af(n,t,e,i){return If(n,t,kL(e),i)}const fA=(n,t)=>Math.abs(n-t);function LL(n,t){const e=fA(n.x,t.x),i=fA(n.y,t.y);return Math.sqrt(e**2+i**2)}class cC{constructor(t,e,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=fv(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,w=LL(v.offset,{x:0,y:0})>=3;if(!b&&!w)return;const{point:x}=v,{timestamp:N}=wn;this.history.push({...x,timestamp:N});const{onStart:D,onMove:V}=this.handlers;b||(D&&D(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),V&&V(this.lastMoveEvent,v)},this.handlePointerMove=(v,b)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=cv(b,this.transformPagePoint),de.update(this.updatePoint,!0)},this.handlePointerUp=(v,b)=>{this.end();const{onEnd:w,onSessionEnd:x,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=fv(v.type==="pointercancel"?this.lastMoveEventInfo:cv(b,this.transformPagePoint),this.history);this.startEvent&&w&&w(v,D),x&&x(v,D)},!U_(t))return;this.dragSnapToOrigin=o,this.handlers=e,this.transformPagePoint=i,this.contextWindow=s||window;const u=eh(t),f=cv(u,this.transformPagePoint),{point:h}=f,{timestamp:m}=wn;this.history=[{...h,timestamp:m}];const{onSessionStart:g}=e;g&&g(t,fv(f,this.history)),this.removeListeners=th(af(this.contextWindow,"pointermove",this.handlePointerMove),af(this.contextWindow,"pointerup",this.handlePointerUp),af(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ba(this.updatePoint)}}function cv(n,t){return t?{point:t(n.point)}:n}function hA(n,t){return{x:n.x-t.x,y:n.y-t.y}}function fv({point:n},t){return{point:n,delta:hA(n,fC(t)),offset:hA(n,jL(t)),velocity:UL(t,.1)}}function jL(n){return n[0]}function fC(n){return n[n.length-1]}function UL(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,i=null;const s=fC(n);for(;e>=0&&(i=n[e],!(s.timestamp-i.timestamp>ss(t)));)e--;if(!i)return{x:0,y:0};const o=as(s.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const u={x:(s.x-i.x)/o,y:(s.y-i.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}const hC=1e-4,BL=1-hC,zL=1+hC,dC=.01,FL=0-dC,qL=0+dC;function Gn(n){return n.max-n.min}function HL(n,t,e){return Math.abs(n-t)<=e}function dA(n,t,e,i=.5){n.origin=i,n.originPoint=Se(t.min,t.max,n.origin),n.scale=Gn(e)/Gn(t),n.translate=Se(e.min,e.max,n.origin)-n.originPoint,(n.scale>=BL&&n.scale<=zL||isNaN(n.scale))&&(n.scale=1),(n.translate>=FL&&n.translate<=qL||isNaN(n.translate))&&(n.translate=0)}function of(n,t,e,i){dA(n.x,t.x,e.x,i?i.originX:void 0),dA(n.y,t.y,e.y,i?i.originY:void 0)}function mA(n,t,e){n.min=e.min+t.min,n.max=n.min+Gn(t)}function GL(n,t,e){mA(n.x,t.x,e.x),mA(n.y,t.y,e.y)}function pA(n,t,e){n.min=t.min-e.min,n.max=n.min+Gn(t)}function lf(n,t,e){pA(n.x,t.x,e.x),pA(n.y,t.y,e.y)}function KL(n,{min:t,max:e},i){return t!==void 0&&n<t?n=i?Se(t,n,i.min):Math.max(n,t):e!==void 0&&n>e&&(n=i?Se(e,n,i.max):Math.min(n,e)),n}function gA(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function $L(n,{top:t,left:e,bottom:i,right:s}){return{x:gA(n.x,e,s),y:gA(n.y,t,i)}}function yA(n,t){let e=t.min-n.min,i=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,i]=[i,e]),{min:e,max:i}}function YL(n,t){return{x:yA(n.x,t.x),y:yA(n.y,t.y)}}function QL(n,t){let e=.5;const i=Gn(n),s=Gn(t);return s>i?e=su(t.min,t.max-i,n.min):i>s&&(e=su(n.min,n.max-s,t.min)),ls(0,1,e)}function XL(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const a0=.35;function WL(n=a0){return n===!1?n=0:n===!0&&(n=a0),{x:vA(n,"left","right"),y:vA(n,"top","bottom")}}function vA(n,t,e){return{min:_A(n,t),max:_A(n,e)}}function _A(n,t){return typeof n=="number"?n:n[t]||0}const bA=()=>({translate:0,scale:1,origin:0,originPoint:0}),$l=()=>({x:bA(),y:bA()}),TA=()=>({min:0,max:0}),je=()=>({x:TA(),y:TA()});function Pi(n){return[n("x"),n("y")]}function mC({top:n,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:n,max:i}}}function ZL({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function JL(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),i=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}function hv(n){return n===void 0||n===1}function o0({scale:n,scaleX:t,scaleY:e}){return!hv(n)||!hv(t)||!hv(e)}function mo(n){return o0(n)||pC(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function pC(n){return EA(n.x)||EA(n.y)}function EA(n){return n&&n!=="0%"}function Dm(n,t,e){const i=n-e,s=t*i;return e+s}function wA(n,t,e,i,s){return s!==void 0&&(n=Dm(n,s,i)),Dm(n,e,i)+t}function l0(n,t=0,e=1,i,s){n.min=wA(n.min,t,e,i,s),n.max=wA(n.max,t,e,i,s)}function gC(n,{x:t,y:e}){l0(n.x,t.translate,t.scale,t.originPoint),l0(n.y,e.translate,e.scale,e.originPoint)}const SA=.999999999999,AA=1.0000000000001;function t3(n,t,e,i=!1){const s=e.length;if(!s)return;t.x=t.y=1;let o,u;for(let f=0;f<s;f++){o=e[f],u=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Ql(n,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,gC(n,u)),i&&mo(o.latestValues)&&Ql(n,o.latestValues))}t.x<AA&&t.x>SA&&(t.x=1),t.y<AA&&t.y>SA&&(t.y=1)}function Yl(n,t){n.min=n.min+t,n.max=n.max+t}function xA(n,t,e,i,s=.5){const o=Se(n.min,n.max,s);l0(n,t,e,o,i)}function Ql(n,t){xA(n.x,t.x,t.scaleX,t.scale,t.originX),xA(n.y,t.y,t.scaleY,t.scale,t.originY)}function yC(n,t){return mC(JL(n.getBoundingClientRect(),t))}function e3(n,t,e){const i=yC(n,e),{scroll:s}=t;return s&&(Yl(i.x,s.offset.x),Yl(i.y,s.offset.y)),i}const vC=({current:n})=>n?n.ownerDocument.defaultView:null,n3=new WeakMap;class i3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=je(),this.visualElement=t}start(t,{snapToCursor:e=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(eh(g).point)},o=(g,v)=>{const{drag:b,dragPropagation:w,onDragStart:x}=this.getProps();if(b&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Qk(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Pi(D=>{let V=this.getAxisMotionValue(D).get()||0;if(br.test(V)){const{projection:B}=this.visualElement;if(B&&B.layout){const j=B.layout.layoutBox[D];j&&(V=Gn(j)*(parseFloat(V)/100))}}this.originPoint[D]=V}),x&&de.postRender(()=>x(g,v)),Zv(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},u=(g,v)=>{const{dragPropagation:b,dragDirectionLock:w,onDirectionLock:x,onDrag:N}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:D}=v;if(w&&this.currentDirection===null){this.currentDirection=r3(D),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",v.point,D),this.updateAxis("y",v.point,D),this.visualElement.render(),N&&N(g,v)},f=(g,v)=>this.stop(g,v),h=()=>Pi(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new cC(t,{onSessionStart:s,onStart:o,onMove:u,onSessionEnd:f,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:vC(this.visualElement)})}stop(t,e){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=e;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&de.postRender(()=>o(t,e))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,i){const{drag:s}=this.getProps();if(!i||!Ud(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let u=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(u=KL(u,this.constraints[t],this.elastic[t])),o.set(u)}resolveConstraints(){var t;const{dragConstraints:e,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;e&&Gl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=$L(s.layoutBox,e):this.constraints=!1,this.elastic=WL(i),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Pi(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=XL(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Gl(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=e3(i,s.root,this.visualElement.getTransformPagePoint());let u=YL(s.layout.layoutBox,o);if(e){const f=e(ZL(u));this.hasMutatedConstraints=!!f,f&&(u=mC(f))}return u}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:s,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),h=this.constraints||{},m=Pi(g=>{if(!Ud(g,e,this.currentDirection))return;let v=h&&h[g]||{};u&&(v={min:0,max:0});const b=s?200:1e6,w=s?40:1e7,x={type:"inertia",velocity:i?t[g]:0,bounceStiffness:b,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(g,x)});return Promise.all(m).then(f)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return Zv(this.visualElement,t),i.start(W_(t,i,0,e,this.visualElement,!1))}stopAnimation(){Pi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Pi(t=>{var e;return(e=this.getAxisMotionValue(t).animation)===null||e===void 0?void 0:e.pause()})}getAnimationState(t){var e;return(e=this.getAxisMotionValue(t).animation)===null||e===void 0?void 0:e.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[e];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Pi(e=>{const{drag:i}=this.getProps();if(!Ud(e,i,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(e);if(s&&s.layout){const{min:u,max:f}=s.layout.layoutBox[e];o.set(t[e]-Se(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!Gl(e)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Pi(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const h=f.get();s[u]=QL({min:h,max:h},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Pi(u=>{if(!Ud(u,t,null))return;const f=this.getAxisMotionValue(u),{min:h,max:m}=this.constraints[u];f.set(Se(h,m,s[u]))})}addListeners(){if(!this.visualElement.current)return;n3.set(this.visualElement,this);const t=this.visualElement.current,e=af(t,"pointerdown",h=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();Gl(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),de.read(i);const u=If(window,"resize",()=>this.scalePositionWithinConstraints()),f=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(Pi(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=h[g].translate,v.set(v.get()+h[g].translate))}),this.visualElement.render())});return()=>{u(),e(),o(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:u=a0,dragMomentum:f=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:s,dragConstraints:o,dragElastic:u,dragMomentum:f}}}function Ud(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function r3(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class s3 extends Pa{constructor(t){super(t),this.removeGroupControls=ci,this.removeListeners=ci,this.controls=new i3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ci}unmount(){this.removeGroupControls(),this.removeListeners()}}const RA=n=>(t,e)=>{n&&de.postRender(()=>n(t,e))};class a3 extends Pa{constructor(){super(...arguments),this.removePointerDownListener=ci}onPointerDown(t){this.session=new cC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:RA(t),onStart:RA(e),onMove:i,onEnd:(o,u)=>{delete this.session,s&&de.postRender(()=>s(o,u))}}}mount(){this.removePointerDownListener=af(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function IA(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const zc={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(Rt.test(n))n=parseFloat(n);else return n;const e=IA(n,t.target.x),i=IA(n,t.target.y);return`${e}% ${i}%`}},o3={correct:(n,{treeScale:t,projectionDelta:e})=>{const i=n,s=Ta.parse(n);if(s.length>5)return i;const o=Ta.createTransformer(n),u=typeof s[0]!="number"?1:0,f=e.x.scale*t.x,h=e.y.scale*t.y;s[0+u]/=f,s[1+u]/=h;const m=Se(f,h,.5);return typeof s[2+u]=="number"&&(s[2+u]/=m),typeof s[3+u]=="number"&&(s[3+u]/=m),o(s)}};class l3 extends C.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:s}=this.props,{projection:o}=t;dk(u3),o&&(e.group&&e.group.add(o),i&&i.register&&s&&i.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),rm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:s,isPresent:o}=this.props,u=i.projection;return u&&(u.isPresent=o,s||t.layoutDependency!==e||e===void 0?u.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?u.promote():u.relegate()||de.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),A_.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function _C(n){const[t,e]=eI(),i=C.useContext(y_);return P.jsx(l3,{...n,layoutGroup:i,switchLayoutGroup:C.useContext(uI),isPresent:t,safeToRemove:e})}const u3={borderRadius:{...zc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zc,borderTopRightRadius:zc,borderBottomLeftRadius:zc,borderBottomRightRadius:zc,boxShadow:o3};function c3(n,t,e){const i=Mn(n)?n:xf(n);return i.start(W_("",i,t,e)),i.animation}function f3(n){return n instanceof SVGElement&&n.tagName!=="svg"}const h3=(n,t)=>n.depth-t.depth;class d3{constructor(){this.children=[],this.isDirty=!1}add(t){B_(this.children,t),this.isDirty=!0}remove(t){z_(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(h3),this.isDirty=!1,this.children.forEach(t)}}function m3(n,t){const e=Tr.now(),i=({timestamp:s})=>{const o=s-e;o>=t&&(ba(i),n(o-t))};return de.read(i,!0),()=>ba(i)}const bC=["TopLeft","TopRight","BottomLeft","BottomRight"],p3=bC.length,CA=n=>typeof n=="string"?parseFloat(n):n,DA=n=>typeof n=="number"||Rt.test(n);function g3(n,t,e,i,s,o){s?(n.opacity=Se(0,e.opacity!==void 0?e.opacity:1,y3(i)),n.opacityExit=Se(t.opacity!==void 0?t.opacity:1,0,v3(i))):o&&(n.opacity=Se(t.opacity!==void 0?t.opacity:1,e.opacity!==void 0?e.opacity:1,i));for(let u=0;u<p3;u++){const f=`border${bC[u]}Radius`;let h=PA(t,f),m=PA(e,f);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||DA(h)===DA(m)?(n[f]=Math.max(Se(CA(h),CA(m),i),0),(br.test(m)||br.test(h))&&(n[f]+="%")):n[f]=m}(t.rotate||e.rotate)&&(n.rotate=Se(t.rotate||0,e.rotate||0,i))}function PA(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const y3=TC(0,.5,jI),v3=TC(.5,.95,ci);function TC(n,t,e){return i=>i<n?0:i>t?1:e(su(n,t,i))}function NA(n,t){n.min=t.min,n.max=t.max}function Di(n,t){NA(n.x,t.x),NA(n.y,t.y)}function OA(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function MA(n,t,e,i,s){return n-=t,n=Dm(n,1/e,i),s!==void 0&&(n=Dm(n,1/s,i)),n}function _3(n,t=0,e=1,i=.5,s,o=n,u=n){if(br.test(t)&&(t=parseFloat(t),t=Se(u.min,u.max,t/100)-u.min),typeof t!="number")return;let f=Se(o.min,o.max,i);n===o&&(f-=t),n.min=MA(n.min,t,e,f,s),n.max=MA(n.max,t,e,f,s)}function VA(n,t,[e,i,s],o,u){_3(n,t[e],t[i],t[s],t.scale,o,u)}const b3=["x","scaleX","originX"],T3=["y","scaleY","originY"];function kA(n,t,e,i){VA(n.x,t,b3,e?e.x:void 0,i?i.x:void 0),VA(n.y,t,T3,e?e.y:void 0,i?i.y:void 0)}function LA(n){return n.translate===0&&n.scale===1}function EC(n){return LA(n.x)&&LA(n.y)}function jA(n,t){return n.min===t.min&&n.max===t.max}function E3(n,t){return jA(n.x,t.x)&&jA(n.y,t.y)}function UA(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function wC(n,t){return UA(n.x,t.x)&&UA(n.y,t.y)}function BA(n){return Gn(n.x)/Gn(n.y)}function zA(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class w3{constructor(){this.members=[]}add(t){B_(this.members,t),t.scheduleRender()}remove(t){if(z_(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(s=>t===s);if(e===0)return!1;let i;for(let s=e;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function S3(n,t,e){let i="";const s=n.x.translate/t.x,o=n.y.translate/t.y,u=(e==null?void 0:e.z)||0;if((s||o||u)&&(i=`translate3d(${s}px, ${o}px, ${u}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:m,rotate:g,rotateX:v,rotateY:b,skewX:w,skewY:x}=e;m&&(i=`perspective(${m}px) ${i}`),g&&(i+=`rotate(${g}deg) `),v&&(i+=`rotateX(${v}deg) `),b&&(i+=`rotateY(${b}deg) `),w&&(i+=`skewX(${w}deg) `),x&&(i+=`skewY(${x}deg) `)}const f=n.x.scale*t.x,h=n.y.scale*t.y;return(f!==1||h!==1)&&(i+=`scale(${f}, ${h})`),i||"none"}const dv=["","X","Y","Z"],A3={visibility:"hidden"},FA=1e3;let x3=0;function mv(n,t,e,i){const{latestValues:s}=t;s[n]&&(e[n]=s[n],t.setStaticValue(n,0),i&&(i[n]=0))}function SC(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=PI(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:s,layoutId:o}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",de,!(s||o))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&SC(i)}function AC({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(u={},f=t==null?void 0:t()){this.id=x3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(C3),this.nodes.forEach(M3),this.nodes.forEach(V3),this.nodes.forEach(D3)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new d3)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new F_),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const h=this.eventHandlers.get(u);h&&h.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,f=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=f3(u),this.instance=u;const{layoutId:h,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),f&&(m||h)&&(this.isLayoutDirty=!0),n){let v;const b=()=>this.root.updateBlockedByResize=!1;n(u,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=m3(b,250),rm.hasAnimatedSinceResize&&(rm.hasAnimatedSinceResize=!1,this.nodes.forEach(HA))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:w,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||g.getDefaultTransition()||B3,{onLayoutAnimationStart:D,onLayoutAnimationComplete:V}=g.getProps(),B=!this.targetLayout||!wC(this.targetLayout,x),j=!b&&w;if(this.options.layoutRoot||this.resumeFrom||j||b&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,j);const Z={...k_(N,"layout"),onPlay:D,onComplete:V};(g.shouldReduceMotion||this.options.layoutRoot)&&(Z.delay=0,Z.type=!1),this.startAnimation(Z)}else b||HA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ba(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(k3),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&SC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:f,layout:h}=this.options;if(f===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(qA);return}this.isUpdating||this.nodes.forEach(N3),this.isUpdating=!1,this.nodes.forEach(O3),this.nodes.forEach(R3),this.nodes.forEach(I3),this.clearAllSnapshots();const f=Tr.now();wn.delta=ls(0,1e3/60,f-wn.timestamp),wn.timestamp=f,wn.isProcessing=!0,sv.update.process(wn),sv.preRender.process(wn),sv.render.process(wn),wn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,A_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(P3),this.sharedNodes.forEach(L3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,de.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){de.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Gn(this.snapshot.measuredBox.x)&&!Gn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=je(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:h,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!EC(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;u&&(f||mo(this.latestValues)||g)&&(s(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let h=this.removeElementScroll(f);return u&&(h=this.removeTransform(h)),z3(h),{animationId:this.root.animationId,measuredBox:f,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:f}=this.options;if(!f)return je();const h=f.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(F3))){const{scroll:g}=this.root;g&&(Yl(h.x,g.offset.x),Yl(h.y,g.offset.y))}return h}removeElementScroll(u){var f;const h=je();if(Di(h,u),!((f=this.scroll)===null||f===void 0)&&f.wasRoot)return h;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:v,options:b}=g;g!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&Di(h,u),Yl(h.x,v.offset.x),Yl(h.y,v.offset.y))}return h}applyTransform(u,f=!1){const h=je();Di(h,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];!f&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Ql(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),mo(g.latestValues)&&Ql(h,g.latestValues)}return mo(this.latestValues)&&Ql(h,this.latestValues),h}removeTransform(u){const f=je();Di(f,u);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!mo(m.latestValues))continue;o0(m.latestValues)&&m.updateSnapshot();const g=je(),v=m.measurePageBox();Di(g,v),kA(f,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return mo(this.latestValues)&&kA(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var f;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((f=this.parent)===null||f===void 0)&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!(!this.layout||!(v||b))){if(this.resolvedRelativeTargetAt=wn.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=je(),this.relativeTargetOrigin=je(),lf(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Di(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=je(),this.targetWithTransforms=je()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),GL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Di(this.target,this.layout.layoutBox),gC(this.target,this.targetDelta)):Di(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=je(),this.relativeTargetOrigin=je(),lf(this.relativeTargetOrigin,this.target,w.target),Di(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||o0(this.parent.latestValues)||pC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const f=this.getLead(),h=!!this.resumingFrom||this!==f;let m=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===wn.timestamp&&(m=!1),m)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Di(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,w=this.treeScale.y;t3(this.layoutCorrected,this.treeScale,this.path,h),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=je());const{target:x}=f;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(OA(this.prevProjectionDelta.x,this.projectionDelta.x),OA(this.prevProjectionDelta.y,this.projectionDelta.y)),of(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==w||!zA(this.projectionDelta.x,this.prevProjectionDelta.x)||!zA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var f;if((f=this.options.visualElement)===null||f===void 0||f.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=$l(),this.projectionDelta=$l(),this.projectionDeltaWithTransform=$l()}setAnimationOrigin(u,f=!1){const h=this.snapshot,m=h?h.latestValues:{},g={...this.latestValues},v=$l();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=je(),w=h?h.source:void 0,x=this.layout?this.layout.source:void 0,N=w!==x,D=this.getStack(),V=!D||D.members.length<=1,B=!!(N&&!V&&this.options.crossfade===!0&&!this.path.some(U3));this.animationProgress=0;let j;this.mixTargetDelta=Z=>{const G=Z/1e3;GA(v.x,u.x,G),GA(v.y,u.y,G),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(lf(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),j3(this.relativeTarget,this.relativeTargetOrigin,b,G),j&&E3(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=je()),Di(j,this.relativeTarget)),N&&(this.animationValues=g,g3(g,m,this.latestValues,G,B,V)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=G},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ba(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=de.update(()=>{rm.hasAnimatedSinceResize=!0,this.currentAnimation=c3(0,FA,{...u,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(FA),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:h,layout:m,latestValues:g}=u;if(!(!f||!h||!m)){if(this!==u&&this.layout&&m&&xC(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||je();const v=Gn(this.layout.layoutBox.x);h.x.min=u.target.x.min,h.x.max=h.x.min+v;const b=Gn(this.layout.layoutBox.y);h.y.min=u.target.y.min,h.y.max=h.y.min+b}Di(f,h),Ql(f,g),of(this.projectionDeltaWithTransform,this.layoutCorrected,f,g)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new w3),this.sharedNodes.get(u).add(f);const m=f.options.initialPromotionConfig;f.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:f}=this.options;return f?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:f}=this.options;return f?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:h}=u;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(f=!0),!f)return;const m={};h.z&&mv("z",u,m,this.animationValues);for(let g=0;g<dv.length;g++)mv(`rotate${dv[g]}`,u,m,this.animationValues),mv(`skew${dv[g]}`,u,m,this.animationValues);u.render();for(const g in m)u.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);u.scheduleRender()}getProjectionStyles(u){var f,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return A3;const m={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=nm(u==null?void 0:u.pointerEvents)||"",m.transform=g?g(this.latestValues,""):"none",m;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const N={};return this.options.layoutId&&(N.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,N.pointerEvents=nm(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!mo(this.latestValues)&&(N.transform=g?g({},""):"none",this.hasProjected=!1),N}const b=v.animationValues||v.latestValues;this.applyTransformsToTarget(),m.transform=S3(this.projectionDeltaWithTransform,this.treeScale,b),g&&(m.transform=g(b,m.transform));const{x:w,y:x}=this.projectionDelta;m.transformOrigin=`${w.origin*100}% ${x.origin*100}% 0`,v.animationValues?m.opacity=v===this?(h=(f=b.opacity)!==null&&f!==void 0?f:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:m.opacity=v===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const N in wf){if(b[N]===void 0)continue;const{correct:D,applyTo:V,isCSSVariable:B}=wf[N],j=m.transform==="none"?b[N]:D(b[N],v);if(V){const Z=V.length;for(let G=0;G<Z;G++)m[V[G]]=j}else B?this.options.visualElement.renderState.vars[N]=j:m[N]=j}return this.options.layoutId&&(m.pointerEvents=v===this?nm(u==null?void 0:u.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var f;return(f=u.currentAnimation)===null||f===void 0?void 0:f.stop()}),this.root.nodes.forEach(qA),this.root.sharedNodes.clear()}}}function R3(n){n.updateLayout()}function I3(n){var t;const e=((t=n.resumeFrom)===null||t===void 0?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=n.layout,{animationType:o}=n.options,u=e.source!==n.layout.source;o==="size"?Pi(v=>{const b=u?e.measuredBox[v]:e.layoutBox[v],w=Gn(b);b.min=i[v].min,b.max=b.min+w}):xC(o,e.layoutBox,i)&&Pi(v=>{const b=u?e.measuredBox[v]:e.layoutBox[v],w=Gn(i[v]);b.max=b.min+w,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+w)});const f=$l();of(f,i,e.layoutBox);const h=$l();u?of(h,n.applyTransform(s,!0),e.measuredBox):of(h,i,e.layoutBox);const m=!EC(f);let g=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:w}=v;if(b&&w){const x=je();lf(x,e.layoutBox,b.layoutBox);const N=je();lf(N,i,w.layoutBox),wC(x,N)||(g=!0),v.options.layoutRoot&&(n.relativeTarget=N,n.relativeTargetOrigin=x,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:h,layoutDelta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function C3(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function D3(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function P3(n){n.clearSnapshot()}function qA(n){n.clearMeasurements()}function N3(n){n.isLayoutDirty=!1}function O3(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function HA(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function M3(n){n.resolveTargetDelta()}function V3(n){n.calcProjection()}function k3(n){n.resetSkewAndRotation()}function L3(n){n.removeLeadSnapshot()}function GA(n,t,e){n.translate=Se(t.translate,0,e),n.scale=Se(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function KA(n,t,e,i){n.min=Se(t.min,e.min,i),n.max=Se(t.max,e.max,i)}function j3(n,t,e,i){KA(n.x,t.x,e.x,i),KA(n.y,t.y,e.y,i)}function U3(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const B3={duration:.45,ease:[.4,0,.1,1]},$A=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),YA=$A("applewebkit/")&&!$A("chrome/")?Math.round:ci;function QA(n){n.min=YA(n.min),n.max=YA(n.max)}function z3(n){QA(n.x),QA(n.y)}function xC(n,t,e){return n==="position"||n==="preserve-aspect"&&!HL(BA(t),BA(e),.2)}function F3(n){var t;return n!==n.root&&((t=n.scroll)===null||t===void 0?void 0:t.wasRoot)}const q3=AC({attachResizeListener:(n,t)=>If(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pv={current:void 0},RC=AC({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!pv.current){const n=new q3({});n.mount(window),n.setOptions({layoutScroll:!0}),pv.current=n}return pv.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),H3={pan:{Feature:a3},drag:{Feature:s3,ProjectionNode:RC,MeasureLayout:_C}};function XA(n,t,e){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",e==="Start");const s="onHover"+e,o=i[s];o&&de.postRender(()=>o(t,eh(t)))}class G3 extends Pa{mount(){const{current:t}=this.node;t&&(this.unmount=Hk(t,(e,i)=>(XA(this.node,i,"Start"),s=>XA(this.node,s,"End"))))}unmount(){}}class K3 extends Pa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=th(If(this.node.current,"focus",()=>this.onFocus()),If(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function WA(n,t,e){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",e==="Start");const s="onTap"+(e==="End"?"":e),o=i[s];o&&de.postRender(()=>o(t,eh(t)))}class $3 extends Pa{mount(){const{current:t}=this.node;t&&(this.unmount=Yk(t,(e,i)=>(WA(this.node,i,"Start"),(s,{success:o})=>WA(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const u0=new WeakMap,gv=new WeakMap,Y3=n=>{const t=u0.get(n.target);t&&t(n)},Q3=n=>{n.forEach(Y3)};function X3({root:n,...t}){const e=n||document;gv.has(e)||gv.set(e,{});const i=gv.get(e),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(Q3,{root:n,...t})),i[s]}function W3(n,t,e){const i=X3(t);return u0.set(n,e),i.observe(n),()=>{u0.delete(n),i.unobserve(n)}}const Z3={some:0,all:1};class J3 extends Pa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:s="some",once:o}=t,u={root:e?e.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:Z3[s]},f=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),b=m?g:v;b&&b(h)};return W3(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(t5(t,e))&&this.startObserver()}unmount(){}}function t5({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const e5={inView:{Feature:J3},tap:{Feature:$3},focus:{Feature:K3},hover:{Feature:G3}},n5={layout:{ProjectionNode:RC,MeasureLayout:_C}},c0={current:null},IC={current:!1};function i5(){if(IC.current=!0,!!b_)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>c0.current=n.matches;n.addListener(t),t()}else c0.current=!1}const r5=[...ZI,Nn,Ta],s5=n=>r5.find(WI(n)),a5=new WeakMap;function o5(n,t,e){for(const i in t){const s=t[i],o=e[i];if(Mn(s))n.addValue(i,s);else if(Mn(o))n.addValue(i,xf(s,{owner:n}));else if(o!==s)if(n.hasValue(i)){const u=n.getValue(i);u.liveStyle===!0?u.jump(s):u.hasAnimated||u.set(s)}else{const u=n.getStaticValue(i);n.addValue(i,xf(u!==void 0?u:s,{owner:n}))}}for(const i in e)t[i]===void 0&&n.removeValue(i);return t}const ZA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class l5{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:o,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Y_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Tr.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,de.render(this.render,!1,!0))};const{latestValues:h,renderState:m,onUpdate:g}=u;this.onUpdate=g,this.latestValues=h,this.baseTarget={...h},this.initialValues=e.initial?{...h}:{},this.renderState=m,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=f,this.blockInitialAnimation=!!o,this.isControllingVariants=_p(e),this.isVariantNode=oI(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(e,{},this);for(const w in b){const x=b[w];h[w]!==void 0&&Mn(x)&&x.set(h[w],!1)}}mount(t){this.current=t,a5.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),IC.current||i5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:c0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ba(this.notifyUpdate),ba(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Fo.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=e.on("change",f=>{this.latestValues[t]=f,this.props.onUpdate&&de.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),o=e.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{s(),o(),u&&u(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in au){const e=au[t];if(!e)continue;const{isEnabled:i,Feature:s}=e;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):je()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<ZA.length;i++){const s=ZA[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,u=t[o];u&&(this.propEventSubscriptions[s]=this.on(s,u))}this.prevMotionValues=o5(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=xf(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){var i;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(i=this.getBaseTargetFromProps(this.props,t))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(QI(s)||BI(s))?s=parseFloat(s):!s5(s)&&Ta.test(e)&&(s=KI(t,e)),this.setBaseTarget(t,Mn(s)?s.get():s)),Mn(s)?s.get():s}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;const{initial:i}=this.props;let s;if(typeof i=="string"||typeof i=="object"){const u=M_(this.props,i,(e=this.presenceContext)===null||e===void 0?void 0:e.custom);u&&(s=u[t])}if(i&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Mn(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new F_),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class CC extends l5{constructor(){super(...arguments),this.KeyframeResolver=JI}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Mn(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function u5(n){return window.getComputedStyle(n)}class c5 extends CC{constructor(){super(...arguments),this.type="html",this.renderInstance=vI}readValueFromInstance(t,e){if(Fo.has(e)){const i=$_(e);return i&&i.default||0}else{const i=u5(t),s=(x_(e)?i.getPropertyValue(e):i[e])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:e}){return yC(t,e)}build(t,e,i){C_(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return V_(t,e,i)}}class f5 extends CC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=je,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&yI(this.current,this.renderState)}}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Fo.has(e)){const i=$_(e);return i&&i.default||0}return e=_I.has(e)?e:S_(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return TI(t,e,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&de.postRender(this.updateDimensions)}build(t,e,i){N_(t,e,this.isSVGTag,i.transformTemplate)}renderInstance(t,e,i,s){bI(t,e,i,s)}mount(t){this.isSVGTag=O_(t.tagName),super.mount(t)}}const h5=(n,t)=>P_(n)?new f5(t):new c5(t,{allowProjection:n!==C.Fragment}),d5=Lk({...VL,...e5,...H3,...n5},h5),JA=JV(d5);var t1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?t[e++]=s:s<2048?(t[e++]=s>>6|192,t[e++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=s>>18|240,t[e++]=s>>12&63|128,t[e++]=s>>6&63|128,t[e++]=s&63|128):(t[e++]=s>>12|224,t[e++]=s>>6&63|128,t[e++]=s&63|128)}return t},m5=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const s=n[e++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[e++];t[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[e++],u=n[e++],f=n[e++],h=((s&7)<<18|(o&63)<<12|(u&63)<<6|f&63)-65536;t[i++]=String.fromCharCode(55296+(h>>10)),t[i++]=String.fromCharCode(56320+(h&1023))}else{const o=n[e++],u=n[e++];t[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return t.join("")},PC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const o=n[s],u=s+1<n.length,f=u?n[s+1]:0,h=s+2<n.length,m=h?n[s+2]:0,g=o>>2,v=(o&3)<<4|f>>4;let b=(f&15)<<2|m>>6,w=m&63;h||(w=64,u||(b=64)),i.push(e[g],e[v],e[b],e[w])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(DC(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):m5(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const o=e[n.charAt(s++)],f=s<n.length?e[n.charAt(s)]:0;++s;const m=s<n.length?e[n.charAt(s)]:64;++s;const v=s<n.length?e[n.charAt(s)]:64;if(++s,o==null||f==null||m==null||v==null)throw new p5;const b=o<<2|f>>4;if(i.push(b),m!==64){const w=f<<4&240|m>>2;if(i.push(w),v!==64){const x=m<<6&192|v;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class p5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const g5=function(n){const t=DC(n);return PC.encodeByteArray(t,!0)},NC=function(n){return g5(n).replace(/\./g,"")},OC=function(n){try{return PC.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5=()=>y5().__FIREBASE_DEFAULTS__,_5=()=>{if(typeof process>"u"||typeof t1>"u")return;const n=t1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},b5=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&OC(n[1]);return t&&JSON.parse(t)},Tp=()=>{try{return v5()||_5()||b5()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},T5=n=>{var t,e;return(e=(t=Tp())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},MC=()=>{var n;return(n=Tp())===null||n===void 0?void 0:n.config},VC=n=>{var t;return(t=Tp())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function w5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function S5(){var n;const t=(n=Tp())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function A5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function x5(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function R5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function I5(){const n=nn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function kC(){return!S5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LC(){try{return typeof indexedDB=="object"}catch{return!1}}function C5(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{e=!1},s.onerror=()=>{var o;t(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5="FirebaseError";class gs extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=D5,Object.setPrototypeOf(this,gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nh.prototype.create)}}class nh{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},s=`${this.service}/${t}`,o=this.errors[t],u=o?P5(o,i):"Error",f=`${this.serviceName}: ${u} (${s}).`;return new gs(s,f,i)}}function P5(n,t){return n.replace(N5,(e,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const N5=/\{\$([^}]+)}/g;function O5(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Cf(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const s of e){if(!i.includes(s))return!1;const o=n[s],u=t[s];if(e1(o)&&e1(u)){if(!Cf(o,u))return!1}else if(o!==u)return!1}for(const s of i)if(!e.includes(s))return!1;return!0}function e1(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function M5(n,t){const e=new V5(n,t);return e.subscribe.bind(e)}class V5{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let s;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");k5(t,["next","error","complete"])?s=t:s={next:t,error:e,complete:i},s.next===void 0&&(s.next=yv),s.error===void 0&&(s.error=yv),s.complete===void 0&&(s.complete=yv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function k5(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function yv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(n){return n&&n._delegate?n._delegate:n}class Do{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new E5;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:e});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(U5(t))try{this.getOrInitializeService({instanceIdentifier:po})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(t=po){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=po){return this.instances.has(t)}getOptions(t=po){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(o);i===f&&u.resolve(s)}return s}onInit(t,e){var i;const s=this.normalizeInstanceIdentifier(e),o=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const s of i)try{s(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:j5(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=po){return this.component?this.component.multipleInstances?t:po:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function j5(n){return n===po?void 0:n}function U5(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new L5(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ft||(Ft={}));const z5={debug:Ft.DEBUG,verbose:Ft.VERBOSE,info:Ft.INFO,warn:Ft.WARN,error:Ft.ERROR,silent:Ft.SILENT},F5=Ft.INFO,q5={[Ft.DEBUG]:"log",[Ft.VERBOSE]:"log",[Ft.INFO]:"info",[Ft.WARN]:"warn",[Ft.ERROR]:"error"},H5=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),s=q5[t];if(s)console[s](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Z_{constructor(t){this.name=t,this._logLevel=F5,this._logHandler=H5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ft))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?z5[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ft.DEBUG,...t),this._logHandler(this,Ft.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ft.VERBOSE,...t),this._logHandler(this,Ft.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ft.INFO,...t),this._logHandler(this,Ft.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ft.WARN,...t),this._logHandler(this,Ft.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ft.ERROR,...t),this._logHandler(this,Ft.ERROR,...t)}}const G5=(n,t)=>t.some(e=>n instanceof e);let n1,i1;function K5(){return n1||(n1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $5(){return i1||(i1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jC=new WeakMap,f0=new WeakMap,UC=new WeakMap,vv=new WeakMap,J_=new WeakMap;function Y5(n){const t=new Promise((e,i)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{e(ha(n.result)),s()},u=()=>{i(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&jC.set(e,n)}).catch(()=>{}),J_.set(t,n),t}function Q5(n){if(f0.has(n))return;const t=new Promise((e,i)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{e(),s()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});f0.set(n,t)}let h0={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return f0.get(n);if(t==="objectStoreNames")return n.objectStoreNames||UC.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ha(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function X5(n){h0=n(h0)}function W5(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(_v(this),t,...e);return UC.set(i,t.sort?t.sort():[t]),ha(i)}:$5().includes(n)?function(...t){return n.apply(_v(this),t),ha(jC.get(this))}:function(...t){return ha(n.apply(_v(this),t))}}function Z5(n){return typeof n=="function"?W5(n):(n instanceof IDBTransaction&&Q5(n),G5(n,K5())?new Proxy(n,h0):n)}function ha(n){if(n instanceof IDBRequest)return Y5(n);if(vv.has(n))return vv.get(n);const t=Z5(n);return t!==n&&(vv.set(n,t),J_.set(t,n)),t}const _v=n=>J_.get(n);function J5(n,t,{blocked:e,upgrade:i,blocking:s,terminated:o}={}){const u=indexedDB.open(n,t),f=ha(u);return i&&u.addEventListener("upgradeneeded",h=>{i(ha(u.result),h.oldVersion,h.newVersion,ha(u.transaction),h)}),e&&u.addEventListener("blocked",h=>e(h.oldVersion,h.newVersion,h)),f.then(h=>{o&&h.addEventListener("close",()=>o()),s&&h.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const t6=["get","getKey","getAll","getAllKeys","count"],e6=["put","add","delete","clear"],bv=new Map;function r1(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(bv.get(t))return bv.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,s=e6.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(s||t6.includes(e)))return;const o=async function(u,...f){const h=this.transaction(u,s?"readwrite":"readonly");let m=h.store;return i&&(m=m.index(f.shift())),(await Promise.all([m[e](...f),s&&h.done]))[0]};return bv.set(t,o),o}X5(n=>({...n,get:(t,e,i)=>r1(t,e)||n.get(t,e,i),has:(t,e)=>!!r1(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(i6(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function i6(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const d0="@firebase/app",s1="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new Z_("@firebase/app"),r6="@firebase/app-compat",s6="@firebase/analytics-compat",a6="@firebase/analytics",o6="@firebase/app-check-compat",l6="@firebase/app-check",u6="@firebase/auth",c6="@firebase/auth-compat",f6="@firebase/database",h6="@firebase/data-connect",d6="@firebase/database-compat",m6="@firebase/functions",p6="@firebase/functions-compat",g6="@firebase/installations",y6="@firebase/installations-compat",v6="@firebase/messaging",_6="@firebase/messaging-compat",b6="@firebase/performance",T6="@firebase/performance-compat",E6="@firebase/remote-config",w6="@firebase/remote-config-compat",S6="@firebase/storage",A6="@firebase/storage-compat",x6="@firebase/firestore",R6="@firebase/vertexai",I6="@firebase/firestore-compat",C6="firebase",D6="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="[DEFAULT]",P6={[d0]:"fire-core",[r6]:"fire-core-compat",[a6]:"fire-analytics",[s6]:"fire-analytics-compat",[l6]:"fire-app-check",[o6]:"fire-app-check-compat",[u6]:"fire-auth",[c6]:"fire-auth-compat",[f6]:"fire-rtdb",[h6]:"fire-data-connect",[d6]:"fire-rtdb-compat",[m6]:"fire-fn",[p6]:"fire-fn-compat",[g6]:"fire-iid",[y6]:"fire-iid-compat",[v6]:"fire-fcm",[_6]:"fire-fcm-compat",[b6]:"fire-perf",[T6]:"fire-perf-compat",[E6]:"fire-rc",[w6]:"fire-rc-compat",[S6]:"fire-gcs",[A6]:"fire-gcs-compat",[x6]:"fire-fst",[I6]:"fire-fst-compat",[R6]:"fire-vertex","fire-js":"fire-js",[C6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm=new Map,N6=new Map,p0=new Map;function a1(n,t){try{n.container.addComponent(t)}catch(e){us.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function lu(n){const t=n.name;if(p0.has(t))return us.debug(`There were multiple attempts to register component ${t}.`),!1;p0.set(t,n);for(const e of Pm.values())a1(e,n);for(const e of N6.values())a1(e,n);return!0}function tb(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function pr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},da=new nh("app","Firebase",O6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Do("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw da.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu=D6;function BC(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:m0,automaticDataCollectionEnabled:!1},t),s=i.name;if(typeof s!="string"||!s)throw da.create("bad-app-name",{appName:String(s)});if(e||(e=MC()),!e)throw da.create("no-options");const o=Pm.get(s);if(o){if(Cf(e,o.options)&&Cf(i,o.config))return o;throw da.create("duplicate-app",{appName:s})}const u=new B5(s);for(const h of p0.values())u.addComponent(h);const f=new M6(e,i,u);return Pm.set(s,f),f}function V6(n=m0){const t=Pm.get(n);if(!t&&n===m0&&MC())return BC();if(!t)throw da.create("no-app",{appName:n});return t}function ma(n,t,e){var i;let s=(i=P6[n])!==null&&i!==void 0?i:n;e&&(s+=`-${e}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),us.warn(f.join(" "));return}lu(new Do(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6="firebase-heartbeat-database",L6=1,Df="firebase-heartbeat-store";let Tv=null;function zC(){return Tv||(Tv=J5(k6,L6,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Df)}catch(e){console.warn(e)}}}}).catch(n=>{throw da.create("idb-open",{originalErrorMessage:n.message})})),Tv}async function j6(n){try{const e=(await zC()).transaction(Df),i=await e.objectStore(Df).get(FC(n));return await e.done,i}catch(t){if(t instanceof gs)us.warn(t.message);else{const e=da.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});us.warn(e.message)}}}async function o1(n,t){try{const i=(await zC()).transaction(Df,"readwrite");await i.objectStore(Df).put(t,FC(n)),await i.done}catch(e){if(e instanceof gs)us.warn(e.message);else{const i=da.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});us.warn(i.message)}}}function FC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6=1024,B6=30;class z6{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new q6(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=l1();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>B6){const u=H6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){us.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=l1(),{heartbeatsToSend:i,unsentEntries:s}=F6(this._heartbeatsCache.heartbeats),o=NC(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return us.warn(e),""}}}function l1(){return new Date().toISOString().substring(0,10)}function F6(n,t=U6){const e=[];let i=n.slice();for(const s of n){const o=e.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),u1(e)>t){o.dates.pop();break}}else if(e.push({agent:s.agent,dates:[s.date]}),u1(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class q6{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LC()?C5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await j6(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const s=await this.read();return o1(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const s=await this.read();return o1(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function u1(n){return NC(JSON.stringify({version:2,heartbeats:n})).length}function H6(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(n){lu(new Do("platform-logger",t=>new n6(t),"PRIVATE")),lu(new Do("heartbeat",t=>new z6(t),"PRIVATE")),ma(d0,s1,n),ma(d0,s1,"esm2017"),ma("fire-js","")}G6("");var c1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pa,qC;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,S){function R(){}R.prototype=S.prototype,O.D=S.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(M,U,H){for(var L=Array(arguments.length-2),Qt=2;Qt<arguments.length;Qt++)L[Qt-2]=arguments[Qt];return S.prototype[U].apply(M,L)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(O,S,R){R||(R=0);var M=Array(16);if(typeof S=="string")for(var U=0;16>U;++U)M[U]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(U=0;16>U;++U)M[U]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=O.g[0],R=O.g[1],U=O.g[2];var H=O.g[3],L=S+(H^R&(U^H))+M[0]+3614090360&4294967295;S=R+(L<<7&4294967295|L>>>25),L=H+(U^S&(R^U))+M[1]+3905402710&4294967295,H=S+(L<<12&4294967295|L>>>20),L=U+(R^H&(S^R))+M[2]+606105819&4294967295,U=H+(L<<17&4294967295|L>>>15),L=R+(S^U&(H^S))+M[3]+3250441966&4294967295,R=U+(L<<22&4294967295|L>>>10),L=S+(H^R&(U^H))+M[4]+4118548399&4294967295,S=R+(L<<7&4294967295|L>>>25),L=H+(U^S&(R^U))+M[5]+1200080426&4294967295,H=S+(L<<12&4294967295|L>>>20),L=U+(R^H&(S^R))+M[6]+2821735955&4294967295,U=H+(L<<17&4294967295|L>>>15),L=R+(S^U&(H^S))+M[7]+4249261313&4294967295,R=U+(L<<22&4294967295|L>>>10),L=S+(H^R&(U^H))+M[8]+1770035416&4294967295,S=R+(L<<7&4294967295|L>>>25),L=H+(U^S&(R^U))+M[9]+2336552879&4294967295,H=S+(L<<12&4294967295|L>>>20),L=U+(R^H&(S^R))+M[10]+4294925233&4294967295,U=H+(L<<17&4294967295|L>>>15),L=R+(S^U&(H^S))+M[11]+2304563134&4294967295,R=U+(L<<22&4294967295|L>>>10),L=S+(H^R&(U^H))+M[12]+1804603682&4294967295,S=R+(L<<7&4294967295|L>>>25),L=H+(U^S&(R^U))+M[13]+4254626195&4294967295,H=S+(L<<12&4294967295|L>>>20),L=U+(R^H&(S^R))+M[14]+2792965006&4294967295,U=H+(L<<17&4294967295|L>>>15),L=R+(S^U&(H^S))+M[15]+1236535329&4294967295,R=U+(L<<22&4294967295|L>>>10),L=S+(U^H&(R^U))+M[1]+4129170786&4294967295,S=R+(L<<5&4294967295|L>>>27),L=H+(R^U&(S^R))+M[6]+3225465664&4294967295,H=S+(L<<9&4294967295|L>>>23),L=U+(S^R&(H^S))+M[11]+643717713&4294967295,U=H+(L<<14&4294967295|L>>>18),L=R+(H^S&(U^H))+M[0]+3921069994&4294967295,R=U+(L<<20&4294967295|L>>>12),L=S+(U^H&(R^U))+M[5]+3593408605&4294967295,S=R+(L<<5&4294967295|L>>>27),L=H+(R^U&(S^R))+M[10]+38016083&4294967295,H=S+(L<<9&4294967295|L>>>23),L=U+(S^R&(H^S))+M[15]+3634488961&4294967295,U=H+(L<<14&4294967295|L>>>18),L=R+(H^S&(U^H))+M[4]+3889429448&4294967295,R=U+(L<<20&4294967295|L>>>12),L=S+(U^H&(R^U))+M[9]+568446438&4294967295,S=R+(L<<5&4294967295|L>>>27),L=H+(R^U&(S^R))+M[14]+3275163606&4294967295,H=S+(L<<9&4294967295|L>>>23),L=U+(S^R&(H^S))+M[3]+4107603335&4294967295,U=H+(L<<14&4294967295|L>>>18),L=R+(H^S&(U^H))+M[8]+1163531501&4294967295,R=U+(L<<20&4294967295|L>>>12),L=S+(U^H&(R^U))+M[13]+2850285829&4294967295,S=R+(L<<5&4294967295|L>>>27),L=H+(R^U&(S^R))+M[2]+4243563512&4294967295,H=S+(L<<9&4294967295|L>>>23),L=U+(S^R&(H^S))+M[7]+1735328473&4294967295,U=H+(L<<14&4294967295|L>>>18),L=R+(H^S&(U^H))+M[12]+2368359562&4294967295,R=U+(L<<20&4294967295|L>>>12),L=S+(R^U^H)+M[5]+4294588738&4294967295,S=R+(L<<4&4294967295|L>>>28),L=H+(S^R^U)+M[8]+2272392833&4294967295,H=S+(L<<11&4294967295|L>>>21),L=U+(H^S^R)+M[11]+1839030562&4294967295,U=H+(L<<16&4294967295|L>>>16),L=R+(U^H^S)+M[14]+4259657740&4294967295,R=U+(L<<23&4294967295|L>>>9),L=S+(R^U^H)+M[1]+2763975236&4294967295,S=R+(L<<4&4294967295|L>>>28),L=H+(S^R^U)+M[4]+1272893353&4294967295,H=S+(L<<11&4294967295|L>>>21),L=U+(H^S^R)+M[7]+4139469664&4294967295,U=H+(L<<16&4294967295|L>>>16),L=R+(U^H^S)+M[10]+3200236656&4294967295,R=U+(L<<23&4294967295|L>>>9),L=S+(R^U^H)+M[13]+681279174&4294967295,S=R+(L<<4&4294967295|L>>>28),L=H+(S^R^U)+M[0]+3936430074&4294967295,H=S+(L<<11&4294967295|L>>>21),L=U+(H^S^R)+M[3]+3572445317&4294967295,U=H+(L<<16&4294967295|L>>>16),L=R+(U^H^S)+M[6]+76029189&4294967295,R=U+(L<<23&4294967295|L>>>9),L=S+(R^U^H)+M[9]+3654602809&4294967295,S=R+(L<<4&4294967295|L>>>28),L=H+(S^R^U)+M[12]+3873151461&4294967295,H=S+(L<<11&4294967295|L>>>21),L=U+(H^S^R)+M[15]+530742520&4294967295,U=H+(L<<16&4294967295|L>>>16),L=R+(U^H^S)+M[2]+3299628645&4294967295,R=U+(L<<23&4294967295|L>>>9),L=S+(U^(R|~H))+M[0]+4096336452&4294967295,S=R+(L<<6&4294967295|L>>>26),L=H+(R^(S|~U))+M[7]+1126891415&4294967295,H=S+(L<<10&4294967295|L>>>22),L=U+(S^(H|~R))+M[14]+2878612391&4294967295,U=H+(L<<15&4294967295|L>>>17),L=R+(H^(U|~S))+M[5]+4237533241&4294967295,R=U+(L<<21&4294967295|L>>>11),L=S+(U^(R|~H))+M[12]+1700485571&4294967295,S=R+(L<<6&4294967295|L>>>26),L=H+(R^(S|~U))+M[3]+2399980690&4294967295,H=S+(L<<10&4294967295|L>>>22),L=U+(S^(H|~R))+M[10]+4293915773&4294967295,U=H+(L<<15&4294967295|L>>>17),L=R+(H^(U|~S))+M[1]+2240044497&4294967295,R=U+(L<<21&4294967295|L>>>11),L=S+(U^(R|~H))+M[8]+1873313359&4294967295,S=R+(L<<6&4294967295|L>>>26),L=H+(R^(S|~U))+M[15]+4264355552&4294967295,H=S+(L<<10&4294967295|L>>>22),L=U+(S^(H|~R))+M[6]+2734768916&4294967295,U=H+(L<<15&4294967295|L>>>17),L=R+(H^(U|~S))+M[13]+1309151649&4294967295,R=U+(L<<21&4294967295|L>>>11),L=S+(U^(R|~H))+M[4]+4149444226&4294967295,S=R+(L<<6&4294967295|L>>>26),L=H+(R^(S|~U))+M[11]+3174756917&4294967295,H=S+(L<<10&4294967295|L>>>22),L=U+(S^(H|~R))+M[2]+718787259&4294967295,U=H+(L<<15&4294967295|L>>>17),L=R+(H^(U|~S))+M[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(U+(L<<21&4294967295|L>>>11))&4294967295,O.g[2]=O.g[2]+U&4294967295,O.g[3]=O.g[3]+H&4294967295}i.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var R=S-this.blockSize,M=this.B,U=this.h,H=0;H<S;){if(U==0)for(;H<=R;)s(this,O,H),H+=this.blockSize;if(typeof O=="string"){for(;H<S;)if(M[U++]=O.charCodeAt(H++),U==this.blockSize){s(this,M),U=0;break}}else for(;H<S;)if(M[U++]=O[H++],U==this.blockSize){s(this,M),U=0;break}}this.h=U,this.o+=S},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var R=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=R&255,R/=256;for(this.u(O),O=Array(16),S=R=0;4>S;++S)for(var M=0;32>M;M+=8)O[R++]=this.g[S]>>>M&255;return O};function o(O,S){var R=f;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=S(O)}function u(O,S){this.h=S;for(var R=[],M=!0,U=O.length-1;0<=U;U--){var H=O[U]|0;M&&H==S||(R[U]=H,M=!1)}this.g=R}var f={};function h(O){return-128<=O&&128>O?o(O,function(S){return new u([S|0],0>S?-1:0)}):new u([O|0],0>O?-1:0)}function m(O){if(isNaN(O)||!isFinite(O))return v;if(0>O)return D(m(-O));for(var S=[],R=1,M=0;O>=R;M++)S[M]=O/R|0,R*=4294967296;return new u(S,0)}function g(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return D(g(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=m(Math.pow(S,8)),M=v,U=0;U<O.length;U+=8){var H=Math.min(8,O.length-U),L=parseInt(O.substring(U,U+H),S);8>H?(H=m(Math.pow(S,H)),M=M.j(H).add(m(L))):(M=M.j(R),M=M.add(m(L)))}return M}var v=h(0),b=h(1),w=h(16777216);n=u.prototype,n.m=function(){if(N(this))return-D(this).m();for(var O=0,S=1,R=0;R<this.g.length;R++){var M=this.i(R);O+=(0<=M?M:4294967296+M)*S,S*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(x(this))return"0";if(N(this))return"-"+D(this).toString(O);for(var S=m(Math.pow(O,6)),R=this,M="";;){var U=Z(R,S).g;R=V(R,U.j(S));var H=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=U,x(R))return H+M;for(;6>H.length;)H="0"+H;M=H+M}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function x(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function N(O){return O.h==-1}n.l=function(O){return O=V(this,O),N(O)?-1:x(O)?0:1};function D(O){for(var S=O.g.length,R=[],M=0;M<S;M++)R[M]=~O.g[M];return new u(R,~O.h).add(b)}n.abs=function(){return N(this)?D(this):this},n.add=function(O){for(var S=Math.max(this.g.length,O.g.length),R=[],M=0,U=0;U<=S;U++){var H=M+(this.i(U)&65535)+(O.i(U)&65535),L=(H>>>16)+(this.i(U)>>>16)+(O.i(U)>>>16);M=L>>>16,H&=65535,L&=65535,R[U]=L<<16|H}return new u(R,R[R.length-1]&-2147483648?-1:0)};function V(O,S){return O.add(D(S))}n.j=function(O){if(x(this)||x(O))return v;if(N(this))return N(O)?D(this).j(D(O)):D(D(this).j(O));if(N(O))return D(this.j(D(O)));if(0>this.l(w)&&0>O.l(w))return m(this.m()*O.m());for(var S=this.g.length+O.g.length,R=[],M=0;M<2*S;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var U=0;U<O.g.length;U++){var H=this.i(M)>>>16,L=this.i(M)&65535,Qt=O.i(U)>>>16,oe=O.i(U)&65535;R[2*M+2*U]+=L*oe,B(R,2*M+2*U),R[2*M+2*U+1]+=H*oe,B(R,2*M+2*U+1),R[2*M+2*U+1]+=L*Qt,B(R,2*M+2*U+1),R[2*M+2*U+2]+=H*Qt,B(R,2*M+2*U+2)}for(M=0;M<S;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=S;M<2*S;M++)R[M]=0;return new u(R,0)};function B(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function j(O,S){this.g=O,this.h=S}function Z(O,S){if(x(S))throw Error("division by zero");if(x(O))return new j(v,v);if(N(O))return S=Z(D(O),S),new j(D(S.g),D(S.h));if(N(S))return S=Z(O,D(S)),new j(D(S.g),S.h);if(30<O.g.length){if(N(O)||N(S))throw Error("slowDivide_ only works with positive integers.");for(var R=b,M=S;0>=M.l(O);)R=G(R),M=G(M);var U=J(R,1),H=J(M,1);for(M=J(M,2),R=J(R,2);!x(M);){var L=H.add(M);0>=L.l(O)&&(U=U.add(R),H=L),M=J(M,1),R=J(R,1)}return S=V(O,U.j(S)),new j(U,S)}for(U=v;0<=O.l(S);){for(R=Math.max(1,Math.floor(O.m()/S.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),H=m(R),L=H.j(S);N(L)||0<L.l(O);)R-=M,H=m(R),L=H.j(S);x(H)&&(H=b),U=U.add(H),O=V(O,L)}return new j(U,O)}n.A=function(O){return Z(this,O).h},n.and=function(O){for(var S=Math.max(this.g.length,O.g.length),R=[],M=0;M<S;M++)R[M]=this.i(M)&O.i(M);return new u(R,this.h&O.h)},n.or=function(O){for(var S=Math.max(this.g.length,O.g.length),R=[],M=0;M<S;M++)R[M]=this.i(M)|O.i(M);return new u(R,this.h|O.h)},n.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),R=[],M=0;M<S;M++)R[M]=this.i(M)^O.i(M);return new u(R,this.h^O.h)};function G(O){for(var S=O.g.length+1,R=[],M=0;M<S;M++)R[M]=O.i(M)<<1|O.i(M-1)>>>31;return new u(R,O.h)}function J(O,S){var R=S>>5;S%=32;for(var M=O.g.length-R,U=[],H=0;H<M;H++)U[H]=0<S?O.i(H+R)>>>S|O.i(H+R+1)<<32-S:O.i(H+R);return new u(U,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,qC=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=g,pa=u}).apply(typeof c1<"u"?c1:typeof self<"u"?self:typeof window<"u"?window:{});var Bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HC,Zc,GC,sm,g0,KC,$C,YC;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,T){return d==Array.prototype||d==Object.prototype||(d[_]=T.value),d};function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bd=="object"&&Bd];for(var _=0;_<d.length;++_){var T=d[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=e(this);function s(d,_){if(_)t:{var T=i;d=d.split(".");for(var I=0;I<d.length-1;I++){var $=d[I];if(!($ in T))break t;T=T[$]}d=d[d.length-1],I=T[d],_=_(I),_!=I&&_!=null&&t(T,d,{configurable:!0,writable:!0,value:_})}}function o(d,_){d instanceof String&&(d+="");var T=0,I=!1,$={next:function(){if(!I&&T<d.length){var W=T++;return{value:_(W,d[W]),done:!1}}return I=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}s("Array.prototype.values",function(d){return d||function(){return o(this,function(_,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function h(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function m(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function g(d,_,T){return d.call.apply(d.bind,arguments)}function v(d,_,T){if(!d)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,I),d.apply(_,$)}}return function(){return d.apply(_,arguments)}}function b(d,_,T){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,b.apply(null,arguments)}function w(d,_){var T=Array.prototype.slice.call(arguments,1);return function(){var I=T.slice();return I.push.apply(I,arguments),d.apply(this,I)}}function x(d,_){function T(){}T.prototype=_.prototype,d.aa=_.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(I,$,W){for(var lt=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)lt[Gt-2]=arguments[Gt];return _.prototype[$].apply(I,lt)}}function N(d){const _=d.length;if(0<_){const T=Array(_);for(let I=0;I<_;I++)T[I]=d[I];return T}return[]}function D(d,_){for(let T=1;T<arguments.length;T++){const I=arguments[T];if(h(I)){const $=d.length||0,W=I.length||0;d.length=$+W;for(let lt=0;lt<W;lt++)d[$+lt]=I[lt]}else d.push(I)}}class V{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function B(d){return/^[\s\xa0]*$/.test(d)}function j(){var d=f.navigator;return d&&(d=d.userAgent)?d:""}function Z(d){return Z[" "](d),d}Z[" "]=function(){};var G=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function J(d,_,T){for(const I in d)_.call(T,d[I],I,d)}function O(d,_){for(const T in d)_.call(void 0,d[T],T,d)}function S(d){const _={};for(const T in d)_[T]=d[T];return _}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(d,_){let T,I;for(let $=1;$<arguments.length;$++){I=arguments[$];for(T in I)d[T]=I[T];for(let W=0;W<R.length;W++)T=R[W],Object.prototype.hasOwnProperty.call(I,T)&&(d[T]=I[T])}}function U(d){var _=1;d=d.split(":");const T=[];for(;0<_&&d.length;)T.push(d.shift()),_--;return d.length&&T.push(d.join(":")),T}function H(d){f.setTimeout(()=>{throw d},0)}function L(){var d=Pt;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class Qt{constructor(){this.h=this.g=null}add(_,T){const I=oe.get();I.set(_,T),this.h?this.h.next=I:this.g=I,this.h=I}}var oe=new V(()=>new ut,d=>d.reset());class ut{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ct,pt=!1,Pt=new Qt,z=()=>{const d=f.Promise.resolve(void 0);ct=()=>{d.then(st)}};var st=()=>{for(var d;d=L();){try{d.h.call(d.g)}catch(T){H(T)}var _=oe;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}pt=!1};function dt(){this.s=this.s,this.C=this.C}dt.prototype.s=!1,dt.prototype.ma=function(){this.s||(this.s=!0,this.N())},dt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ft(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}ft.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};f.addEventListener("test",T,_),f.removeEventListener("test",T,_)}catch{}return d}();function It(d,_){if(ft.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,I=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(G){t:{try{Z(_.nodeName);var $=!0;break t}catch{}$=!1}$||(_=null)}}else T=="mouseover"?_=d.fromElement:T=="mouseout"&&(_=d.toElement);this.relatedTarget=_,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:St[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&It.aa.h.call(this)}}x(It,ft);var St={2:"touch",3:"pen",4:"mouse"};It.prototype.h=function(){It.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),Mt=0;function Xt(d,_,T,I,$){this.listener=d,this.proxy=null,this.src=_,this.type=T,this.capture=!!I,this.ha=$,this.key=++Mt,this.da=this.fa=!1}function bt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ve(d){this.src=d,this.g={},this.h=0}Ve.prototype.add=function(d,_,T,I,$){var W=d.toString();d=this.g[W],d||(d=this.g[W]=[],this.h++);var lt=Ge(d,_,I,$);return-1<lt?(_=d[lt],T||(_.fa=!1)):(_=new Xt(_,this.src,W,!!I,$),_.fa=T,d.push(_)),_};function Ue(d,_){var T=_.type;if(T in d.g){var I=d.g[T],$=Array.prototype.indexOf.call(I,_,void 0),W;(W=0<=$)&&Array.prototype.splice.call(I,$,1),W&&(bt(_),d.g[T].length==0&&(delete d.g[T],d.h--))}}function Ge(d,_,T,I){for(var $=0;$<d.length;++$){var W=d[$];if(!W.da&&W.listener==_&&W.capture==!!T&&W.ha==I)return $}return-1}var sn="closure_lm_"+(1e6*Math.random()|0),Ln={};function An(d,_,T,I,$){if(Array.isArray(_)){for(var W=0;W<_.length;W++)An(d,_[W],T,I,$);return null}return T=Go(T),d&&d[me]?d.K(_,T,m(I)?!!I.capture:!1,$):bs(d,_,T,!1,I,$)}function bs(d,_,T,I,$,W){if(!_)throw Error("Invalid event type");var lt=m($)?!!$.capture:!!$,Gt=Es(d);if(Gt||(d[sn]=Gt=new Ve(d)),T=Gt.add(_,T,I,lt,W),T.proxy)return T;if(I=Ir(),T.proxy=I,I.src=d,I.listener=T,d.addEventListener)ht||($=lt),$===void 0&&($=!1),d.addEventListener(_.toString(),I,$);else if(d.attachEvent)d.attachEvent(Li(_.toString()),I);else if(d.addListener&&d.removeListener)d.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ir(){function d(T){return _.call(d.src,d.listener,T)}const _=Ts;return d}function $i(d,_,T,I,$){if(Array.isArray(_))for(var W=0;W<_.length;W++)$i(d,_[W],T,I,$);else I=m(I)?!!I.capture:!!I,T=Go(T),d&&d[me]?(d=d.i,_=String(_).toString(),_ in d.g&&(W=d.g[_],T=Ge(W,T,I,$),-1<T&&(bt(W[T]),Array.prototype.splice.call(W,T,1),W.length==0&&(delete d.g[_],d.h--)))):d&&(d=Es(d))&&(_=d.g[_.toString()],d=-1,_&&(d=Ge(_,T,I,$)),(T=-1<d?_[d]:null)&&xn(T))}function xn(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[me])Ue(_.i,d);else{var T=d.type,I=d.proxy;_.removeEventListener?_.removeEventListener(T,I,d.capture):_.detachEvent?_.detachEvent(Li(T),I):_.addListener&&_.removeListener&&_.removeListener(I),(T=Es(_))?(Ue(T,d),T.h==0&&(T.src=null,_[sn]=null)):bt(d)}}}function Li(d){return d in Ln?Ln[d]:Ln[d]="on"+d}function Ts(d,_){if(d.da)d=!0;else{_=new It(_,this);var T=d.listener,I=d.ha||d.src;d.fa&&xn(d),d=T.call(I,_)}return d}function Es(d){return d=d[sn],d instanceof Ve?d:null}var pn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Go(d){return typeof d=="function"?d:(d[pn]||(d[pn]=function(_){return d.handleEvent(_)}),d[pn])}function ke(){dt.call(this),this.i=new Ve(this),this.M=this,this.F=null}x(ke,dt),ke.prototype[me]=!0,ke.prototype.removeEventListener=function(d,_,T,I){$i(this,d,_,T,I)};function pe(d,_){var T,I=d.F;if(I)for(T=[];I;I=I.F)T.push(I);if(d=d.M,I=_.type||_,typeof _=="string")_=new ft(_,d);else if(_ instanceof ft)_.target=_.target||d;else{var $=_;_=new ft(I,d),M(_,$)}if($=!0,T)for(var W=T.length-1;0<=W;W--){var lt=_.g=T[W];$=Rn(lt,I,!0,_)&&$}if(lt=_.g=d,$=Rn(lt,I,!0,_)&&$,$=Rn(lt,I,!1,_)&&$,T)for(W=0;W<T.length;W++)lt=_.g=T[W],$=Rn(lt,I,!1,_)&&$}ke.prototype.N=function(){if(ke.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var T=d.g[_],I=0;I<T.length;I++)bt(T[I]);delete d.g[_],d.h--}}this.F=null},ke.prototype.K=function(d,_,T,I){return this.i.add(String(d),_,!1,T,I)},ke.prototype.L=function(d,_,T,I){return this.i.add(String(d),_,!0,T,I)};function Rn(d,_,T,I){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var $=!0,W=0;W<_.length;++W){var lt=_[W];if(lt&&!lt.da&&lt.capture==T){var Gt=lt.listener,We=lt.ha||lt.src;lt.fa&&Ue(d.i,lt),$=Gt.call(We,I)!==!1&&$}}return $&&!I.defaultPrevented}function Yi(d,_,T){if(typeof d=="function")T&&(d=b(d,T));else if(d&&typeof d.handleEvent=="function")d=b(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:f.setTimeout(d,_||0)}function ws(d){d.g=Yi(()=>{d.g=null,d.i&&(d.i=!1,ws(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class di extends dt{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ws(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qi(d){dt.call(this),this.h=d,this.g={}}x(Qi,dt);var Xi=[];function an(d){J(d.g,function(_,T){this.g.hasOwnProperty(T)&&xn(_)},d),d.g={}}Qi.prototype.N=function(){Qi.aa.N.call(this),an(this)},Qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cr=f.JSON.stringify,Wn=f.JSON.parse,gn=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function Ss(){}Ss.prototype.h=null;function Ko(d){return d.h||(d.h=d.i())}function $o(){}var mi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ge(){ft.call(this,"d")}x(ge,ft);function ye(){ft.call(this,"c")}x(ye,ft);var ue={},yn=null;function Ke(){return yn=yn||new ke}ue.La="serverreachability";function $e(d){ft.call(this,ue.La,d)}x($e,ft);function Ye(d){const _=Ke();pe(_,new $e(_))}ue.STAT_EVENT="statevent";function Zn(d,_){ft.call(this,ue.STAT_EVENT,d),this.stat=_}x(Zn,ft);function kt(d){const _=Ke();pe(_,new Zn(_,d))}ue.Ma="timingevent";function Jn(d,_){ft.call(this,ue.Ma,d),this.size=_}x(Jn,ft);function Qe(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},_)}function on(){this.g=!0}on.prototype.xa=function(){this.g=!1};function Wi(d,_,T,I,$,W){d.info(function(){if(d.g)if(W)for(var lt="",Gt=W.split("&"),We=0;We<Gt.length;We++){var Kt=Gt[We].split("=");if(1<Kt.length){var un=Kt[0];Kt=Kt[1];var Ze=un.split("_");lt=2<=Ze.length&&Ze[1]=="type"?lt+(un+"="+Kt+"&"):lt+(un+"=redacted&")}}else lt=null;else lt=W;return"XMLHTTP REQ ("+I+") [attempt "+$+"]: "+_+`
`+T+`
`+lt})}function Zi(d,_,T,I,$,W,lt){d.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+$+"]: "+_+`
`+T+`
`+W+" "+lt})}function vn(d,_,T,I){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Ie(d,T)+(I?" "+I:"")})}function In(d,_){d.info(function(){return"TIMEOUT: "+_})}on.prototype.info=function(){};function Ie(d,_){if(!d.g)return _;if(!_)return null;try{var T=JSON.parse(_);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var I=T[d];if(!(2>I.length)){var $=I[1];if(Array.isArray($)&&!(1>$.length)){var W=$[0];if(W!="noop"&&W!="stop"&&W!="close")for(var lt=1;lt<$.length;lt++)$[lt]=""}}}}return Cr(T)}catch{return _}}var Xe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Va;function Yo(){}x(Yo,Ss),Yo.prototype.g=function(){return new XMLHttpRequest},Yo.prototype.i=function(){return{}},Va=new Yo;function Ji(d,_,T,I){this.j=d,this.i=_,this.l=T,this.R=I||1,this.U=new Qi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ju}function ju(){this.i=null,this.g="",this.h=!1}var As={},ka={};function ji(d,_,T){d.L=1,d.v=Ua(Ce(_)),d.m=T,d.P=!0,Pr(d,null)}function Pr(d,_){d.F=Date.now(),Te(d),d.A=Ce(d.v);var T=d.A,I=d.R;Array.isArray(I)||(I=[String(I)]),Mr(T.i,"t",I),d.C=0,T=d.j.J,d.h=new ju,d.g=Mh(d.j,T?_:null,!d.m),0<d.O&&(d.M=new di(b(d.Y,d,d.g),d.O)),_=d.U,T=d.g,I=d.ca;var $="readystatechange";Array.isArray($)||($&&(Xi[0]=$.toString()),$=Xi);for(var W=0;W<$.length;W++){var lt=An(T,$[W],I||_.handleEvent,!1,_.h||_);if(!lt)break;_.g[lt.key]=lt}_=d.H?S(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Ye(),Wi(d.i,d.u,d.A,d.l,d.R,d.m)}Ji.prototype.ca=function(d){d=d.target;const _=this.M;_&&_i(d)==3?_.j():this.Y(d)},Ji.prototype.Y=function(d){try{if(d==this.g)t:{const Ze=_i(this.g);var _=this.g.Ba();const jr=this.g.Z();if(!(3>Ze)&&(Ze!=3||this.g&&(this.h.h||this.g.oa()||xh(this.g)))){this.J||Ze!=4||_==7||(_==8||0>=jr?Ye(3):Ye(2)),Qo(this);var T=this.g.Z();this.X=T;e:if(xs(this)){var I=xh(this.g);d="";var $=I.length,W=_i(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yn(this),ti(this);var lt="";break e}this.h.i=new f.TextDecoder}for(_=0;_<$;_++)this.h.h=!0,d+=this.h.i.decode(I[_],{stream:!(W&&_==$-1)});I.length=0,this.h.g+=d,this.C=0,lt=this.h.g}else lt=this.g.oa();if(this.o=T==200,Zi(this.i,this.u,this.A,this.l,this.R,Ze,T),this.o){if(this.T&&!this.K){e:{if(this.g){var Gt,We=this.g;if((Gt=We.g?We.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Gt)){var Kt=Gt;break e}}Kt=null}if(T=Kt)vn(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ei(this,T);else{this.o=!1,this.s=3,kt(12),Yn(this),ti(this);break t}}if(this.P){T=!0;let _n;for(;!this.J&&this.C<lt.length;)if(_n=Rs(this,lt),_n==ka){Ze==4&&(this.s=4,kt(14),T=!1),vn(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==As){this.s=4,kt(15),vn(this.i,this.l,lt,"[Invalid Chunk]"),T=!1;break}else vn(this.i,this.l,_n,null),ei(this,_n);if(xs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ze!=4||lt.length!=0||this.h.h||(this.s=1,kt(16),T=!1),this.o=this.o&&T,!T)vn(this.i,this.l,lt,"[Invalid Chunked Response]"),Yn(this),ti(this);else if(0<lt.length&&!this.W){this.W=!0;var un=this.j;un.g==this&&un.ba&&!un.M&&(un.j.info("Great, no buffering proxy detected. Bytes received: "+lt.length),Ka(un),un.M=!0,kt(11))}}else vn(this.i,this.l,lt,null),ei(this,lt);Ze==4&&Yn(this),this.o&&!this.J&&(Ze==4?Ph(this.j,this):(this.o=!1,Te(this)))}else ag(this.g),T==400&&0<lt.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),Yn(this),ti(this)}}}catch{}finally{}};function xs(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Rs(d,_){var T=d.C,I=_.indexOf(`
`,T);return I==-1?ka:(T=Number(_.substring(T,I)),isNaN(T)?As:(I+=1,I+T>_.length?ka:(_=_.slice(I,I+T),d.C=I+T,_)))}Ji.prototype.cancel=function(){this.J=!0,Yn(this)};function Te(d){d.S=Date.now()+d.I,Uu(d,d.I)}function Uu(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Qe(b(d.ba,d),_)}function Qo(d){d.B&&(f.clearTimeout(d.B),d.B=null)}Ji.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(In(this.i,this.A),this.L!=2&&(Ye(),kt(17)),Yn(this),this.s=2,ti(this)):Uu(this,this.S-d)};function ti(d){d.j.G==0||d.J||Ph(d.j,d)}function Yn(d){Qo(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,an(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function ei(d,_){try{var T=d.j;if(T.G!=0&&(T.g==d||Is(T.h,d))){if(!d.K&&Is(T.h,d)&&T.G==3){try{var I=T.Da.g.parse(_)}catch{I=null}if(Array.isArray(I)&&I.length==3){var $=I;if($[0]==0){t:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)sl(T),il(T);else break t;Xu(T),kt(18)}}else T.za=$[1],0<T.za-T.T&&37500>$[2]&&T.F&&T.v==0&&!T.C&&(T.C=Qe(b(T.Za,T),6e3));if(1>=Th(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Lr(T,11)}else if((d.K||T.g==d)&&sl(T),!B(_))for($=T.Da.g.parse(_),_=0;_<$.length;_++){let Kt=$[_];if(T.T=Kt[0],Kt=Kt[1],T.G==2)if(Kt[0]=="c"){T.K=Kt[1],T.ia=Kt[2];const un=Kt[3];un!=null&&(T.la=un,T.j.info("VER="+T.la));const Ze=Kt[4];Ze!=null&&(T.Aa=Ze,T.j.info("SVER="+T.Aa));const jr=Kt[5];jr!=null&&typeof jr=="number"&&0<jr&&(I=1.5*jr,T.L=I,T.j.info("backChannelRequestTimeoutMs_="+I)),I=T;const _n=d.g;if(_n){const ar=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ar){var W=I.h;W.g||ar.indexOf("spdy")==-1&&ar.indexOf("quic")==-1&&ar.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Cs(W,W.h),W.h=null))}if(I.D){const Zu=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;Zu&&(I.ya=Zu,Wt(I.I,I.D,Zu))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),I=T;var lt=d;if(I.qa=Oh(I,I.J?I.ia:null,I.W),lt.K){pi(I.h,lt);var Gt=lt,We=I.L;We&&(Gt.I=We),Gt.B&&(Qo(Gt),Te(Gt)),I.g=lt}else Ch(I);0<T.i.length&&rl(T)}else Kt[0]!="stop"&&Kt[0]!="close"||Lr(T,7);else T.G==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Lr(T,7):Yu(T):Kt[0]!="noop"&&T.l&&T.l.ta(Kt),T.v=0)}}Ye(4)}catch{}}var eg=class{constructor(d,_){this.g=d,this.map=_}};function Bu(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zu(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Th(d){return d.h?1:d.g?d.g.size:0}function Is(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function Cs(d,_){d.g?d.g.add(_):d.h=_}function pi(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}Bu.prototype.cancel=function(){if(this.i=jn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function jn(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const T of d.g.values())_=_.concat(T.D);return _}return N(d.i)}function Eh(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var _=[],T=d.length,I=0;I<T;I++)_.push(d[I]);return _}_=[],T=0;for(I in d)_[T++]=d[I];return _}function ng(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var _=[];d=d.length;for(var T=0;T<d;T++)_.push(T);return _}_=[],T=0;for(const I in d)_[T++]=I;return _}}}function La(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var T=ng(d),I=Eh(d),$=I.length,W=0;W<$;W++)_.call(void 0,I[W],T&&T[W],d)}var Fu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xo(d,_){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var I=d[T].indexOf("="),$=null;if(0<=I){var W=d[T].substring(0,I);$=d[T].substring(I+1)}else W=d[T];_(W,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Nr(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Nr){this.h=d.h,Ds(this,d.j),this.o=d.o,this.g=d.g,ja(this,d.s),this.l=d.l;var _=d.i,T=new tr;T.i=_.i,_.g&&(T.g=new Map(_.g),T.h=_.h),Wo(this,T),this.m=d.m}else d&&(_=String(d).match(Fu))?(this.h=!1,Ds(this,_[1]||"",!0),this.o=Ps(_[2]||""),this.g=Ps(_[3]||"",!0),ja(this,_[4]),this.l=Ps(_[5]||"",!0),Wo(this,_[6]||"",!0),this.m=Ps(_[7]||"")):(this.h=!1,this.i=new tr(null,this.h))}Nr.prototype.toString=function(){var d=[],_=this.j;_&&d.push(gi(_,qu,!0),":");var T=this.g;return(T||_=="file")&&(d.push("//"),(_=this.o)&&d.push(gi(_,qu,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(gi(T,T.charAt(0)=="/"?Hu:wh,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",gi(T,sg)),d.join("")};function Ce(d){return new Nr(d)}function Ds(d,_,T){d.j=T?Ps(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function ja(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function Wo(d,_,T){_ instanceof tr?(d.i=_,Gu(d.i,d.h)):(T||(_=gi(_,rg)),d.i=new tr(_,d.h))}function Wt(d,_,T){d.i.set(_,T)}function Ua(d){return Wt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Ps(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function gi(d,_,T){return typeof d=="string"?(d=encodeURI(d).replace(_,ig),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function ig(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var qu=/[#\/\?@]/g,wh=/[#\?:]/g,Hu=/[#\?]/g,rg=/[#\?@]/g,sg=/#/g;function tr(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function yi(d){d.g||(d.g=new Map,d.h=0,d.i&&Xo(d.i,function(_,T){d.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}n=tr.prototype,n.add=function(d,_){yi(this),this.i=null,d=Vr(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(_),this.h+=1,this};function Zo(d,_){yi(d),_=Vr(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Or(d,_){return yi(d),_=Vr(d,_),d.g.has(_)}n.forEach=function(d,_){yi(this),this.g.forEach(function(T,I){T.forEach(function($){d.call(_,$,I,this)},this)},this)},n.na=function(){yi(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),T=[];for(let I=0;I<_.length;I++){const $=d[I];for(let W=0;W<$.length;W++)T.push(_[I])}return T},n.V=function(d){yi(this);let _=[];if(typeof d=="string")Or(this,d)&&(_=_.concat(this.g.get(Vr(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)_=_.concat(d[T])}return _},n.set=function(d,_){return yi(this),this.i=null,d=Vr(this,d),Or(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function Mr(d,_,T){Zo(d,_),0<T.length&&(d.i=null,d.g.set(Vr(d,_),N(T)),d.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var T=0;T<_.length;T++){var I=_[T];const W=encodeURIComponent(String(I)),lt=this.V(I);for(I=0;I<lt.length;I++){var $=W;lt[I]!==""&&($+="="+encodeURIComponent(String(lt[I]))),d.push($)}}return this.i=d.join("&")};function Vr(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function Gu(d,_){_&&!d.j&&(yi(d),d.i=null,d.g.forEach(function(T,I){var $=I.toLowerCase();I!=$&&(Zo(this,I),Mr(this,$,T))},d)),d.j=_}function Sh(d,_){const T=new on;if(f.Image){const I=new Image;I.onload=w(vi,T,"TestLoadImage: loaded",!0,_,I),I.onerror=w(vi,T,"TestLoadImage: error",!1,_,I),I.onabort=w(vi,T,"TestLoadImage: abort",!1,_,I),I.ontimeout=w(vi,T,"TestLoadImage: timeout",!1,_,I),f.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=d}else _(!1)}function Ba(d,_){const T=new on,I=new AbortController,$=setTimeout(()=>{I.abort(),vi(T,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:I.signal}).then(W=>{clearTimeout($),W.ok?vi(T,"TestPingServer: ok",!0,_):vi(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout($),vi(T,"TestPingServer: error",!1,_)})}function vi(d,_,T,I,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),I(T)}catch{}}function za(){this.g=new gn}function er(d,_,T){const I=T||"";try{La(d,function($,W){let lt=$;m($)&&(lt=Cr($)),_.push(I+W+"="+encodeURIComponent(lt))})}catch($){throw _.push(I+"type="+encodeURIComponent("_badmap")),$}}function Ns(d){this.l=d.Ub||null,this.j=d.eb||!1}x(Ns,Ss),Ns.prototype.g=function(){return new kr(this.l,this.j)},Ns.prototype.i=function(d){return function(){return d}}({});function kr(d,_){ke.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(kr,ke),n=kr.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,ir(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||f).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,nr(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ir(this)),this.g&&(this.readyState=3,ir(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ku(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ku(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?nr(this):ir(this),this.readyState==3&&Ku(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,nr(this))},n.Qa=function(d){this.g&&(this.response=d,nr(this))},n.ga=function(){this.g&&nr(this)};function nr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,ir(d)}n.setRequestHeader=function(d,_){this.u.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=_.next();return d.join(`\r
`)};function ir(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function $u(d){let _="";return J(d,function(T,I){_+=I,_+=":",_+=T,_+=`\r
`}),_}function ln(d,_,T){t:{for(I in T){var I=!1;break t}I=!0}I||(T=$u(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):Wt(d,_,T))}function ee(d){ke.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(ee,ke);var Jo=/^https?$/i,Fa=["POST","PUT"];n=ee.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,_,T,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Va.g(),this.v=this.o?Ko(this.o):Ko(Va),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(W){Ah(this,W);return}if(d=T||"",T=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var $ in I)T.set($,I[$]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const W of I.keys())T.set(W,I.get(W));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(T.keys()).find(W=>W.toLowerCase()=="content-type"),$=f.FormData&&d instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Fa,_,void 0))||I||$||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,lt]of T)this.g.setRequestHeader(W,lt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qa(this),this.u=!0,this.g.send(d),this.u=!1}catch(W){Ah(this,W)}};function Ah(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,tl(d),rr(d)}function tl(d){d.A||(d.A=!0,pe(d,"complete"),pe(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,pe(this,"complete"),pe(this,"abort"),rr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rr(this,!0)),ee.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?el(this):this.bb())},n.bb=function(){el(this)};function el(d){if(d.h&&typeof u<"u"&&(!d.v[1]||_i(d)!=4||d.Z()!=2)){if(d.u&&_i(d)==4)Yi(d.Ea,0,d);else if(pe(d,"readystatechange"),_i(d)==4){d.h=!1;try{const lt=d.Z();t:switch(lt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var T;if(!(T=_)){var I;if(I=lt===0){var $=String(d.D).match(Fu)[1]||null;!$&&f.self&&f.self.location&&($=f.self.location.protocol.slice(0,-1)),I=!Jo.test($?$.toLowerCase():"")}T=I}if(T)pe(d,"complete"),pe(d,"success");else{d.m=6;try{var W=2<_i(d)?d.g.statusText:""}catch{W=""}d.l=W+" ["+d.Z()+"]",tl(d)}}finally{rr(d)}}}}function rr(d,_){if(d.g){qa(d);const T=d.g,I=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||pe(d,"ready");try{T.onreadystatechange=I}catch{}}}function qa(d){d.I&&(f.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function _i(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<_i(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),Wn(_)}};function xh(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ag(d){const _={};d=(d.g&&2<=_i(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<d.length;I++){if(B(d[I]))continue;var T=U(d[I]);const $=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const W=_[$]||[];_[$]=W,W.push(T)}O(_,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ha(d,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||_}function nl(d){this.Aa=0,this.i=[],this.j=new on,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ha("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ha("baseRetryDelayMs",5e3,d),this.cb=Ha("retryDelaySeedMs",1e4,d),this.Wa=Ha("forwardChannelMaxRetries",2,d),this.wa=Ha("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Bu(d&&d.concurrentRequestLimit),this.Da=new za,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=nl.prototype,n.la=8,n.G=1,n.connect=function(d,_,T,I){kt(0),this.W=d,this.H=_||{},T&&I!==void 0&&(this.H.OSID=T,this.H.OAID=I),this.F=this.X,this.I=Oh(this,null,this.W),rl(this)};function Yu(d){if(Rh(d),d.G==3){var _=d.U++,T=Ce(d.I);if(Wt(T,"SID",d.K),Wt(T,"RID",_),Wt(T,"TYPE","terminate"),Ga(d,T),_=new Ji(d,d.j,_),_.L=2,_.v=Ua(Ce(T)),T=!1,f.navigator&&f.navigator.sendBeacon)try{T=f.navigator.sendBeacon(_.v.toString(),"")}catch{}!T&&f.Image&&(new Image().src=_.v,T=!0),T||(_.g=Mh(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Te(_)}Nh(d)}function il(d){d.g&&(Ka(d),d.g.cancel(),d.g=null)}function Rh(d){il(d),d.u&&(f.clearTimeout(d.u),d.u=null),sl(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&f.clearTimeout(d.s),d.s=null)}function rl(d){if(!zu(d.h)&&!d.s){d.s=!0;var _=d.Ga;ct||z(),pt||(ct(),pt=!0),Pt.add(_,d),d.B=0}}function og(d,_){return Th(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Qe(b(d.Ga,d,_),Wu(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const $=new Ji(this,this.j,d);let W=this.o;if(this.S&&(W?(W=S(W),M(W,this.S)):W=this.S),this.m!==null||this.O||($.H=W,W=null),this.P)t:{for(var _=0,T=0;T<this.i.length;T++){e:{var I=this.i[T];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break e}I=void 0}if(I===void 0)break;if(_+=I,4096<_){_=T;break t}if(_===4096||T===this.i.length-1){_=T+1;break t}}_=1e3}else _=1e3;_=Ih(this,$,_),T=Ce(this.I),Wt(T,"RID",d),Wt(T,"CVER",22),this.D&&Wt(T,"X-HTTP-Session-Id",this.D),Ga(this,T),W&&(this.O?_="headers="+encodeURIComponent(String($u(W)))+"&"+_:this.m&&ln(T,this.m,W)),Cs(this.h,$),this.Ua&&Wt(T,"TYPE","init"),this.P?(Wt(T,"$req",_),Wt(T,"SID","null"),$.T=!0,ji($,T,null)):ji($,T,_),this.G=2}}else this.G==3&&(d?Qu(this,d):this.i.length==0||zu(this.h)||Qu(this))};function Qu(d,_){var T;_?T=_.l:T=d.U++;const I=Ce(d.I);Wt(I,"SID",d.K),Wt(I,"RID",T),Wt(I,"AID",d.T),Ga(d,I),d.m&&d.o&&ln(I,d.m,d.o),T=new Ji(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),_&&(d.i=_.D.concat(d.i)),_=Ih(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Cs(d.h,T),ji(T,I,_)}function Ga(d,_){d.H&&J(d.H,function(T,I){Wt(_,I,T)}),d.l&&La({},function(T,I){Wt(_,I,T)})}function Ih(d,_,T){T=Math.min(d.i.length,T);var I=d.l?b(d.l.Na,d.l,d):null;t:{var $=d.i;let W=-1;for(;;){const lt=["count="+T];W==-1?0<T?(W=$[0].g,lt.push("ofs="+W)):W=0:lt.push("ofs="+W);let Gt=!0;for(let We=0;We<T;We++){let Kt=$[We].g;const un=$[We].map;if(Kt-=W,0>Kt)W=Math.max(0,$[We].g-100),Gt=!1;else try{er(un,lt,"req"+Kt+"_")}catch{I&&I(un)}}if(Gt){I=lt.join("&");break t}}}return d=d.i.splice(0,T),_.D=d,I}function Ch(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;ct||z(),pt||(ct(),pt=!0),Pt.add(_,d),d.v=0}}function Xu(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Qe(b(d.Fa,d),Wu(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Dh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Qe(b(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),il(this),Dh(this))};function Ka(d){d.A!=null&&(f.clearTimeout(d.A),d.A=null)}function Dh(d){d.g=new Ji(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=Ce(d.qa);Wt(_,"RID","rpc"),Wt(_,"SID",d.K),Wt(_,"AID",d.T),Wt(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&Wt(_,"TO",d.ja),Wt(_,"TYPE","xmlhttp"),Ga(d,_),d.m&&d.o&&ln(_,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=Ua(Ce(_)),T.m=null,T.P=!0,Pr(T,d)}n.Za=function(){this.C!=null&&(this.C=null,il(this),Xu(this),kt(19))};function sl(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function Ph(d,_){var T=null;if(d.g==_){sl(d),Ka(d),d.g=null;var I=2}else if(Is(d.h,_))T=_.D,pi(d.h,_),I=1;else return;if(d.G!=0){if(_.o)if(I==1){T=_.m?_.m.length:0,_=Date.now()-_.F;var $=d.B;I=Ke(),pe(I,new Jn(I,T)),rl(d)}else Ch(d);else if($=_.s,$==3||$==0&&0<_.X||!(I==1&&og(d,_)||I==2&&Xu(d)))switch(T&&0<T.length&&(_=d.h,_.i=_.i.concat(T)),$){case 1:Lr(d,5);break;case 4:Lr(d,10);break;case 3:Lr(d,6);break;default:Lr(d,2)}}}function Wu(d,_){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*_}function Lr(d,_){if(d.j.info("Error code "+_),_==2){var T=b(d.fb,d),I=d.Xa;const $=!I;I=new Nr(I||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ds(I,"https"),Ua(I),$?Sh(I.toString(),T):Ba(I.toString(),T)}else kt(2);d.G=0,d.l&&d.l.sa(_),Nh(d),Rh(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Nh(d){if(d.G=0,d.ka=[],d.l){const _=jn(d.h);(_.length!=0||d.i.length!=0)&&(D(d.ka,_),D(d.ka,d.i),d.h.i.length=0,N(d.i),d.i.length=0),d.l.ra()}}function Oh(d,_,T){var I=T instanceof Nr?Ce(T):new Nr(T);if(I.g!="")_&&(I.g=_+"."+I.g),ja(I,I.s);else{var $=f.location;I=$.protocol,_=_?_+"."+$.hostname:$.hostname,$=+$.port;var W=new Nr(null);I&&Ds(W,I),_&&(W.g=_),$&&ja(W,$),T&&(W.l=T),I=W}return T=d.D,_=d.ya,T&&_&&Wt(I,T,_),Wt(I,"VER",d.la),Ga(d,I),I}function Mh(d,_,T){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new ee(new Ns({eb:T})):new ee(d.pa),_.Ha(d.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vh(){}n=Vh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function al(){}al.prototype.g=function(d,_){return new Un(d,_)};function Un(d,_){ke.call(this),this.g=new nl(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!B(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!B(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new sr(this)}x(Un,ke),Un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Un.prototype.close=function(){Yu(this.g)},Un.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=Cr(d),d=T);_.i.push(new eg(_.Ya++,d)),_.G==3&&rl(_)},Un.prototype.N=function(){this.g.l=null,delete this.j,Yu(this.g),delete this.g,Un.aa.N.call(this)};function kh(d){ge.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){t:{for(const T in _){d=T;break t}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}x(kh,ge);function Lh(){ye.call(this),this.status=1}x(Lh,ye);function sr(d){this.g=d}x(sr,Vh),sr.prototype.ua=function(){pe(this.g,"a")},sr.prototype.ta=function(d){pe(this.g,new kh(d))},sr.prototype.sa=function(d){pe(this.g,new Lh)},sr.prototype.ra=function(){pe(this.g,"b")},al.prototype.createWebChannel=al.prototype.g,Un.prototype.send=Un.prototype.o,Un.prototype.open=Un.prototype.m,Un.prototype.close=Un.prototype.close,YC=function(){return new al},$C=function(){return Ke()},KC=ue,g0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xe.NO_ERROR=0,Xe.TIMEOUT=8,Xe.HTTP_ERROR=6,sm=Xe,Dr.COMPLETE="complete",GC=Dr,$o.EventType=mi,mi.OPEN="a",mi.CLOSE="b",mi.ERROR="c",mi.MESSAGE="d",ke.prototype.listen=ke.prototype.K,Zc=$o,ee.prototype.listenOnce=ee.prototype.L,ee.prototype.getLastError=ee.prototype.Ka,ee.prototype.getLastErrorCode=ee.prototype.Ba,ee.prototype.getStatus=ee.prototype.Z,ee.prototype.getResponseJson=ee.prototype.Oa,ee.prototype.getResponseText=ee.prototype.oa,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Ha,HC=ee}).apply(typeof Bd<"u"?Bd:typeof self<"u"?self:typeof window<"u"?window:{});const f1="@firebase/firestore",h1="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Fn.UNAUTHENTICATED=new Fn(null),Fn.GOOGLE_CREDENTIALS=new Fn("google-credentials-uid"),Fn.FIRST_PARTY=new Fn("first-party-uid"),Fn.MOCK_USER=new Fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Du="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=new Z_("@firebase/firestore");function Ul(){return Po.logLevel}function at(n,...t){if(Po.logLevel<=Ft.DEBUG){const e=t.map(eb);Po.debug(`Firestore (${Du}): ${n}`,...e)}}function qn(n,...t){if(Po.logLevel<=Ft.ERROR){const e=t.map(eb);Po.error(`Firestore (${Du}): ${n}`,...e)}}function Pf(n,...t){if(Po.logLevel<=Ft.WARN){const e=t.map(eb);Po.warn(`Firestore (${Du}): ${n}`,...e)}}function eb(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(n="Unexpected state"){const t=`FIRESTORE (${Du}) INTERNAL ASSERTION FAILED: `+n;throw qn(t),new Error(t)}function Tt(n,t){n||vt()}function Dt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends gs{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class $6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Fn.UNAUTHENTICATED))}shutdown(){}}class Y6{constructor(t){this.t=t,this.currentUser=Fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Tt(this.o===void 0);let i=this.i;const s=h=>this.i!==i?(i=this.i,e(h)):Promise.resolve();let o=new os;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new os,t.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const h=o;t.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},f=h=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(h=>f(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new os)}},0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Tt(typeof i.accessToken=="string"),new K6(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Tt(t===null||typeof t=="string"),new Fn(t)}}class Q6{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=Fn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class X6{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new Q6(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(Fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class d1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W6{constructor(t,e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,pr(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,e){Tt(this.o===void 0);const i=o=>{o.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.R;return this.R=o.token,at("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const s=o=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new d1(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Tt(typeof e.token=="string"),this.R=e.token,new d1(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=Z6(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<e&&(i+=t.charAt(s[o]%62))}return i}}function Ot(n,t){return n<t?-1:n>t?1:0}function uu(n,t,e){return n.length===t.length&&n.every((i,s)=>e(i,t[s]))}function XC(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=-62135596800,p1=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(t){return Re.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*p1);return new Re(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new gt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new gt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<m1)throw new gt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/p1}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-m1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new Re(0,0))}static max(){return new At(new Re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="__name__";class dr{constructor(t,e,i){e===void 0?e=0:e>t.length&&vt(),i===void 0?i=t.length-e:i>t.length-e&&vt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return dr.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof dr?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let s=0;s<i;s++){const o=dr.compareSegments(t.get(s),e.get(s));if(o!==0)return o}return Math.sign(t.length-e.length)}static compareSegments(t,e){const i=dr.isNumericId(t),s=dr.isNumericId(e);return i&&!s?-1:!i&&s?1:i&&s?dr.extractNumericId(t).compare(dr.extractNumericId(e)):t<e?-1:t>e?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return pa.fromString(t.substring(4,t.length-2))}}class ne extends dr{construct(t,e,i){return new ne(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new gt(it.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(s=>s.length>0))}return new ne(e)}static emptyPath(){return new ne([])}}const J6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ae extends dr{construct(t,e,i){return new Ae(t,e,i)}static isValidIdentifier(t){return J6.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ae.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===g1}static keyField(){return new Ae([g1])}static fromServerFormat(t){const e=[];let i="",s=0;const o=()=>{if(i.length===0)throw new gt(it.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;s<t.length;){const f=t[s];if(f==="\\"){if(s+1===t.length)throw new gt(it.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new gt(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=h,s+=2}else f==="`"?(u=!u,s++):f!=="."||u?(i+=f,s++):(o(),s++)}if(o(),u)throw new gt(it.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ae(e)}static emptyPath(){return new Ae([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.path=t}static fromPath(t){return new mt(ne.fromString(t))}static fromName(t){return new mt(ne.fromString(t).popFirst(5))}static empty(){return new mt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ne.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new ne(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf=-1;class Nm{constructor(t,e,i,s){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=s}}function y0(n){return n.fields.find(t=>t.kind===2)}function go(n){return n.fields.filter(t=>t.kind!==2)}Nm.UNKNOWN_ID=-1;class am{constructor(t,e){this.fieldPath=t,this.kind=e}}class Of{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Of(0,fi.min())}}function t9(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=At.fromTimestamp(i===1e9?new Re(e+1,0):new Re(e,i));return new fi(s,mt.empty(),t)}function WC(n){return new fi(n.readTime,n.key,Nf)}class fi{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new fi(At.min(),mt.empty(),Nf)}static max(){return new fi(At.max(),mt.empty(),Nf)}}function nb(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=mt.comparator(n.documentKey,t.documentKey),e!==0?e:Ot(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(n){if(n.code!==it.FAILED_PRECONDITION||n.message!==ZC)throw n;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Y((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,s)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Y?e:Y.resolve(e)}catch(e){return Y.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Y.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Y.reject(e)}static resolve(t){return new Y((e,i)=>{e(t)})}static reject(t){return new Y((e,i)=>{i(t)})}static waitFor(t){return new Y((e,i)=>{let s=0,o=0,u=!1;t.forEach(f=>{++s,f.next(()=>{++o,u&&o===s&&e()},h=>i(h))}),u=!0,o===s&&e()})}static or(t){let e=Y.resolve(!1);for(const i of t)e=e.next(s=>s?Y.resolve(s):i());return e}static forEach(t,e){const i=[];return t.forEach((s,o)=>{i.push(e.call(this,s,o))}),this.waitFor(i)}static mapArray(t,e){return new Y((i,s)=>{const o=t.length,u=new Array(o);let f=0;for(let h=0;h<o;h++){const m=h;e(t[m]).next(g=>{u[m]=g,++f,f===o&&i(u)},g=>s(g))}})}static doWhile(t,e){return new Y((i,s)=>{const o=()=>{t()===!0?e().next(()=>{o()},s):i()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi="SimpleDb";class Ep{static open(t,e,i,s){try{return new Ep(e,t.transaction(s,i))}catch(o){throw new uf(e,o)}}constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.m=new os,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{e.error?this.m.reject(new uf(t,e.error)):this.m.resolve()},this.transaction.onerror=i=>{const s=ib(i.target.error);this.m.reject(new uf(t,s))}}get p(){return this.m.promise}abort(t){t&&this.m.reject(t),this.aborted||(at(oi,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}S(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const e=this.transaction.objectStore(t);return new n9(e)}}class ga{static delete(t){return at(oi,"Removing database:",t),vo(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!LC())return!1;if(ga.v())return!0;const t=nn(),e=ga.C(t),i=0<e&&e<10,s=t2(t),o=0<s&&s<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static v(){var t;return typeof process<"u"&&((t=process.__PRIVATE_env)===null||t===void 0?void 0:t.F)==="YES"}static M(t,e){return t.store(e)}static C(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}constructor(t,e,i){this.name=t,this.version=e,this.O=i,ga.C(nn())===12.2&&qn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async N(t){return this.db||(at(oi,"Opening database:",this.name),this.db=await new Promise((e,i)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=o=>{const u=o.target.result;e(u)},s.onblocked=()=>{i(new uf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const u=o.target.error;u.name==="VersionError"?i(new gt(it.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?i(new gt(it.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):i(new uf(t,u))},s.onupgradeneeded=o=>{at(oi,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const u=o.target.result;this.O.B(u,s.transaction,o.oldVersion,this.version).next(()=>{at(oi,"Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=e=>this.L(e)),this.db}k(t){this.L=t,this.db&&(this.db.onversionchange=e=>t(e))}async runTransaction(t,e,i,s){const o=e==="readonly";let u=0;for(;;){++u;try{this.db=await this.N(t);const f=Ep.open(this.db,t,o?"readonly":"readwrite",i),h=s(f).next(m=>(f.S(),m)).catch(m=>(f.abort(m),Y.reject(m))).toPromise();return h.catch(()=>{}),await f.p,h}catch(f){const h=f,m=h.name!=="FirebaseError"&&u<3;if(at(oi,"Transaction failed with error:",h.message,"Retrying:",m),this.close(),!m)return Promise.reject(h)}}}close(){this.db&&this.db.close(),this.db=void 0}}function t2(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}class e9{constructor(t){this.q=t,this.$=!1,this.K=null}get isDone(){return this.$}get U(){return this.K}set cursor(t){this.q=t}done(){this.$=!0}W(t){this.K=t}delete(){return vo(this.q.delete())}}class uf extends gt{constructor(t,e){super(it.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Na(n){return n.name==="IndexedDbTransactionError"}class n9{constructor(t){this.store=t}put(t,e){let i;return e!==void 0?(at(oi,"PUT",this.store.name,t,e),i=this.store.put(e,t)):(at(oi,"PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),vo(i)}add(t){return at(oi,"ADD",this.store.name,t,t),vo(this.store.add(t))}get(t){return vo(this.store.get(t)).next(e=>(e===void 0&&(e=null),at(oi,"GET",this.store.name,t,e),e))}delete(t){return at(oi,"DELETE",this.store.name,t),vo(this.store.delete(t))}count(){return at(oi,"COUNT",this.store.name),vo(this.store.count())}G(t,e){const i=this.options(t,e),s=i.index?this.store.index(i.index):this.store;if(typeof s.getAll=="function"){const o=s.getAll(i.range);return new Y((u,f)=>{o.onerror=h=>{f(h.target.error)},o.onsuccess=h=>{u(h.target.result)}})}{const o=this.cursor(i),u=[];return this.j(o,(f,h)=>{u.push(h)}).next(()=>u)}}H(t,e){const i=this.store.getAll(t,e===null?void 0:e);return new Y((s,o)=>{i.onerror=u=>{o(u.target.error)},i.onsuccess=u=>{s(u.target.result)}})}J(t,e){at(oi,"DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const s=this.cursor(i);return this.j(s,(o,u,f)=>f.delete())}Z(t,e){let i;e?i=t:(i={},e=t);const s=this.cursor(i);return this.j(s,e)}X(t){const e=this.cursor({});return new Y((i,s)=>{e.onerror=o=>{const u=ib(o.target.error);s(u)},e.onsuccess=o=>{const u=o.target.result;u?t(u.primaryKey,u.value).next(f=>{f?u.continue():i()}):i()}})}j(t,e){const i=[];return new Y((s,o)=>{t.onerror=u=>{o(u.target.error)},t.onsuccess=u=>{const f=u.target.result;if(!f)return void s();const h=new e9(f),m=e(f.primaryKey,f.value,h);if(m instanceof Y){const g=m.catch(v=>(h.done(),Y.reject(v)));i.push(g)}h.isDone?s():h.U===null?f.continue():f.continue(h.U)}}).next(()=>Y.waitFor(i))}options(t,e){let i;return t!==void 0&&(typeof t=="string"?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function vo(n){return new Y((t,e)=>{n.onsuccess=i=>{const s=i.target.result;t(s)},n.onerror=i=>{const s=ib(i.target.error);e(s)}})}let y1=!1;function ib(n){const t=ga.C(nn());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new gt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return y1||(y1=!0,setTimeout(()=>{throw i},0)),i}}return n}const cf="IndexBackfiller";class i9{constructor(t,e){this.asyncQueue=t,this.ee=e,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}te(t){at(cf,`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,async()=>{this.task=null;try{const e=await this.ee.ne();at(cf,`Documents written: ${e}`)}catch(e){Na(e)?at(cf,"Ignoring IndexedDB error during index backfill: ",e):await qo(e)}await this.te(6e4)})}}class r9{constructor(t,e){this.localStore=t,this.persistence=e}async ne(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",e=>this.re(e,t))}re(t,e){const i=new Set;let s=e,o=!0;return Y.doWhile(()=>o===!0&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(u=>{if(u!==null&&!i.has(u))return at(cf,`Processing collection: ${u}`),this.ie(t,u,s).next(f=>{s-=f,i.add(u)});o=!1})).next(()=>e-s)}ie(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(s=>this.localStore.localDocuments.getNextDocuments(t,e,s,i).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next(()=>this.se(s,o)).next(f=>(at(cf,`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(t,e,f))).next(()=>u.size)}))}se(t,e){let i=t;return e.changes.forEach((s,o)=>{const u=WC(o);nb(u,i)>0&&(i=u)}),new fi(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.oe(i),this._e=i=>e.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Oi.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=-1;function wp(n){return n==null}function Mf(n){return n===0&&1/n==-1/0}function s9(n){return typeof n=="number"&&Number.isInteger(n)&&!Mf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="";function Vn(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=v1(t)),t=a9(n.get(e),t);return v1(t)}function a9(n,t){let e=t;const i=n.length;for(let s=0;s<i;s++){const o=n.charAt(s);switch(o){case"\0":e+="";break;case Om:e+="";break;default:e+=o}}return e}function v1(n){return n+Om+""}function gr(n){const t=n.length;if(Tt(t>=2),t===2)return Tt(n.charAt(0)===Om&&n.charAt(1)===""),ne.emptyPath();const e=t-2,i=[];let s="";for(let o=0;o<t;){const u=n.indexOf(Om,o);switch((u<0||u>e)&&vt(),n.charAt(u+1)){case"":const f=n.substring(o,u);let h;s.length===0?h=f:(s+=f,h=s,s=""),i.push(h);break;case"":s+=n.substring(o,u),s+="\0";break;case"":s+=n.substring(o,u+1);break;default:vt()}o=u+2}return new ne(i)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo="remoteDocuments",rh="owner",Ol="owner",Vf="mutationQueues",o9="userId",Hi="mutations",_1="batchId",wo="userMutationsIndex",b1=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(n,t){return[n,Vn(t)]}function e2(n,t,e){return[n,Vn(t),e]}const l9={},cu="documentMutations",Mm="remoteDocumentsV14",u9=["prefixPath","collectionGroup","readTime","documentId"],lm="documentKeyIndex",c9=["prefixPath","collectionGroup","documentId"],n2="collectionGroupIndex",f9=["collectionGroup","readTime","prefixPath","documentId"],kf="remoteDocumentGlobal",v0="remoteDocumentGlobalKey",fu="targets",i2="queryTargetsIndex",h9=["canonicalId","targetId"],hu="targetDocuments",d9=["targetId","path"],rb="documentTargetsIndex",m9=["path","targetId"],Vm="targetGlobalKey",Ro="targetGlobal",Lf="collectionParents",p9=["collectionId","parent"],du="clientMetadata",g9="clientId",Sp="bundles",y9="bundleId",Ap="namedQueries",v9="name",sb="indexConfiguration",_9="indexId",_0="collectionGroupIndex",b9="collectionGroup",km="indexState",T9=["indexId","uid"],r2="sequenceNumberIndex",E9=["uid","sequenceNumber"],Lm="indexEntries",w9=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],s2="documentKeyIndex",S9=["indexId","uid","orderedDocumentKey"],xp="documentOverlays",A9=["userId","collectionPath","documentId"],b0="collectionPathOverlayIndex",x9=["userId","collectionPath","largestBatchId"],a2="collectionGroupOverlayIndex",R9=["userId","collectionGroup","largestBatchId"],ab="globals",I9="name",o2=[Vf,Hi,cu,yo,fu,rh,Ro,hu,du,kf,Lf,Sp,Ap],C9=[...o2,xp],l2=[Vf,Hi,cu,Mm,fu,rh,Ro,hu,du,kf,Lf,Sp,Ap,xp],u2=l2,ob=[...u2,sb,km,Lm],D9=ob,P9=[...ob,ab];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0 extends JC{constructor(t,e){super(),this.ue=t,this.currentSequenceNumber=e}}function rn(n,t){const e=Dt(n);return ga.M(e.ue,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Oa(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function c2(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t,e){this.comparator=t,this.root=e||Sn.EMPTY}insert(t,e){return new be(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Sn.BLACK,null,null))}remove(t){return new be(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Sn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return e+i.left.size;s<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new zd(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new zd(this.root,t,this.comparator,!1)}getReverseIterator(){return new zd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new zd(this.root,t,this.comparator,!0)}}class zd{constructor(t,e,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&s&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Sn{constructor(t,e,i,s,o){this.key=t,this.value=e,this.color=i??Sn.RED,this.left=s??Sn.EMPTY,this.right=o??Sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,s,o){return new Sn(t??this.key,e??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,e,i),null):o===0?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Sn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),e(t,s.key)===0){if(s.right.isEmpty())return Sn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw vt();const t=this.left.check();if(t!==this.right.check())throw vt();return t+(this.isRed()?0:1)}}Sn.EMPTY=null,Sn.RED=!0,Sn.BLACK=!1;Sn.EMPTY=new class{constructor(){this.size=0}get key(){throw vt()}get value(){throw vt()}get color(){throw vt()}get left(){throw vt()}get right(){throw vt()}copy(t,e,i,s,o){return this}insert(t,e,i){return new Sn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t){this.comparator=t,this.data=new be(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new E1(this.data.getIterator())}getIteratorFrom(t){return new E1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof ie)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new ie(this.comparator);return e.data=t,e}}class E1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ml(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(t){this.fields=t,t.sort(Ae.comparator)}static empty(){return new Mi([])}unionWith(t){let e=new ie(Ae.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Mi(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return uu(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new f2("Invalid base64 string: "+o):o}}(t);return new He(e)}static fromUint8Array(t){const e=function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o}(t);return new He(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let s=0;s<e.length;s++)i[s]=e.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}He.EMPTY_BYTE_STRING=new He("");const N9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(n){if(Tt(!!n),typeof n=="string"){let t=0;const e=N9.exec(n);if(Tt(!!e),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:_e(n.seconds),nanos:_e(n.nanos)}}function _e(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function fs(n){return typeof n=="string"?He.fromBase64String(n):He.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="server_timestamp",d2="__type__",m2="__previous_value__",p2="__local_write_time__";function lb(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[d2])===null||e===void 0?void 0:e.stringValue)===h2}function Rp(n){const t=n.mapValue.fields[m2];return lb(t)?Rp(t):t}function jf(n){const t=cs(n.mapValue.fields[p2].timestampValue);return new Re(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(t,e,i,s,o,u,f,h,m){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=m}}const jm="(default)";class No{constructor(t,e){this.projectId=t,this.database=e||jm}static empty(){return new No("","")}get isDefaultDatabase(){return this.database===jm}isEqual(t){return t instanceof No&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="__type__",g2="__max__",fa={mapValue:{fields:{__type__:{stringValue:g2}}}},cb="__vector__",mu="value",um={nullValue:"NULL_VALUE"};function Ea(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?lb(n)?4:y2(n)?9007199254740991:Ip(n)?10:11:vt()}function Ar(n,t){if(n===t)return!0;const e=Ea(n);if(e!==Ea(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return jf(n).isEqual(jf(t));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=cs(s.timestampValue),f=cs(o.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(s,o){return fs(s.bytesValue).isEqual(fs(o.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(s,o){return _e(s.geoPointValue.latitude)===_e(o.geoPointValue.latitude)&&_e(s.geoPointValue.longitude)===_e(o.geoPointValue.longitude)}(n,t);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return _e(s.integerValue)===_e(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=_e(s.doubleValue),f=_e(o.doubleValue);return u===f?Mf(u)===Mf(f):isNaN(u)&&isNaN(f)}return!1}(n,t);case 9:return uu(n.arrayValue.values||[],t.arrayValue.values||[],Ar);case 10:case 11:return function(s,o){const u=s.mapValue.fields||{},f=o.mapValue.fields||{};if(T1(u)!==T1(f))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(f[h]===void 0||!Ar(u[h],f[h])))return!1;return!0}(n,t);default:return vt()}}function Uf(n,t){return(n.values||[]).find(e=>Ar(e,t))!==void 0}function wa(n,t){if(n===t)return 0;const e=Ea(n),i=Ea(t);if(e!==i)return Ot(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ot(n.booleanValue,t.booleanValue);case 2:return function(o,u){const f=_e(o.integerValue||o.doubleValue),h=_e(u.integerValue||u.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1}(n,t);case 3:return w1(n.timestampValue,t.timestampValue);case 4:return w1(jf(n),jf(t));case 5:return Ot(n.stringValue,t.stringValue);case 6:return function(o,u){const f=fs(o),h=fs(u);return f.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(o,u){const f=o.split("/"),h=u.split("/");for(let m=0;m<f.length&&m<h.length;m++){const g=Ot(f[m],h[m]);if(g!==0)return g}return Ot(f.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,u){const f=Ot(_e(o.latitude),_e(u.latitude));return f!==0?f:Ot(_e(o.longitude),_e(u.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return S1(n.arrayValue,t.arrayValue);case 10:return function(o,u){var f,h,m,g;const v=o.fields||{},b=u.fields||{},w=(f=v[mu])===null||f===void 0?void 0:f.arrayValue,x=(h=b[mu])===null||h===void 0?void 0:h.arrayValue,N=Ot(((m=w==null?void 0:w.values)===null||m===void 0?void 0:m.length)||0,((g=x==null?void 0:x.values)===null||g===void 0?void 0:g.length)||0);return N!==0?N:S1(w,x)}(n.mapValue,t.mapValue);case 11:return function(o,u){if(o===fa.mapValue&&u===fa.mapValue)return 0;if(o===fa.mapValue)return 1;if(u===fa.mapValue)return-1;const f=o.fields||{},h=Object.keys(f),m=u.fields||{},g=Object.keys(m);h.sort(),g.sort();for(let v=0;v<h.length&&v<g.length;++v){const b=Ot(h[v],g[v]);if(b!==0)return b;const w=wa(f[h[v]],m[g[v]]);if(w!==0)return w}return Ot(h.length,g.length)}(n.mapValue,t.mapValue);default:throw vt()}}function w1(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Ot(n,t);const e=cs(n),i=cs(t),s=Ot(e.seconds,i.seconds);return s!==0?s:Ot(e.nanos,i.nanos)}function S1(n,t){const e=n.values||[],i=t.values||[];for(let s=0;s<e.length&&s<i.length;++s){const o=wa(e[s],i[s]);if(o)return o}return Ot(e.length,i.length)}function pu(n){return E0(n)}function E0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=cs(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return fs(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return mt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",s=!0;for(const o of e.values||[])s?s=!1:i+=",",i+=E0(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let s="{",o=!0;for(const u of i)o?o=!1:s+=",",s+=`${u}:${E0(e.fields[u])}`;return s+"}"}(n.mapValue):vt()}function cm(n){switch(Ea(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Rp(n);return t?16+cm(t):16;case 5:return 2*n.stringValue.length;case 6:return fs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,o)=>s+cm(o),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return Oa(i.fields,(o,u)=>{s+=o.length+cm(u)}),s}(n.mapValue);default:throw vt()}}function fb(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function w0(n){return!!n&&"integerValue"in n}function Bf(n){return!!n&&"arrayValue"in n}function A1(n){return!!n&&"nullValue"in n}function x1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function fm(n){return!!n&&"mapValue"in n}function Ip(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[ub])===null||e===void 0?void 0:e.stringValue)===cb}function ff(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Oa(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=ff(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=ff(n.arrayValue.values[e]);return t}return Object.assign({},n)}function y2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===g2}const v2={mapValue:{fields:{[ub]:{stringValue:cb},[mu]:{arrayValue:{}}}}};function M9(n){return"nullValue"in n?um:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?fb(No.empty(),mt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Ip(n)?v2:{mapValue:{}}:vt()}function V9(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?fb(No.empty(),mt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?v2:"mapValue"in n?Ip(n)?{mapValue:{}}:fa:vt()}function R1(n,t){const e=wa(n.value,t.value);return e!==0?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function I1(n,t){const e=wa(n.value,t.value);return e!==0?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t){this.value=t}static empty(){return new Hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!fm(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ff(e)}setAll(t){let e=Ae.emptyPath(),i={},s=[];t.forEach((u,f)=>{if(!e.isImmediateParentOf(f)){const h=this.getFieldsMap(e);this.applyChanges(h,i,s),i={},s=[],e=f.popLast()}u?i[f.lastSegment()]=ff(u):s.push(f.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,s)}delete(t){const e=this.field(t.popLast());fm(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ar(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=e.mapValue.fields[t.get(i)];fm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,i){Oa(e,(s,o)=>t[s]=o);for(const s of i)delete t[s]}clone(){return new Hn(ff(this.value))}}function _2(n){const t=[];return Oa(n.fields,(e,i)=>{const s=new Ae([e]);if(fm(i)){const o=_2(i.mapValue).fields;if(o.length===0)t.push(s);else for(const u of o)t.push(s.child(u))}else t.push(s)}),new Mi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(t,e,i,s,o,u,f){this.key=t,this.documentType=e,this.version=i,this.readTime=s,this.createTime=o,this.data=u,this.documentState=f}static newInvalidDocument(t){return new Me(t,0,At.min(),At.min(),At.min(),Hn.empty(),0)}static newFoundDocument(t,e,i,s){return new Me(t,1,e,At.min(),i,s,0)}static newNoDocument(t,e){return new Me(t,2,e,At.min(),At.min(),Hn.empty(),0)}static newUnknownDocument(t,e){return new Me(t,3,e,At.min(),At.min(),Hn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Me&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Me(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(t,e){this.position=t,this.inclusive=e}}function C1(n,t,e){let i=0;for(let s=0;s<n.position.length;s++){const o=t[s],u=n.position[s];if(o.field.isKeyField()?i=mt.comparator(mt.fromName(u.referenceValue),e.key):i=wa(u,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function D1(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ar(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t,e="asc"){this.field=t,this.dir=e}}function k9(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b2=class{};class Ht extends b2{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new L9(t,e,i):e==="array-contains"?new B9(t,i):e==="in"?new x2(t,i):e==="not-in"?new z9(t,i):e==="array-contains-any"?new F9(t,i):new Ht(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new j9(t,i):new U9(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&this.matchesComparison(wa(e,this.value)):e!==null&&Ea(this.value)===Ea(e)&&this.matchesComparison(wa(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ae extends b2{constructor(t,e){super(),this.filters=t,this.op=e,this.ce=null}static create(t,e){return new ae(t,e)}matches(t){return yu(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function yu(n){return n.op==="and"}function S0(n){return n.op==="or"}function hb(n){return T2(n)&&yu(n)}function T2(n){for(const t of n.filters)if(t instanceof ae)return!1;return!0}function A0(n){if(n instanceof Ht)return n.field.canonicalString()+n.op.toString()+pu(n.value);if(hb(n))return n.filters.map(t=>A0(t)).join(",");{const t=n.filters.map(e=>A0(e)).join(",");return`${n.op}(${t})`}}function E2(n,t){return n instanceof Ht?function(i,s){return s instanceof Ht&&i.op===s.op&&i.field.isEqual(s.field)&&Ar(i.value,s.value)}(n,t):n instanceof ae?function(i,s){return s instanceof ae&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((o,u,f)=>o&&E2(u,s.filters[f]),!0):!1}(n,t):void vt()}function w2(n,t){const e=n.filters.concat(t);return ae.create(e,n.op)}function S2(n){return n instanceof Ht?function(e){return`${e.field.canonicalString()} ${e.op} ${pu(e.value)}`}(n):n instanceof ae?function(e){return e.op.toString()+" {"+e.getFilters().map(S2).join(" ,")+"}"}(n):"Filter"}class L9 extends Ht{constructor(t,e,i){super(t,e,i),this.key=mt.fromName(i.referenceValue)}matches(t){const e=mt.comparator(t.key,this.key);return this.matchesComparison(e)}}class j9 extends Ht{constructor(t,e){super(t,"in",e),this.keys=A2("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class U9 extends Ht{constructor(t,e){super(t,"not-in",e),this.keys=A2("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function A2(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>mt.fromName(i.referenceValue))}class B9 extends Ht{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Bf(e)&&Uf(e.arrayValue,this.value)}}class x2 extends Ht{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Uf(this.value.arrayValue,e)}}class z9 extends Ht{constructor(t,e){super(t,"not-in",e)}matches(t){if(Uf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&!Uf(this.value.arrayValue,e)}}class F9 extends Ht{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Bf(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Uf(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(t,e=null,i=[],s=[],o=null,u=null,f=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=u,this.endAt=f,this.le=null}}function x0(n,t=null,e=[],i=[],s=null,o=null,u=null){return new q9(n,t,e,i,s,o,u)}function Oo(n){const t=Dt(n);if(t.le===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>A0(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),wp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>pu(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>pu(i)).join(",")),t.le=e}return t.le}function sh(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!k9(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!E2(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!D1(n.startAt,t.startAt)&&D1(n.endAt,t.endAt)}function Bm(n){return mt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function zm(n,t){return n.filters.filter(e=>e instanceof Ht&&e.field.isEqual(t))}function P1(n,t,e){let i=um,s=!0;for(const o of zm(n,t)){let u=um,f=!0;switch(o.op){case"<":case"<=":u=M9(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,f=!1;break;case"!=":case"not-in":u=um}R1({value:i,inclusive:s},{value:u,inclusive:f})<0&&(i=u,s=f)}if(e!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const u=e.position[o];R1({value:i,inclusive:s},{value:u,inclusive:e.inclusive})<0&&(i=u,s=e.inclusive);break}}return{value:i,inclusive:s}}function N1(n,t,e){let i=fa,s=!0;for(const o of zm(n,t)){let u=fa,f=!0;switch(o.op){case">=":case">":u=V9(o.value),f=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,f=!1;break;case"!=":case"not-in":u=fa}I1({value:i,inclusive:s},{value:u,inclusive:f})>0&&(i=u,s=f)}if(e!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const u=e.position[o];I1({value:i,inclusive:s},{value:u,inclusive:e.inclusive})>0&&(i=u,s=e.inclusive);break}}return{value:i,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(t,e=null,i=[],s=[],o=null,u="F",f=null,h=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=u,this.startAt=f,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function H9(n,t,e,i,s,o,u,f){return new Cp(n,t,e,i,s,o,u,f)}function db(n){return new Cp(n)}function O1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function G9(n){return n.collectionGroup!==null}function hf(n){const t=Dt(n);if(t.he===null){t.he=[];const e=new Set;for(const o of t.explicitOrderBy)t.he.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new ie(Ae.comparator);return u.filters.forEach(h=>{h.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.he.push(new Um(o,i))}),e.has(Ae.keyField().canonicalString())||t.he.push(new Um(Ae.keyField(),i))}return t.he}function Vi(n){const t=Dt(n);return t.Pe||(t.Pe=K9(t,hf(n))),t.Pe}function K9(n,t){if(n.limitType==="F")return x0(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Um(s.field,o)});const e=n.endAt?new gu(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new gu(n.startAt.position,n.startAt.inclusive):null;return x0(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function R0(n,t,e){return new Cp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Dp(n,t){return sh(Vi(n),Vi(t))&&n.limitType===t.limitType}function R2(n){return`${Oo(Vi(n))}|lt:${n.limitType}`}function Bl(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(s=>S2(s)).join(", ")}]`),wp(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>pu(s)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>pu(s)).join(",")),`Target(${i})`}(Vi(n))}; limitType=${n.limitType})`}function ah(n,t){return t.isFoundDocument()&&function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):mt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,s){for(const o of hf(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(n,t)&&function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0}(n,t)&&function(i,s){return!(i.startAt&&!function(u,f,h){const m=C1(u,f,h);return u.inclusive?m<=0:m<0}(i.startAt,hf(i),s)||i.endAt&&!function(u,f,h){const m=C1(u,f,h);return u.inclusive?m>=0:m>0}(i.endAt,hf(i),s))}(n,t)}function $9(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function I2(n){return(t,e)=>{let i=!1;for(const s of hf(n)){const o=Y9(s,t,e);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function Y9(n,t,e){const i=n.field.isKeyField()?mt.comparator(t.key,e.key):function(o,u,f){const h=u.data.field(o),m=f.data.field(o);return h!==null&&m!==null?wa(h,m):vt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return vt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return void(s[o]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[e]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Oa(this.inner,(e,i)=>{for(const[s,o]of i)t(s,o)})}isEmpty(){return c2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9=new be(mt.comparator);function li(){return Q9}const C2=new be(mt.comparator);function Jc(...n){let t=C2;for(const e of n)t=t.insert(e.key,e);return t}function D2(n){let t=C2;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function yr(){return df()}function P2(){return df()}function df(){return new ys(n=>n.toString(),(n,t)=>n.isEqual(t))}const X9=new be(mt.comparator),W9=new ie(mt.comparator);function jt(...n){let t=W9;for(const e of n)t=t.add(e);return t}const Z9=new ie(Ot);function J9(){return Z9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mf(t)?"-0":t}}function N2(n){return{integerValue:""+n}}function tj(n,t){return s9(t)?N2(t):mb(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(){this._=void 0}}function ej(n,t,e){return n instanceof zf?function(s,o){const u={fields:{[d2]:{stringValue:h2},[p2]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&lb(o)&&(o=Rp(o)),o&&(u.fields[m2]=o),{mapValue:u}}(e,t):n instanceof vu?M2(n,t):n instanceof _u?V2(n,t):function(s,o){const u=O2(s,o),f=M1(u)+M1(s.Ie);return w0(u)&&w0(s.Ie)?N2(f):mb(s.serializer,f)}(n,t)}function nj(n,t,e){return n instanceof vu?M2(n,t):n instanceof _u?V2(n,t):e}function O2(n,t){return n instanceof Ff?function(i){return w0(i)||function(o){return!!o&&"doubleValue"in o}(i)}(t)?t:{integerValue:0}:null}class zf extends Pp{}class vu extends Pp{constructor(t){super(),this.elements=t}}function M2(n,t){const e=k2(t);for(const i of n.elements)e.some(s=>Ar(s,i))||e.push(i);return{arrayValue:{values:e}}}class _u extends Pp{constructor(t){super(),this.elements=t}}function V2(n,t){let e=k2(t);for(const i of n.elements)e=e.filter(s=>!Ar(s,i));return{arrayValue:{values:e}}}class Ff extends Pp{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function M1(n){return _e(n.integerValue||n.doubleValue)}function k2(n){return Bf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(t,e){this.field=t,this.transform=e}}function rj(n,t){return n.field.isEqual(t.field)&&function(i,s){return i instanceof vu&&s instanceof vu||i instanceof _u&&s instanceof _u?uu(i.elements,s.elements,Ar):i instanceof Ff&&s instanceof Ff?Ar(i.Ie,s.Ie):i instanceof zf&&s instanceof zf}(n.transform,t.transform)}class sj{constructor(t,e){this.version=t,this.transformResults=e}}class ui{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ui}static exists(t){return new ui(void 0,t)}static updateTime(t){return new ui(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function hm(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Np{}function L2(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new pb(n.key,ui.none()):new oh(n.key,n.data,ui.none());{const e=n.data,i=Hn.empty();let s=new ie(Ae.comparator);for(let o of t.fields)if(!s.has(o)){let u=e.field(o);u===null&&o.length>1&&(o=o.popLast(),u=e.field(o)),u===null?i.delete(o):i.set(o,u),s=s.add(o)}return new Ma(n.key,i,new Mi(s.toArray()),ui.none())}}function aj(n,t,e){n instanceof oh?function(s,o,u){const f=s.value.clone(),h=k1(s.fieldTransforms,o,u.transformResults);f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,t,e):n instanceof Ma?function(s,o,u){if(!hm(s.precondition,o))return void o.convertToUnknownDocument(u.version);const f=k1(s.fieldTransforms,o,u.transformResults),h=o.data;h.setAll(j2(s)),h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,t,e):function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,t,e)}function mf(n,t,e,i){return n instanceof oh?function(o,u,f,h){if(!hm(o.precondition,u))return f;const m=o.value.clone(),g=L1(o.fieldTransforms,h,u);return m.setAll(g),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,t,e,i):n instanceof Ma?function(o,u,f,h){if(!hm(o.precondition,u))return f;const m=L1(o.fieldTransforms,h,u),g=u.data;return g.setAll(j2(o)),g.setAll(m),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),f===null?null:f.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,t,e,i):function(o,u,f){return hm(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(n,t,e)}function oj(n,t){let e=null;for(const i of n.fieldTransforms){const s=t.data.field(i.field),o=O2(i.transform,s||null);o!=null&&(e===null&&(e=Hn.empty()),e.set(i.field,o))}return e||null}function V1(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&uu(i,s,(o,u)=>rj(o,u))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class oh extends Np{constructor(t,e,i,s=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ma extends Np{constructor(t,e,i,s,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function j2(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function k1(n,t,e){const i=new Map;Tt(n.length===e.length);for(let s=0;s<e.length;s++){const o=n[s],u=o.transform,f=t.data.field(o.field);i.set(o.field,nj(u,f,e[s]))}return i}function L1(n,t,e){const i=new Map;for(const s of n){const o=s.transform,u=e.data.field(s.field);i.set(s.field,ej(o,u,t))}return i}class pb extends Np{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class U2 extends Np{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(t,e,i,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(t.key)&&aj(o,t,i[s])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=mf(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=mf(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=P2();return this.mutations.forEach(s=>{const o=t.get(s.key),u=o.overlayedDocument;let f=this.applyToLocalView(u,o.mutatedFields);f=e.has(s.key)?null:f;const h=L2(u,f);h!==null&&i.set(s.key,h),u.isValidDocument()||u.convertToNoDocument(At.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),jt())}isEqual(t){return this.batchId===t.batchId&&uu(this.mutations,t.mutations,(e,i)=>V1(e,i))&&uu(this.baseMutations,t.baseMutations,(e,i)=>V1(e,i))}}class yb{constructor(t,e,i,s){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=s}static from(t,e,i){Tt(t.mutations.length===i.length);let s=function(){return X9}();const o=t.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,i[u].version);return new yb(t,e,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe,Yt;function uj(n){switch(n){case it.OK:return vt();case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return vt()}}function B2(n){if(n===void 0)return qn("GRPC error has no .code"),it.UNKNOWN;switch(n){case qe.OK:return it.OK;case qe.CANCELLED:return it.CANCELLED;case qe.UNKNOWN:return it.UNKNOWN;case qe.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case qe.INTERNAL:return it.INTERNAL;case qe.UNAVAILABLE:return it.UNAVAILABLE;case qe.UNAUTHENTICATED:return it.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case qe.NOT_FOUND:return it.NOT_FOUND;case qe.ALREADY_EXISTS:return it.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return it.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case qe.ABORTED:return it.ABORTED;case qe.OUT_OF_RANGE:return it.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return it.UNIMPLEMENTED;case qe.DATA_LOSS:return it.DATA_LOSS;default:return vt()}}(Yt=qe||(qe={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj=new pa([4294967295,4294967295],0);function j1(n){const t=cj().encode(n),e=new qC;return e.update(t),new Uint8Array(e.digest())}function U1(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new pa([e,i],0),new pa([s,o],0)]}class _b{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new tf(`Invalid padding: ${e}`);if(i<0)throw new tf(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new tf(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new tf(`Invalid padding when bitmap length is 0: ${e}`);this.Ee=8*t.length-e,this.de=pa.fromNumber(this.Ee)}Ae(t,e,i){let s=t.add(e.multiply(pa.fromNumber(i)));return s.compare(fj)===1&&(s=new pa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const e=j1(t),[i,s]=U1(e);for(let o=0;o<this.hashCount;o++){const u=this.Ae(i,s,o);if(!this.Re(u))return!1}return!0}static create(t,e,i){const s=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),u=new _b(o,s,e);return i.forEach(f=>u.insert(f)),u}insert(t){if(this.Ee===0)return;const e=j1(t),[i,s]=U1(e);for(let o=0;o<this.hashCount;o++){const u=this.Ae(i,s,o);this.Ve(u)}}Ve(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class tf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(t,e,i,s,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const s=new Map;return s.set(t,lh.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Op(At.min(),s,new be(Ot),li(),jt())}}class lh{constructor(t,e,i,s,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new lh(i,e,jt(),jt(),jt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(t,e,i,s){this.me=t,this.removedTargetIds=e,this.key=i,this.fe=s}}class z2{constructor(t,e){this.targetId=t,this.ge=e}}class F2{constructor(t,e,i=He.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=s}}class B1{constructor(){this.pe=0,this.ye=z1(),this.we=He.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=jt(),e=jt(),i=jt();return this.ye.forEach((s,o)=>{switch(o){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:i=i.add(s);break;default:vt()}}),new lh(this.we,this.Se,t,e,i)}Me(){this.be=!1,this.ye=z1()}xe(t,e){this.be=!0,this.ye=this.ye.insert(t,e)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Tt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class hj{constructor(t){this.ke=t,this.qe=new Map,this.Qe=li(),this.$e=Fd(),this.Ke=Fd(),this.Ue=new be(Ot)}We(t){for(const e of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(e,t.fe):this.ze(e,t.key,t.fe);for(const e of t.removedTargetIds)this.ze(e,t.key,t.fe)}je(t){this.forEachTarget(t,e=>{const i=this.He(e);switch(t.state){case 0:this.Je(e)&&i.Ce(t.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(t.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(e);break;case 3:this.Je(e)&&(i.Le(),i.Ce(t.resumeToken));break;case 4:this.Je(e)&&(this.Ye(e),i.Ce(t.resumeToken));break;default:vt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.qe.forEach((i,s)=>{this.Je(s)&&e(s)})}Ze(t){const e=t.targetId,i=t.ge.count,s=this.Xe(e);if(s){const o=s.target;if(Bm(o))if(i===0){const u=new mt(o.path);this.ze(e,u,Me.newNoDocument(u,At.min()))}else Tt(i===1);else{const u=this.et(e);if(u!==i){const f=this.tt(t),h=f?this.nt(f,t,u):1;if(h!==0){this.Ye(e);const m=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(e,m)}}}}}tt(t){const e=t.ge.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=e;let u,f;try{u=fs(i).toUint8Array()}catch(h){if(h instanceof f2)return Pf("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new _b(u,s,o)}catch(h){return Pf(h instanceof tf?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.Ee===0?null:f}nt(t,e,i){return e.ge.count===i-this.st(t,e.targetId)?0:2}st(t,e){const i=this.ke.getRemoteKeysForTarget(e);let s=0;return i.forEach(o=>{const u=this.ke.it(),f=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;t.mightContain(f)||(this.ze(e,o,null),s++)}),s}ot(t){const e=new Map;this.qe.forEach((o,u)=>{const f=this.Xe(u);if(f){if(o.current&&Bm(f.target)){const h=new mt(f.target.path);this._t(h).has(u)||this.ut(u,h)||this.ze(u,h,Me.newNoDocument(h,t))}o.ve&&(e.set(u,o.Fe()),o.Me())}});let i=jt();this.Ke.forEach((o,u)=>{let f=!0;u.forEachWhile(h=>{const m=this.Xe(h);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(o))}),this.Qe.forEach((o,u)=>u.setReadTime(t));const s=new Op(t,e,this.Ue,this.Qe,i);return this.Qe=li(),this.$e=Fd(),this.Ke=Fd(),this.Ue=new be(Ot),s}Ge(t,e){if(!this.Je(t))return;const i=this.ut(t,e.key)?2:0;this.He(t).xe(e.key,i),this.Qe=this.Qe.insert(e.key,e),this.$e=this.$e.insert(e.key,this._t(e.key).add(t)),this.Ke=this.Ke.insert(e.key,this.ct(e.key).add(t))}ze(t,e,i){if(!this.Je(t))return;const s=this.He(t);this.ut(t,e)?s.xe(e,1):s.Oe(e),this.Ke=this.Ke.insert(e,this.ct(e).delete(t)),this.Ke=this.Ke.insert(e,this.ct(e).add(t)),i&&(this.Qe=this.Qe.insert(e,i))}removeTarget(t){this.qe.delete(t)}et(t){const e=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let e=this.qe.get(t);return e||(e=new B1,this.qe.set(t,e)),e}ct(t){let e=this.Ke.get(t);return e||(e=new ie(Ot),this.Ke=this.Ke.insert(t,e)),e}_t(t){let e=this.$e.get(t);return e||(e=new ie(Ot),this.$e=this.$e.insert(t,e)),e}Je(t){const e=this.Xe(t)!==null;return e||at("WatchChangeAggregator","Detected inactive target",t),e}Xe(t){const e=this.qe.get(t);return e&&e.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new B1),this.ke.getRemoteKeysForTarget(t).forEach(e=>{this.ze(t,e,null)})}ut(t,e){return this.ke.getRemoteKeysForTarget(t).has(e)}}function Fd(){return new be(mt.comparator)}function z1(){return new be(mt.comparator)}const dj={asc:"ASCENDING",desc:"DESCENDING"},mj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pj={and:"AND",or:"OR"};class gj{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function I0(n,t){return n.useProto3Json||wp(t)?t:{value:t}}function bu(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function q2(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function yj(n,t){return bu(n,t.toTimestamp())}function Kn(n){return Tt(!!n),At.fromTimestamp(function(e){const i=cs(e);return new Re(i.seconds,i.nanos)}(n))}function bb(n,t){return C0(n,t).canonicalString()}function C0(n,t){const e=function(s){return new ne(["projects",s.projectId,"databases",s.database])}(n).child("documents");return t===void 0?e:e.child(t)}function H2(n){const t=ne.fromString(n);return Tt(J2(t)),t}function Fm(n,t){return bb(n.databaseId,t.path)}function Io(n,t){const e=H2(t);if(e.get(1)!==n.databaseId.projectId)throw new gt(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new gt(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new mt($2(e))}function G2(n,t){return bb(n.databaseId,t)}function K2(n){const t=H2(n);return t.length===4?ne.emptyPath():$2(t)}function D0(n){return new ne(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $2(n){return Tt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function F1(n,t,e){return{name:Fm(n,t),fields:e.value.mapValue.fields}}function vj(n,t,e){const i=Io(n,t.name),s=Kn(t.updateTime),o=t.createTime?Kn(t.createTime):At.min(),u=new Hn({mapValue:{fields:t.fields}}),f=Me.newFoundDocument(i,s,o,u);return e&&f.setHasCommittedMutations(),e?f.setHasCommittedMutations():f}function _j(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:vt()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],o=function(m,g){return m.useProto3Json?(Tt(g===void 0||typeof g=="string"),He.fromBase64String(g||"")):(Tt(g===void 0||g instanceof Buffer||g instanceof Uint8Array),He.fromUint8Array(g||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,f=u&&function(m){const g=m.code===void 0?it.UNKNOWN:B2(m.code);return new gt(g,m.message||"")}(u);e=new F2(i,s,o,f||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=Io(n,i.document.name),o=Kn(i.document.updateTime),u=i.document.createTime?Kn(i.document.createTime):At.min(),f=new Hn({mapValue:{fields:i.document.fields}}),h=Me.newFoundDocument(s,o,u,f),m=i.targetIds||[],g=i.removedTargetIds||[];e=new dm(m,g,h.key,h)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=Io(n,i.document),o=i.readTime?Kn(i.readTime):At.min(),u=Me.newNoDocument(s,o),f=i.removedTargetIds||[];e=new dm([],f,u.key,u)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=Io(n,i.document),o=i.removedTargetIds||[];e=new dm([],o,s,null)}else{if(!("filter"in t))return vt();{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,u=new lj(s,o),f=i.targetId;e=new z2(f,u)}}return e}function qm(n,t){let e;if(t instanceof oh)e={update:F1(n,t.key,t.value)};else if(t instanceof pb)e={delete:Fm(n,t.key)};else if(t instanceof Ma)e={update:F1(n,t.key,t.data),updateMask:Aj(t.fieldMask)};else{if(!(t instanceof U2))return vt();e={verify:Fm(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,u){const f=u.transform;if(f instanceof zf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof vu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof _u)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Ff)return{fieldPath:u.field.canonicalString(),increment:f.Ie};throw vt()}(0,i))),t.precondition.isNone||(e.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:yj(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:vt()}(n,t.precondition)),e}function P0(n,t){const e=t.currentDocument?function(o){return o.updateTime!==void 0?ui.updateTime(Kn(o.updateTime)):o.exists!==void 0?ui.exists(o.exists):ui.none()}(t.currentDocument):ui.none(),i=t.updateTransforms?t.updateTransforms.map(s=>function(u,f){let h=null;if("setToServerValue"in f)Tt(f.setToServerValue==="REQUEST_TIME"),h=new zf;else if("appendMissingElements"in f){const g=f.appendMissingElements.values||[];h=new vu(g)}else if("removeAllFromArray"in f){const g=f.removeAllFromArray.values||[];h=new _u(g)}else"increment"in f?h=new Ff(u,f.increment):vt();const m=Ae.fromServerFormat(f.fieldPath);return new ij(m,h)}(n,s)):[];if(t.update){t.update.name;const s=Io(n,t.update.name),o=new Hn({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=function(h){const m=h.fieldPaths||[];return new Mi(m.map(g=>Ae.fromServerFormat(g)))}(t.updateMask);return new Ma(s,o,u,e,i)}return new oh(s,o,e,i)}if(t.delete){const s=Io(n,t.delete);return new pb(s,e)}if(t.verify){const s=Io(n,t.verify);return new U2(s,e)}return vt()}function bj(n,t){return n&&n.length>0?(Tt(t!==void 0),n.map(e=>function(s,o){let u=s.updateTime?Kn(s.updateTime):Kn(o);return u.isEqual(At.min())&&(u=Kn(o)),new sj(u,s.transformResults||[])}(e,t))):[]}function Y2(n,t){return{documents:[G2(n,t.path)]}}function Q2(n,t){const e={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=G2(n,s);const o=function(m){if(m.length!==0)return Z2(ae.create(m,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const u=function(m){if(m.length!==0)return m.map(g=>function(b){return{field:zl(b.field),direction:Ej(b.dir)}}(g))}(t.orderBy);u&&(e.structuredQuery.orderBy=u);const f=I0(n,t.limit);return f!==null&&(e.structuredQuery.limit=f),t.startAt&&(e.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(t.endAt)),{ht:e,parent:s}}function X2(n){let t=K2(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let s=null;if(i>0){Tt(i===1);const g=e.from[0];g.allDescendants?s=g.collectionId:t=t.child(g.collectionId)}let o=[];e.where&&(o=function(v){const b=W2(v);return b instanceof ae&&hb(b)?b.getFilters():[b]}(e.where));let u=[];e.orderBy&&(u=function(v){return v.map(b=>function(x){return new Um(Fl(x.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(b))}(e.orderBy));let f=null;e.limit&&(f=function(v){let b;return b=typeof v=="object"?v.value:v,wp(b)?null:b}(e.limit));let h=null;e.startAt&&(h=function(v){const b=!!v.before,w=v.values||[];return new gu(w,b)}(e.startAt));let m=null;return e.endAt&&(m=function(v){const b=!v.before,w=v.values||[];return new gu(w,b)}(e.endAt)),H9(t,s,u,o,f,"F",h,m)}function Tj(n,t){const e=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt()}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function W2(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Fl(e.unaryFilter.field);return Ht.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Fl(e.unaryFilter.field);return Ht.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Fl(e.unaryFilter.field);return Ht.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Fl(e.unaryFilter.field);return Ht.create(u,"!=",{nullValue:"NULL_VALUE"});default:return vt()}}(n):n.fieldFilter!==void 0?function(e){return Ht.create(Fl(e.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vt()}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return ae.create(e.compositeFilter.filters.map(i=>W2(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return vt()}}(e.compositeFilter.op))}(n):vt()}function Ej(n){return dj[n]}function wj(n){return mj[n]}function Sj(n){return pj[n]}function zl(n){return{fieldPath:n.canonicalString()}}function Fl(n){return Ae.fromServerFormat(n.fieldPath)}function Z2(n){return n instanceof Ht?function(e){if(e.op==="=="){if(x1(e.value))return{unaryFilter:{field:zl(e.field),op:"IS_NAN"}};if(A1(e.value))return{unaryFilter:{field:zl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(x1(e.value))return{unaryFilter:{field:zl(e.field),op:"IS_NOT_NAN"}};if(A1(e.value))return{unaryFilter:{field:zl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zl(e.field),op:wj(e.op),value:e.value}}}(n):n instanceof ae?function(e){const i=e.getFilters().map(s=>Z2(s));return i.length===1?i[0]:{compositeFilter:{op:Sj(e.op),filters:i}}}(n):vt()}function Aj(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function J2(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(t,e,i,s,o=At.min(),u=At.min(),f=He.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(t){return new ts(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(t){this.Tt=t}}function xj(n,t){let e;if(t.document)e=vj(n.Tt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=mt.fromSegments(t.noDocument.path),s=Vo(t.noDocument.readTime);e=Me.newNoDocument(i,s),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return vt();{const i=mt.fromSegments(t.unknownDocument.path),s=Vo(t.unknownDocument.version);e=Me.newUnknownDocument(i,s)}}return t.readTime&&e.setReadTime(function(s){const o=new Re(s[0],s[1]);return At.fromTimestamp(o)}(t.readTime)),e}function q1(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:Hm(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document=function(o,u){return{name:Fm(o,u.key),fields:u.data.value.mapValue.fields,updateTime:bu(o,u.version.toTimestamp()),createTime:bu(o,u.createTime.toTimestamp())}}(n.Tt,t);else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Mo(t.version)};else{if(!t.isUnknownDocument())return vt();i.unknownDocument={path:e.path.toArray(),version:Mo(t.version)}}return i}function Hm(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Mo(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Vo(n){const t=new Re(n.seconds,n.nanoseconds);return At.fromTimestamp(t)}function _o(n,t){const e=(t.baseMutations||[]).map(o=>P0(n.Tt,o));for(let o=0;o<t.mutations.length-1;++o){const u=t.mutations[o];if(o+1<t.mutations.length&&t.mutations[o+1].transform!==void 0){const f=t.mutations[o+1];u.updateTransforms=f.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const i=t.mutations.map(o=>P0(n.Tt,o)),s=Re.fromMillis(t.localWriteTimeMs);return new gb(t.batchId,s,e,i)}function ef(n){const t=Vo(n.readTime),e=n.lastLimboFreeSnapshotVersion!==void 0?Vo(n.lastLimboFreeSnapshotVersion):At.min();let i;return i=function(o){return o.documents!==void 0}(n.query)?function(o){return Tt(o.documents.length===1),Vi(db(K2(o.documents[0])))}(n.query):function(o){return Vi(X2(o))}(n.query),new ts(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,He.fromBase64String(n.resumeToken))}function eD(n,t){const e=Mo(t.snapshotVersion),i=Mo(t.lastLimboFreeSnapshotVersion);let s;s=Bm(t.target)?Y2(n.Tt,t.target):Q2(n.Tt,t.target).ht;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Oo(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:s}}function nD(n){const t=X2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?R0(t,t.limit,"L"):t}function Ev(n,t){return new vb(t.largestBatchId,P0(n.Tt,t.overlayMutation))}function H1(n,t){const e=t.path.lastSegment();return[n,Vn(t.path.popLast()),e]}function G1(n,t,e,i){return{indexId:n,uid:t,sequenceNumber:e,readTime:Mo(i.readTime),documentKey:Vn(i.documentKey.path),largestBatchId:i.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{getBundleMetadata(t,e){return K1(t).get(e).next(i=>{if(i)return function(o){return{id:o.bundleId,createTime:Vo(o.createTime),version:o.version}}(i)})}saveBundleMetadata(t,e){return K1(t).put(function(s){return{bundleId:s.id,createTime:Mo(Kn(s.createTime)),version:s.version}}(e))}getNamedQuery(t,e){return $1(t).get(e).next(i=>{if(i)return function(o){return{name:o.name,query:nD(o.bundledQuery),readTime:Vo(o.readTime)}}(i)})}saveNamedQuery(t,e){return $1(t).put(function(s){return{name:s.name,readTime:Mo(Kn(s.readTime)),bundledQuery:s.bundledQuery}}(e))}}function K1(n){return rn(n,Sp)}function $1(n){return rn(n,Ap)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(t,e){this.serializer=t,this.userId=e}static It(t,e){const i=e.uid||"";return new Mp(t,i)}getOverlay(t,e){return Fc(t).get(H1(this.userId,e)).next(i=>i?Ev(this.serializer,i):null)}getOverlays(t,e){const i=yr();return Y.forEach(e,s=>this.getOverlay(t,s).next(o=>{o!==null&&i.set(s,o)})).next(()=>i)}saveOverlays(t,e,i){const s=[];return i.forEach((o,u)=>{const f=new vb(e,u);s.push(this.Et(t,f))}),Y.waitFor(s)}removeOverlaysForBatchId(t,e,i){const s=new Set;e.forEach(u=>s.add(Vn(u.getCollectionPath())));const o=[];return s.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);o.push(Fc(t).J(b0,f))}),Y.waitFor(o)}getOverlaysForCollection(t,e,i){const s=yr(),o=Vn(e),u=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Fc(t).G(b0,u).next(f=>{for(const h of f){const m=Ev(this.serializer,h);s.set(m.getKey(),m)}return s})}getOverlaysForCollectionGroup(t,e,i,s){const o=yr();let u;const f=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Fc(t).Z({index:a2,range:f},(h,m,g)=>{const v=Ev(this.serializer,m);o.size()<s||v.largestBatchId===u?(o.set(v.getKey(),v),u=v.largestBatchId):g.done()}).next(()=>o)}Et(t,e){return Fc(t).put(function(s,o,u){const[f,h,m]=H1(o,u.mutation.key);return{userId:o,collectionPath:h,documentId:m,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:qm(s.Tt,u.mutation)}}(this.serializer,this.userId,e))}}function Fc(n){return rn(n,xp)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{dt(t){return rn(t,ab)}getSessionToken(t){return this.dt(t).get("sessionToken").next(e=>{const i=e==null?void 0:e.value;return i?He.fromUint8Array(i):He.EMPTY_BYTE_STRING})}setSessionToken(t,e){return this.dt(t).put({name:"sessionToken",value:e.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){}At(t,e){this.Rt(t,e),e.Vt()}Rt(t,e){if("nullValue"in t)this.ft(e,5);else if("booleanValue"in t)this.ft(e,10),e.gt(t.booleanValue?1:0);else if("integerValue"in t)this.ft(e,15),e.gt(_e(t.integerValue));else if("doubleValue"in t){const i=_e(t.doubleValue);isNaN(i)?this.ft(e,13):(this.ft(e,15),Mf(i)?e.gt(0):e.gt(i))}else if("timestampValue"in t){let i=t.timestampValue;this.ft(e,20),typeof i=="string"&&(i=cs(i)),e.yt(`${i.seconds||""}`),e.gt(i.nanos||0)}else if("stringValue"in t)this.wt(t.stringValue,e),this.St(e);else if("bytesValue"in t)this.ft(e,30),e.bt(fs(t.bytesValue)),this.St(e);else if("referenceValue"in t)this.Dt(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ft(e,45),e.gt(i.latitude||0),e.gt(i.longitude||0)}else"mapValue"in t?y2(t)?this.ft(e,Number.MAX_SAFE_INTEGER):Ip(t)?this.vt(t.mapValue,e):(this.Ct(t.mapValue,e),this.St(e)):"arrayValue"in t?(this.Ft(t.arrayValue,e),this.St(e)):vt()}wt(t,e){this.ft(e,25),this.Mt(t,e)}Mt(t,e){e.yt(t)}Ct(t,e){const i=t.fields||{};this.ft(e,55);for(const s of Object.keys(i))this.wt(s,e),this.Rt(i[s],e)}vt(t,e){var i,s;const o=t.fields||{};this.ft(e,53);const u=mu,f=((s=(i=o[u].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.length)||0;this.ft(e,15),e.gt(_e(f)),this.wt(u,e),this.Rt(o[u],e)}Ft(t,e){const i=t.values||[];this.ft(e,50);for(const s of i)this.Rt(s,e)}Dt(t,e){this.ft(e,37),mt.fromName(t).path.forEach(i=>{this.ft(e,60),this.Mt(i,e)})}ft(t,e){t.gt(e)}St(t){t.gt(2)}}bo.xt=new bo;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=255;function Cj(n){if(n===0)return 8;let t=0;return n>>4||(t+=4,n<<=4),n>>6||(t+=2,n<<=2),n>>7||(t+=1),t}function Y1(n){const t=64-function(i){let s=0;for(let o=0;o<8;++o){const u=Cj(255&i[o]);if(s+=u,u!==8)break}return s}(n);return Math.ceil(t/8)}class Dj{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ot(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Nt(i.value),i=e.next();this.Bt()}Lt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.kt(i.value),i=e.next();this.qt()}Qt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Nt(i);else if(i<2048)this.Nt(960|i>>>6),this.Nt(128|63&i);else if(e<"\uD800"||"\uDBFF"<e)this.Nt(480|i>>>12),this.Nt(128|63&i>>>6),this.Nt(128|63&i);else{const s=e.codePointAt(0);this.Nt(240|s>>>18),this.Nt(128|63&s>>>12),this.Nt(128|63&s>>>6),this.Nt(128|63&s)}}this.Bt()}$t(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.kt(i);else if(i<2048)this.kt(960|i>>>6),this.kt(128|63&i);else if(e<"\uD800"||"\uDBFF"<e)this.kt(480|i>>>12),this.kt(128|63&i>>>6),this.kt(128|63&i);else{const s=e.codePointAt(0);this.kt(240|s>>>18),this.kt(128|63&s>>>12),this.kt(128|63&s>>>6),this.kt(128|63&s)}}this.qt()}Kt(t){const e=this.Ut(t),i=Y1(e);this.Wt(1+i),this.buffer[this.position++]=255&i;for(let s=e.length-i;s<e.length;++s)this.buffer[this.position++]=255&e[s]}Gt(t){const e=this.Ut(t),i=Y1(e);this.Wt(1+i),this.buffer[this.position++]=~(255&i);for(let s=e.length-i;s<e.length;++s)this.buffer[this.position++]=~(255&e[s])}zt(){this.jt(Vl),this.jt(255)}Ht(){this.Jt(Vl),this.Jt(255)}reset(){this.position=0}seed(t){this.Wt(t.length),this.buffer.set(t,this.position),this.position+=t.length}Yt(){return this.buffer.slice(0,this.position)}Ut(t){const e=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(t),i=!!(128&e[0]);e[0]^=i?255:128;for(let s=1;s<e.length;++s)e[s]^=i?255:0;return e}Nt(t){const e=255&t;e===0?(this.jt(0),this.jt(255)):e===Vl?(this.jt(Vl),this.jt(0)):this.jt(e)}kt(t){const e=255&t;e===0?(this.Jt(0),this.Jt(255)):e===Vl?(this.Jt(Vl),this.Jt(0)):this.Jt(t)}Bt(){this.jt(0),this.jt(1)}qt(){this.Jt(0),this.Jt(1)}jt(t){this.Wt(1),this.buffer[this.position++]=t}Jt(t){this.Wt(1),this.buffer[this.position++]=~t}Wt(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const s=new Uint8Array(i);s.set(this.buffer),this.buffer=s}}class Pj{constructor(t){this.Zt=t}bt(t){this.Zt.Ot(t)}yt(t){this.Zt.Qt(t)}gt(t){this.Zt.Kt(t)}Vt(){this.Zt.zt()}}class Nj{constructor(t){this.Zt=t}bt(t){this.Zt.Lt(t)}yt(t){this.Zt.$t(t)}gt(t){this.Zt.Gt(t)}Vt(){this.Zt.Ht()}}class qc{constructor(){this.Zt=new Dj,this.Xt=new Pj(this.Zt),this.en=new Nj(this.Zt)}seed(t){this.Zt.seed(t)}tn(t){return t===0?this.Xt:this.en}Yt(){return this.Zt.Yt()}reset(){this.Zt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(t,e,i,s){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=s}nn(){const t=this.directionalValue.length,e=t===0||this.directionalValue[t-1]===255?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new To(this.indexId,this.documentKey,this.arrayValue,i)}}function Js(n,t){let e=n.indexId-t.indexId;return e!==0?e:(e=Q1(n.arrayValue,t.arrayValue),e!==0?e:(e=Q1(n.directionalValue,t.directionalValue),e!==0?e:mt.comparator(n.documentKey,t.documentKey)))}function Q1(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(i!==0)return i}return n.length-t.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(t){this.rn=new ie((e,i)=>Ae.comparator(e.field,i.field)),this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.sn=t.orderBy,this._n=[];for(const e of t.filters){const i=e;i.isInequality()?this.rn=this.rn.add(i):this._n.push(i)}}get an(){return this.rn.size>1}un(t){if(Tt(t.collectionGroup===this.collectionId),this.an)return!1;const e=y0(t);if(e!==void 0&&!this.cn(e))return!1;const i=go(t);let s=new Set,o=0,u=0;for(;o<i.length&&this.cn(i[o]);++o)s=s.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.rn.size>0){const f=this.rn.getIterator().getNext();if(!s.has(f.field.canonicalString())){const h=i[o];if(!this.ln(f,h)||!this.hn(this.sn[u++],h))return!1}++o}for(;o<i.length;++o){const f=i[o];if(u>=this.sn.length||!this.hn(this.sn[u++],f))return!1}return!0}Pn(){if(this.an)return null;let t=new ie(Ae.comparator);const e=[];for(const i of this._n)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")e.push(new am(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),e.push(new am(i.field,0))}for(const i of this.sn)i.field.isKeyField()||t.has(i.field)||(t=t.add(i.field),e.push(new am(i.field,i.dir==="asc"?0:1)));return new Nm(Nm.UNKNOWN_ID,this.collectionId,e,Of.empty())}cn(t){for(const e of this._n)if(this.ln(e,t))return!0;return!1}ln(t,e){if(t===void 0||!t.field.isEqual(e.fieldPath))return!1;const i=t.op==="array-contains"||t.op==="array-contains-any";return e.kind===2===i}hn(t,e){return!!t.field.isEqual(e.fieldPath)&&(e.kind===0&&t.dir==="asc"||e.kind===1&&t.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(n){var t,e;if(Tt(n instanceof Ht||n instanceof ae),n instanceof Ht){if(n instanceof x2){const s=((e=(t=n.value.arrayValue)===null||t===void 0?void 0:t.values)===null||e===void 0?void 0:e.map(o=>Ht.create(n.field,"==",o)))||[];return ae.create(s,"or")}return n}const i=n.filters.map(s=>iD(s));return ae.create(i,n.op)}function Oj(n){if(n.getFilters().length===0)return[];const t=M0(iD(n));return Tt(rD(t)),N0(t)||O0(t)?[t]:t.getFilters()}function N0(n){return n instanceof Ht}function O0(n){return n instanceof ae&&hb(n)}function rD(n){return N0(n)||O0(n)||function(e){if(e instanceof ae&&S0(e)){for(const i of e.getFilters())if(!N0(i)&&!O0(i))return!1;return!0}return!1}(n)}function M0(n){if(Tt(n instanceof Ht||n instanceof ae),n instanceof Ht)return n;if(n.filters.length===1)return M0(n.filters[0]);const t=n.filters.map(i=>M0(i));let e=ae.create(t,n.op);return e=Gm(e),rD(e)?e:(Tt(e instanceof ae),Tt(yu(e)),Tt(e.filters.length>1),e.filters.reduce((i,s)=>Tb(i,s)))}function Tb(n,t){let e;return Tt(n instanceof Ht||n instanceof ae),Tt(t instanceof Ht||t instanceof ae),e=n instanceof Ht?t instanceof Ht?function(s,o){return ae.create([s,o],"and")}(n,t):W1(n,t):t instanceof Ht?W1(t,n):function(s,o){if(Tt(s.filters.length>0&&o.filters.length>0),yu(s)&&yu(o))return w2(s,o.getFilters());const u=S0(s)?s:o,f=S0(s)?o:s,h=u.filters.map(m=>Tb(m,f));return ae.create(h,"or")}(n,t),Gm(e)}function W1(n,t){if(yu(t))return w2(t,n.getFilters());{const e=t.filters.map(i=>Tb(n,i));return ae.create(e,"or")}}function Gm(n){if(Tt(n instanceof Ht||n instanceof ae),n instanceof Ht)return n;const t=n.getFilters();if(t.length===1)return Gm(t[0]);if(T2(n))return n;const e=t.map(s=>Gm(s)),i=[];return e.forEach(s=>{s instanceof Ht?i.push(s):s instanceof ae&&(s.op===n.op?i.push(...s.filters):i.push(s))}),i.length===1?i[0]:ae.create(i,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(){this.Tn=new Eb}addToCollectionParentIndex(t,e){return this.Tn.add(e),Y.resolve()}getCollectionParents(t,e){return Y.resolve(this.Tn.getEntries(e))}addFieldIndex(t,e){return Y.resolve()}deleteFieldIndex(t,e){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,e){return Y.resolve()}getDocumentsMatchingTarget(t,e){return Y.resolve(null)}getIndexType(t,e){return Y.resolve(0)}getFieldIndexes(t,e){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,e){return Y.resolve(fi.min())}getMinOffsetFromCollectionGroup(t,e){return Y.resolve(fi.min())}updateCollectionGroup(t,e,i){return Y.resolve()}updateIndexEntries(t,e){return Y.resolve()}}class Eb{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e]||new ie(ne.comparator),o=!s.has(i);return this.index[e]=s.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e];return s&&s.has(i)}getEntries(t){return(this.index[t]||new ie(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="IndexedDbIndexManager",qd=new Uint8Array(0);class Vj{constructor(t,e){this.databaseId=e,this.In=new Eb,this.En=new ys(i=>Oo(i),(i,s)=>sh(i,s)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.In.has(e)){const i=e.lastSegment(),s=e.popLast();t.addOnCommittedListener(()=>{this.In.add(e)});const o={collectionId:i,parent:Vn(s)};return J1(t).put(o)}return Y.resolve()}getCollectionParents(t,e){const i=[],s=IDBKeyRange.bound([e,""],[XC(e),""],!1,!0);return J1(t).G(s).next(o=>{for(const u of o){if(u.collectionId!==e)break;i.push(gr(u.parent))}return i})}addFieldIndex(t,e){const i=Hc(t),s=function(f){return{indexId:f.indexId,collectionGroup:f.collectionGroup,fields:f.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])}}(e);delete s.indexId;const o=i.add(s);if(e.indexState){const u=Ll(t);return o.next(f=>{u.put(G1(f,this.uid,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=Hc(t),s=Ll(t),o=kl(t);return i.delete(e.indexId).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const e=Hc(t),i=kl(t),s=Ll(t);return e.J().next(()=>i.J()).next(()=>s.J())}createTargetIndexes(t,e){return Y.forEach(this.dn(e),i=>this.getIndexType(t,i).next(s=>{if(s===0||s===1){const o=new X1(i).Pn();if(o!=null)return this.addFieldIndex(t,o)}}))}getDocumentsMatchingTarget(t,e){const i=kl(t);let s=!0;const o=new Map;return Y.forEach(this.dn(e),u=>this.An(t,u).next(f=>{s&&(s=!!f),o.set(u,f)})).next(()=>{if(s){let u=jt();const f=[];return Y.forEach(o,(h,m)=>{at(Z1,`Using index ${function(j){return`id=${j.indexId}|cg=${j.collectionGroup}|f=${j.fields.map(Z=>`${Z.fieldPath}:${Z.kind}`).join(",")}`}(h)} to execute ${Oo(e)}`);const g=function(j,Z){const G=y0(Z);if(G===void 0)return null;for(const J of zm(j,G.fieldPath))switch(J.op){case"array-contains-any":return J.value.arrayValue.values||[];case"array-contains":return[J.value]}return null}(m,h),v=function(j,Z){const G=new Map;for(const J of go(Z))for(const O of zm(j,J.fieldPath))switch(O.op){case"==":case"in":G.set(J.fieldPath.canonicalString(),O.value);break;case"not-in":case"!=":return G.set(J.fieldPath.canonicalString(),O.value),Array.from(G.values())}return null}(m,h),b=function(j,Z){const G=[];let J=!0;for(const O of go(Z)){const S=O.kind===0?P1(j,O.fieldPath,j.startAt):N1(j,O.fieldPath,j.startAt);G.push(S.value),J&&(J=S.inclusive)}return new gu(G,J)}(m,h),w=function(j,Z){const G=[];let J=!0;for(const O of go(Z)){const S=O.kind===0?N1(j,O.fieldPath,j.endAt):P1(j,O.fieldPath,j.endAt);G.push(S.value),J&&(J=S.inclusive)}return new gu(G,J)}(m,h),x=this.Rn(h,m,b),N=this.Rn(h,m,w),D=this.Vn(h,m,v),V=this.mn(h.indexId,g,x,b.inclusive,N,w.inclusive,D);return Y.forEach(V,B=>i.H(B,e.limit).next(j=>{j.forEach(Z=>{const G=mt.fromSegments(Z.documentKey);u.has(G)||(u=u.add(G),f.push(G))})}))}).next(()=>f)}return Y.resolve(null)})}dn(t){let e=this.En.get(t);return e||(t.filters.length===0?e=[t]:e=Oj(ae.create(t.filters,"and")).map(i=>x0(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.En.set(t,e),e)}mn(t,e,i,s,o,u,f){const h=(e!=null?e.length:1)*Math.max(i.length,o.length),m=h/(e!=null?e.length:1),g=[];for(let v=0;v<h;++v){const b=e?this.fn(e[v/m]):qd,w=this.gn(t,b,i[v%m],s),x=this.pn(t,b,o[v%m],u),N=f.map(D=>this.gn(t,b,D,!0));g.push(...this.createRange(w,x,N))}return g}gn(t,e,i,s){const o=new To(t,mt.empty(),e,i);return s?o:o.nn()}pn(t,e,i,s){const o=new To(t,mt.empty(),e,i);return s?o.nn():o}An(t,e){const i=new X1(e),s=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,s).next(o=>{let u=null;for(const f of o)i.un(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u})}getIndexType(t,e){let i=2;const s=this.dn(e);return Y.forEach(s,o=>this.An(t,o).next(u=>{u?i!==0&&u.fields.length<function(h){let m=new ie(Ae.comparator),g=!1;for(const v of h.filters)for(const b of v.getFlattenedFilters())b.field.isKeyField()||(b.op==="array-contains"||b.op==="array-contains-any"?g=!0:m=m.add(b.field));for(const v of h.orderBy)v.field.isKeyField()||(m=m.add(v.field));return m.size+(g?1:0)}(o)&&(i=1):i=0})).next(()=>function(u){return u.limit!==null}(e)&&s.length>1&&i===2?1:i)}yn(t,e){const i=new qc;for(const s of go(t)){const o=e.data.field(s.fieldPath);if(o==null)return null;const u=i.tn(s.kind);bo.xt.At(o,u)}return i.Yt()}fn(t){const e=new qc;return bo.xt.At(t,e.tn(0)),e.Yt()}wn(t,e){const i=new qc;return bo.xt.At(fb(this.databaseId,e),i.tn(function(o){const u=go(o);return u.length===0?0:u[u.length-1].kind}(t))),i.Yt()}Vn(t,e,i){if(i===null)return[];let s=[];s.push(new qc);let o=0;for(const u of go(t)){const f=i[o++];for(const h of s)if(this.Sn(e,u.fieldPath)&&Bf(f))s=this.bn(s,u,f);else{const m=h.tn(u.kind);bo.xt.At(f,m)}}return this.Dn(s)}Rn(t,e,i){return this.Vn(t,e,i.position)}Dn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Yt();return e}bn(t,e,i){const s=[...t],o=[];for(const u of i.arrayValue.values||[])for(const f of s){const h=new qc;h.seed(f.Yt()),bo.xt.At(u,h.tn(e.kind)),o.push(h)}return o}Sn(t,e){return!!t.filters.find(i=>i instanceof Ht&&i.field.isEqual(e)&&(i.op==="in"||i.op==="not-in"))}getFieldIndexes(t,e){const i=Hc(t),s=Ll(t);return(e?i.G(_0,IDBKeyRange.bound(e,e)):i.G()).next(o=>{const u=[];return Y.forEach(o,f=>s.get([f.indexId,this.uid]).next(h=>{u.push(function(g,v){const b=v?new Of(v.sequenceNumber,new fi(Vo(v.readTime),new mt(gr(v.documentKey)),v.largestBatchId)):Of.empty(),w=g.fields.map(([x,N])=>new am(Ae.fromServerFormat(x),N));return new Nm(g.indexId,g.collectionGroup,w,b)}(f,h))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>e.length===0?null:(e.sort((i,s)=>{const o=i.indexState.sequenceNumber-s.indexState.sequenceNumber;return o!==0?o:Ot(i.collectionGroup,s.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const s=Hc(t),o=Ll(t);return this.vn(t).next(u=>s.G(_0,IDBKeyRange.bound(e,e)).next(f=>Y.forEach(f,h=>o.put(G1(h.indexId,this.uid,u,i)))))}updateIndexEntries(t,e){const i=new Map;return Y.forEach(e,(s,o)=>{const u=i.get(s.collectionGroup);return(u?Y.resolve(u):this.getFieldIndexes(t,s.collectionGroup)).next(f=>(i.set(s.collectionGroup,f),Y.forEach(f,h=>this.Cn(t,s,h).next(m=>{const g=this.Fn(o,h);return m.isEqual(g)?Y.resolve():this.Mn(t,o,h,m,g)}))))})}xn(t,e,i,s){return kl(t).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.wn(i,e.key),documentKey:e.key.path.toArray()})}On(t,e,i,s){return kl(t).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.wn(i,e.key),e.key.path.toArray()])}Cn(t,e,i){const s=kl(t);let o=new ie(Js);return s.Z({index:s2,range:IDBKeyRange.only([i.indexId,this.uid,this.wn(i,e)])},(u,f)=>{o=o.add(new To(i.indexId,e,f.arrayValue,f.directionalValue))}).next(()=>o)}Fn(t,e){let i=new ie(Js);const s=this.yn(e,t);if(s==null)return i;const o=y0(e);if(o!=null){const u=t.data.field(o.fieldPath);if(Bf(u))for(const f of u.arrayValue.values||[])i=i.add(new To(e.indexId,t.key,this.fn(f),s))}else i=i.add(new To(e.indexId,t.key,qd,s));return i}Mn(t,e,i,s,o){at(Z1,"Updating index entries for document '%s'",e.key);const u=[];return function(h,m,g,v,b){const w=h.getIterator(),x=m.getIterator();let N=Ml(w),D=Ml(x);for(;N||D;){let V=!1,B=!1;if(N&&D){const j=g(N,D);j<0?B=!0:j>0&&(V=!0)}else N!=null?B=!0:V=!0;V?(v(D),D=Ml(x)):B?(b(N),N=Ml(w)):(N=Ml(w),D=Ml(x))}}(s,o,Js,f=>{u.push(this.xn(t,e,i,f))},f=>{u.push(this.On(t,e,i,f))}),Y.waitFor(u)}vn(t){let e=1;return Ll(t).Z({index:r2,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,s,o)=>{o.done(),e=s.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((u,f)=>Js(u,f)).filter((u,f,h)=>!f||Js(u,h[f-1])!==0);const s=[];s.push(t);for(const u of i){const f=Js(u,t),h=Js(u,e);if(f===0)s[0]=t.nn();else if(f>0&&h<0)s.push(u),s.push(u.nn());else if(h>0)break}s.push(e);const o=[];for(let u=0;u<s.length;u+=2){if(this.Nn(s[u],s[u+1]))return[];const f=[s[u].indexId,this.uid,s[u].arrayValue,s[u].directionalValue,qd,[]],h=[s[u+1].indexId,this.uid,s[u+1].arrayValue,s[u+1].directionalValue,qd,[]];o.push(IDBKeyRange.bound(f,h))}return o}Nn(t,e){return Js(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(tx)}getMinOffset(t,e){return Y.mapArray(this.dn(e),i=>this.An(t,i).next(s=>s||vt())).next(tx)}}function J1(n){return rn(n,Lf)}function kl(n){return rn(n,Lm)}function Hc(n){return rn(n,sb)}function Ll(n){return rn(n,km)}function tx(n){Tt(n.length!==0);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const s=n[i].indexState.offset;nb(s,t)<0&&(t=s),e<s.largestBatchId&&(e=s.largestBatchId)}return new fi(t.readTime,t.documentKey,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sD=41943040;class On{static withCacheSize(t){return new On(t,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(n,t,e){const i=n.store(Hi),s=n.store(cu),o=[],u=IDBKeyRange.only(e.batchId);let f=0;const h=i.Z({range:u},(g,v,b)=>(f++,b.delete()));o.push(h.next(()=>{Tt(f===1)}));const m=[];for(const g of e.mutations){const v=e2(t,g.key.path,e.batchId);o.push(s.delete(v)),m.push(g.key)}return Y.waitFor(o).next(()=>m)}function Km(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw vt();t=n.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(sD,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);class Vp{constructor(t,e,i,s){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=s,this.Bn={}}static It(t,e,i,s){Tt(t.uid!=="");const o=t.isAuthenticated()?t.uid:"";return new Vp(o,e,i,s)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ta(t).Z({index:wo,range:i},(s,o,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,s){const o=ql(t),u=ta(t);return u.add({}).next(f=>{Tt(typeof f=="number");const h=new gb(f,e,i,s),m=function(w,x,N){const D=N.baseMutations.map(B=>qm(w.Tt,B)),V=N.mutations.map(B=>qm(w.Tt,B));return{userId:x,batchId:N.batchId,localWriteTimeMs:N.localWriteTime.toMillis(),baseMutations:D,mutations:V}}(this.serializer,this.userId,h),g=[];let v=new ie((b,w)=>Ot(b.canonicalString(),w.canonicalString()));for(const b of s){const w=e2(this.userId,b.key.path,f);v=v.add(b.key.path.popLast()),g.push(u.put(m)),g.push(o.put(w,l9))}return v.forEach(b=>{g.push(this.indexManager.addToCollectionParentIndex(t,b))}),t.addOnCommittedListener(()=>{this.Bn[f]=h.keys()}),Y.waitFor(g).next(()=>h)})}lookupMutationBatch(t,e){return ta(t).get(e).next(i=>i?(Tt(i.userId===this.userId),_o(this.serializer,i)):null)}Ln(t,e){return this.Bn[e]?Y.resolve(this.Bn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const s=i.keys();return this.Bn[e]=s,s}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,s=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return ta(t).Z({index:wo,range:s},(u,f,h)=>{f.userId===this.userId&&(Tt(f.batchId>=i),o=_o(this.serializer,f)),h.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=xo;return ta(t).Z({index:wo,range:e,reverse:!0},(s,o,u)=>{i=o.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,xo],[this.userId,Number.POSITIVE_INFINITY]);return ta(t).G(wo,e).next(i=>i.map(s=>_o(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=om(this.userId,e.path),s=IDBKeyRange.lowerBound(i),o=[];return ql(t).Z({range:s},(u,f,h)=>{const[m,g,v]=u,b=gr(g);if(m===this.userId&&e.path.isEqual(b))return ta(t).get(v).next(w=>{if(!w)throw vt();Tt(w.userId===this.userId),o.push(_o(this.serializer,w))});h.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ie(Ot);const s=[];return e.forEach(o=>{const u=om(this.userId,o.path),f=IDBKeyRange.lowerBound(u),h=ql(t).Z({range:f},(m,g,v)=>{const[b,w,x]=m,N=gr(w);b===this.userId&&o.path.isEqual(N)?i=i.add(x):v.done()});s.push(h)}),Y.waitFor(s).next(()=>this.kn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,s=i.length+1,o=om(this.userId,i),u=IDBKeyRange.lowerBound(o);let f=new ie(Ot);return ql(t).Z({range:u},(h,m,g)=>{const[v,b,w]=h,x=gr(b);v===this.userId&&i.isPrefixOf(x)?x.length===s&&(f=f.add(w)):g.done()}).next(()=>this.kn(t,f))}kn(t,e){const i=[],s=[];return e.forEach(o=>{s.push(ta(t).get(o).next(u=>{if(u===null)throw vt();Tt(u.userId===this.userId),i.push(_o(this.serializer,u))}))}),Y.waitFor(s).next(()=>i)}removeMutationBatch(t,e){return aD(t.ue,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.qn(e.batchId)}),Y.forEach(i,s=>this.referenceDelegate.markPotentiallyOrphaned(t,s))))}qn(t){delete this.Bn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Y.resolve();const i=IDBKeyRange.lowerBound(function(u){return[u]}(this.userId)),s=[];return ql(t).Z({range:i},(o,u,f)=>{if(o[0]===this.userId){const h=gr(o[1]);s.push(h)}else f.done()}).next(()=>{Tt(s.length===0)})})}containsKey(t,e){return oD(t,this.userId,e)}Qn(t){return lD(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:xo,lastStreamToken:""})}}function oD(n,t,e){const i=om(t,e.path),s=i[1],o=IDBKeyRange.lowerBound(i);let u=!1;return ql(n).Z({range:o,Y:!0},(f,h,m)=>{const[g,v,b]=f;g===t&&v===s&&(u=!0),m.done()}).next(()=>u)}function ta(n){return rn(n,Hi)}function ql(n){return rn(n,cu)}function lD(n){return rn(n,Vf)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Kn(){return new ko(0)}static Un(){return new ko(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.Wn(t).next(e=>{const i=new ko(e.highestTargetId);return e.highestTargetId=i.next(),this.Gn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Wn(t).next(e=>At.fromTimestamp(new Re(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Wn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Wn(t).next(s=>(s.highestListenSequenceNumber=e,i&&(s.lastRemoteSnapshotVersion=i.toTimestamp()),e>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=e),this.Gn(t,s)))}addTargetData(t,e){return this.zn(t,e).next(()=>this.Wn(t).next(i=>(i.targetCount+=1,this.jn(e,i),this.Gn(t,i))))}updateTargetData(t,e){return this.zn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>jl(t).delete(e.targetId)).next(()=>this.Wn(t)).next(i=>(Tt(i.targetCount>0),i.targetCount-=1,this.Gn(t,i)))}removeTargets(t,e,i){let s=0;const o=[];return jl(t).Z((u,f)=>{const h=ef(f);h.sequenceNumber<=e&&i.get(h.targetId)===null&&(s++,o.push(this.removeTargetData(t,h)))}).next(()=>Y.waitFor(o)).next(()=>s)}forEachTarget(t,e){return jl(t).Z((i,s)=>{const o=ef(s);e(o)})}Wn(t){return nx(t).get(Vm).next(e=>(Tt(e!==null),e))}Gn(t,e){return nx(t).put(Vm,e)}zn(t,e){return jl(t).put(eD(this.serializer,e))}jn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Wn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Oo(e),s=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return jl(t).Z({range:s,index:i2},(u,f,h)=>{const m=ef(f);sh(e,m.target)&&(o=m,h.done())}).next(()=>o)}addMatchingKeys(t,e,i){const s=[],o=aa(t);return e.forEach(u=>{const f=Vn(u.path);s.push(o.put({targetId:i,path:f})),s.push(this.referenceDelegate.addReference(t,i,u))}),Y.waitFor(s)}removeMatchingKeys(t,e,i){const s=aa(t);return Y.forEach(e,o=>{const u=Vn(o.path);return Y.waitFor([s.delete([i,u]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=aa(t),s=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(s)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),s=aa(t);let o=jt();return s.Z({range:i,Y:!0},(u,f,h)=>{const m=gr(u[1]),g=new mt(m);o=o.add(g)}).next(()=>o)}containsKey(t,e){const i=Vn(e.path),s=IDBKeyRange.bound([i],[XC(i)],!1,!0);let o=0;return aa(t).Z({index:rb,Y:!0,range:s},([u,f],h,m)=>{u!==0&&(o++,m.done())}).next(()=>o>0)}lt(t,e){return jl(t).get(e).next(i=>i?ef(i):null)}}function jl(n){return rn(n,fu)}function nx(n){return rn(n,Ro)}function aa(n){return rn(n,hu)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="LruGarbageCollector",uD=1048576;function rx([n,t],[e,i]){const s=Ot(n,e);return s===0?Ot(t,i):s}class Lj{constructor(t){this.Hn=t,this.buffer=new ie(rx),this.Jn=0}Yn(){return++this.Jn}Zn(t){const e=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();rx(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class cD{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){at(ix,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Na(e)?at(ix,"Ignoring IndexedDB error during garbage collection: ",e):await qo(e)}await this.er(3e5)})}}class jj{constructor(t,e){this.tr=t,this.params=e}calculateTargetCount(t,e){return this.tr.nr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return Y.resolve(Oi.ae);const i=new Lj(e);return this.tr.forEachTarget(t,s=>i.Zn(s.sequenceNumber)).next(()=>this.tr.rr(t,s=>i.Zn(s))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.tr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.tr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(ex)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ex):this.ir(t,e))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,e){let i,s,o,u,f,h,m;const g=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,u=Date.now(),this.nthSequenceNumber(t,s))).next(v=>(i=v,f=Date.now(),this.removeTargets(t,i,e))).next(v=>(o=v,h=Date.now(),this.removeOrphanedDocuments(t,i))).next(v=>(m=Date.now(),Ul()<=Ft.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${s} in `+(f-u)+`ms
	Removed ${o} targets in `+(h-f)+`ms
	Removed ${v} documents in `+(m-h)+`ms
Total Duration: ${m-g}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:v})))}}function fD(n,t){return new jj(n,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(t,e){this.db=t,this.garbageCollector=fD(this,e)}nr(t){const e=this.sr(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(s=>i+s))}sr(t){let e=0;return this.rr(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}rr(t,e){return this._r(t,(i,s)=>e(s))}addReference(t,e,i){return Hd(t,i)}removeReference(t,e,i){return Hd(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return Hd(t,e)}ar(t,e){return function(s,o){let u=!1;return lD(s).X(f=>oD(s,f,o).next(h=>(h&&(u=!0),Y.resolve(!h)))).next(()=>u)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let o=0;return this._r(t,(u,f)=>{if(f<=e){const h=this.ar(t,u).next(m=>{if(!m)return o++,i.getEntry(t,u).next(()=>(i.removeEntry(u,At.min()),aa(t).delete(function(v){return[0,Vn(v.path)]}(u))))});s.push(h)}}).next(()=>Y.waitFor(s)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return Hd(t,e)}_r(t,e){const i=aa(t);let s,o=Oi.ae;return i.Z({index:rb},([u,f],{path:h,sequenceNumber:m})=>{u===0?(o!==Oi.ae&&e(new mt(gr(s)),o),o=m,s=h):o=Oi.ae}).next(()=>{o!==Oi.ae&&e(new mt(gr(s)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Hd(n,t){return aa(n).put(function(i,s){return{targetId:0,path:Vn(i.path),sequenceNumber:s}}(t,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this.changes=new ys(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Me.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?Y.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return ho(t).put(i)}removeEntry(t,e,i){return ho(t).delete(function(o,u){const f=o.path.toArray();return[f.slice(0,f.length-2),f[f.length-2],Hm(u),f[f.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.ur(t,i)))}getEntry(t,e){let i=Me.newInvalidDocument(e);return ho(t).Z({index:lm,range:IDBKeyRange.only(Gc(e))},(s,o)=>{i=this.cr(e,o)}).next(()=>i)}lr(t,e){let i={size:0,document:Me.newInvalidDocument(e)};return ho(t).Z({index:lm,range:IDBKeyRange.only(Gc(e))},(s,o)=>{i={document:this.cr(e,o),size:Km(o)}}).next(()=>i)}getEntries(t,e){let i=li();return this.hr(t,e,(s,o)=>{const u=this.cr(s,o);i=i.insert(s,u)}).next(()=>i)}Pr(t,e){let i=li(),s=new be(mt.comparator);return this.hr(t,e,(o,u)=>{const f=this.cr(o,u);i=i.insert(o,f),s=s.insert(o,Km(u))}).next(()=>({documents:i,Tr:s}))}hr(t,e,i){if(e.isEmpty())return Y.resolve();let s=new ie(ox);e.forEach(h=>s=s.add(h));const o=IDBKeyRange.bound(Gc(s.first()),Gc(s.last())),u=s.getIterator();let f=u.getNext();return ho(t).Z({index:lm,range:o},(h,m,g)=>{const v=mt.fromSegments([...m.prefixPath,m.collectionGroup,m.documentId]);for(;f&&ox(f,v)<0;)i(f,null),f=u.getNext();f&&f.isEqual(v)&&(i(f,m),f=u.hasNext()?u.getNext():null),f?g.W(Gc(f)):g.done()}).next(()=>{for(;f;)i(f,null),f=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(t,e,i,s,o){const u=e.path,f=[u.popLast().toArray(),u.lastSegment(),Hm(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],h=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ho(t).G(IDBKeyRange.bound(f,h,!0)).next(m=>{o==null||o.incrementDocumentReadCount(m.length);let g=li();for(const v of m){const b=this.cr(mt.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);b.isFoundDocument()&&(ah(e,b)||s.has(b.key))&&(g=g.insert(b.key,b))}return g})}getAllFromCollectionGroup(t,e,i,s){let o=li();const u=ax(e,i),f=ax(e,fi.max());return ho(t).Z({index:n2,range:IDBKeyRange.bound(u,f,!0)},(h,m,g)=>{const v=this.cr(mt.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);o=o.insert(v.key,v),o.size===s&&g.done()}).next(()=>o)}newChangeBuffer(t){return new zj(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return sx(t).get(v0).next(e=>(Tt(!!e),e))}ur(t,e){return sx(t).put(v0,e)}cr(t,e){if(e){const i=xj(this.serializer,e);if(!(i.isNoDocument()&&i.version.isEqual(At.min())))return i}return Me.newInvalidDocument(t)}}function dD(n){return new Bj(n)}class zj extends hD{constructor(t,e){super(),this.Ir=t,this.trackRemovals=e,this.Er=new ys(i=>i.toString(),(i,s)=>i.isEqual(s))}applyChanges(t){const e=[];let i=0,s=new ie((o,u)=>Ot(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const f=this.Er.get(o);if(e.push(this.Ir.removeEntry(t,o,f.readTime)),u.isValidDocument()){const h=q1(this.Ir.serializer,u);s=s.add(o.path.popLast());const m=Km(h);i+=m-f.size,e.push(this.Ir.addEntry(t,o,h))}else if(i-=f.size,this.trackRemovals){const h=q1(this.Ir.serializer,u.convertToNoDocument(At.min()));e.push(this.Ir.addEntry(t,o,h))}}),s.forEach(o=>{e.push(this.Ir.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.Ir.updateMetadata(t,i)),Y.waitFor(e)}getFromCache(t,e){return this.Ir.lr(t,e).next(i=>(this.Er.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Ir.Pr(t,e).next(({documents:i,Tr:s})=>(s.forEach((o,u)=>{this.Er.set(o,{size:u,readTime:i.get(o).readTime})}),i))}}function sx(n){return rn(n,kf)}function ho(n){return rn(n,Mm)}function Gc(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function ax(n,t){const e=t.documentKey.path.toArray();return[n,Hm(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function ox(n,t){const e=n.path.toArray(),i=t.path.toArray();let s=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(s=Ot(e[o],i[o]),s)return s;return s=Ot(e.length,i.length),s||(s=Ot(e[e.length-2],i[i.length-2]),s||Ot(e[e.length-1],i[i.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(t,e,i,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,e))).next(s=>(i!==null&&mf(i.mutation,s,Mi.empty(),Re.now()),s))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,jt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=jt()){const s=yr();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,i).next(o=>{let u=Jc();return o.forEach((f,h)=>{u=u.insert(f,h.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const i=yr();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,jt()))}populateOverlays(t,e,i){const s=[];return i.forEach(o=>{e.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(t,s).next(o=>{o.forEach((u,f)=>{e.set(u,f)})})}computeViews(t,e,i,s){let o=li();const u=df(),f=function(){return df()}();return e.forEach((h,m)=>{const g=i.get(m.key);s.has(m.key)&&(g===void 0||g.mutation instanceof Ma)?o=o.insert(m.key,m):g!==void 0?(u.set(m.key,g.mutation.getFieldMask()),mf(g.mutation,m,g.mutation.getFieldMask(),Re.now())):u.set(m.key,Mi.empty())}),this.recalculateAndSaveOverlays(t,o).next(h=>(h.forEach((m,g)=>u.set(m,g)),e.forEach((m,g)=>{var v;return f.set(m,new Fj(g,(v=u.get(m))!==null&&v!==void 0?v:null))}),f))}recalculateAndSaveOverlays(t,e){const i=df();let s=new be((u,f)=>u-f),o=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const f of u)f.keys().forEach(h=>{const m=e.get(h);if(m===null)return;let g=i.get(h)||Mi.empty();g=f.applyToLocalView(m,g),i.set(h,g);const v=(s.get(f.batchId)||jt()).add(h);s=s.insert(f.batchId,v)})}).next(()=>{const u=[],f=s.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),m=h.key,g=h.value,v=P2();g.forEach(b=>{if(!o.has(b)){const w=L2(e.get(b),i.get(b));w!==null&&v.set(b,w),o=o.add(b)}}),u.push(this.documentOverlayCache.saveOverlays(t,m,v))}return Y.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,s){return function(u){return mt.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):G9(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,s):this.getDocumentsMatchingCollectionQuery(t,e,i,s)}getNextDocuments(t,e,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,s).next(o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,s-o.size):Y.resolve(yr());let f=Nf,h=o;return u.next(m=>Y.forEach(m,(g,v)=>(f<v.largestBatchId&&(f=v.largestBatchId),o.get(g)?Y.resolve():this.remoteDocumentCache.getEntry(t,g).next(b=>{h=h.insert(g,b)}))).next(()=>this.populateOverlays(t,m,o)).next(()=>this.computeViews(t,h,m,jt())).next(g=>({batchId:f,changes:D2(g)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new mt(e)).next(i=>{let s=Jc();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,e,i,s){const o=e.collectionGroup;let u=Jc();return this.indexManager.getCollectionParents(t,o).next(f=>Y.forEach(f,h=>{const m=function(v,b){return new Cp(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(e,h.child(o));return this.getDocumentsMatchingCollectionQuery(t,m,i,s).next(g=>{g.forEach((v,b)=>{u=u.insert(v,b)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(t,e,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,s))).next(u=>{o.forEach((h,m)=>{const g=m.getKey();u.get(g)===null&&(u=u.insert(g,Me.newInvalidDocument(g)))});let f=Jc();return u.forEach((h,m)=>{const g=o.get(h);g!==void 0&&mf(g.mutation,m,Mi.empty(),Re.now()),ah(e,m)&&(f=f.insert(h,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,e){return Y.resolve(this.dr.get(e))}saveBundleMetadata(t,e){return this.dr.set(e.id,function(s){return{id:s.id,version:s.version,createTime:Kn(s.createTime)}}(e)),Y.resolve()}getNamedQuery(t,e){return Y.resolve(this.Ar.get(e))}saveNamedQuery(t,e){return this.Ar.set(e.name,function(s){return{name:s.name,query:nD(s.bundledQuery),readTime:Kn(s.readTime)}}(e)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(){this.overlays=new be(mt.comparator),this.Rr=new Map}getOverlay(t,e){return Y.resolve(this.overlays.get(e))}getOverlays(t,e){const i=yr();return Y.forEach(e,s=>this.getOverlay(t,s).next(o=>{o!==null&&i.set(s,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((s,o)=>{this.Et(t,e,o)}),Y.resolve()}removeOverlaysForBatchId(t,e,i){const s=this.Rr.get(i);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(i)),Y.resolve()}getOverlaysForCollection(t,e,i){const s=yr(),o=e.length+1,u=new mt(e.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const h=f.getNext().value,m=h.getKey();if(!e.isPrefixOf(m.path))break;m.path.length===o&&h.largestBatchId>i&&s.set(h.getKey(),h)}return Y.resolve(s)}getOverlaysForCollectionGroup(t,e,i,s){let o=new be((m,g)=>m-g);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===e&&m.largestBatchId>i){let g=o.get(m.largestBatchId);g===null&&(g=yr(),o=o.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const f=yr(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((m,g)=>f.set(m,g)),!(f.size()>=s)););return Y.resolve(f)}Et(t,e,i){const s=this.overlays.get(i.key);if(s!==null){const u=this.Rr.get(s.largestBatchId).delete(i.key);this.Rr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new vb(e,i));let o=this.Rr.get(e);o===void 0&&(o=jt(),this.Rr.set(e,o)),this.Rr.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(){this.Vr=new ie(dn.mr),this.gr=new ie(dn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,e){const i=new dn(t,e);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.wr(new dn(t,e))}Sr(t,e){t.forEach(i=>this.removeReference(i,e))}br(t){const e=new mt(new ne([])),i=new dn(e,t),s=new dn(e,t+1),o=[];return this.gr.forEachInRange([i,s],u=>{this.wr(u),o.push(u.key)}),o}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const e=new mt(new ne([])),i=new dn(e,t),s=new dn(e,t+1);let o=jt();return this.gr.forEachInRange([i,s],u=>{o=o.add(u.key)}),o}containsKey(t){const e=new dn(t,0),i=this.Vr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class dn{constructor(t,e){this.key=t,this.Cr=e}static mr(t,e){return mt.comparator(t.key,e.key)||Ot(t.Cr,e.Cr)}static pr(t,e){return Ot(t.Cr,e.Cr)||mt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Fr=1,this.Mr=new ie(dn.mr)}checkEmpty(t){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,s){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new gb(o,e,i,s);this.mutationQueue.push(u);for(const f of s)this.Mr=this.Mr.add(new dn(f.key,o)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return Y.resolve(u)}lookupMutationBatch(t,e){return Y.resolve(this.Or(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,s=this.Nr(i),o=s<0?0:s;return Y.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?xo:this.Fr-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new dn(e,0),s=new dn(e,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([i,s],u=>{const f=this.Or(u.Cr);o.push(f)}),Y.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ie(Ot);return e.forEach(s=>{const o=new dn(s,0),u=new dn(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,u],f=>{i=i.add(f.Cr)})}),Y.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,s=i.length+1;let o=i;mt.isDocumentKey(o)||(o=o.child(""));const u=new dn(new mt(o),0);let f=new ie(Ot);return this.Mr.forEachWhile(h=>{const m=h.key.path;return!!i.isPrefixOf(m)&&(m.length===s&&(f=f.add(h.Cr)),!0)},u),Y.resolve(this.Br(f))}Br(t){const e=[];return t.forEach(i=>{const s=this.Or(i);s!==null&&e.push(s)}),e}removeMutationBatch(t,e){Tt(this.Lr(e.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return Y.forEach(e.mutations,s=>{const o=new dn(s.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Mr=i})}qn(t){}containsKey(t,e){const i=new dn(e,0),s=this.Mr.firstAfterOrEqual(i);return Y.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,Y.resolve()}Lr(t,e){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const e=this.Nr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(t){this.kr=t,this.docs=function(){return new be(mt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,s=this.docs.get(i),o=s?s.size:0,u=this.kr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Y.resolve(i?i.document.mutableCopy():Me.newInvalidDocument(e))}getEntries(t,e){let i=li();return e.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():Me.newInvalidDocument(s))}),Y.resolve(i)}getDocumentsMatchingQuery(t,e,i,s){let o=li();const u=e.path,f=new mt(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:m,value:{document:g}}=h.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||nb(WC(g),i)<=0||(s.has(g.key)||ah(e,g))&&(o=o.insert(g.key,g.mutableCopy()))}return Y.resolve(o)}getAllFromCollectionGroup(t,e,i,s){vt()}qr(t,e){return Y.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new Yj(this)}getSize(t){return Y.resolve(this.size)}}class Yj extends hD{constructor(t){super(),this.Ir=t}applyChanges(t){const e=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?e.push(this.Ir.addEntry(t,s)):this.Ir.removeEntry(i)}),Y.waitFor(e)}getFromCache(t,e){return this.Ir.getEntry(t,e)}getAllFromCache(t,e){return this.Ir.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(t){this.persistence=t,this.Qr=new ys(e=>Oo(e),sh),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.$r=0,this.Kr=new wb,this.targetCount=0,this.Ur=ko.Kn()}forEachTarget(t,e){return this.Qr.forEach((i,s)=>e(s)),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Ur.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.$r&&(this.$r=e),Y.resolve()}zn(t){this.Qr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ur=new ko(e),this.highestTargetId=e),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,e){return this.zn(e),this.targetCount+=1,Y.resolve()}updateTargetData(t,e){return this.zn(e),Y.resolve()}removeTargetData(t,e){return this.Qr.delete(e.target),this.Kr.br(e.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,e,i){let s=0;const o=[];return this.Qr.forEach((u,f)=>{f.sequenceNumber<=e&&i.get(f.targetId)===null&&(this.Qr.delete(u),o.push(this.removeMatchingKeysForTargetId(t,f.targetId)),s++)}),Y.waitFor(o).next(()=>s)}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,e){const i=this.Qr.get(e)||null;return Y.resolve(i)}addMatchingKeys(t,e,i){return this.Kr.yr(e,i),Y.resolve()}removeMatchingKeys(t,e,i){this.Kr.Sr(e,i);const s=this.persistence.referenceDelegate,o=[];return s&&e.forEach(u=>{o.push(s.markPotentiallyOrphaned(t,u))}),Y.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Kr.br(e),Y.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Kr.vr(e);return Y.resolve(i)}containsKey(t,e){return Y.resolve(this.Kr.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(t,e){this.Wr={},this.overlays={},this.Gr=new Oi(0),this.zr=!1,this.zr=!0,this.jr=new Gj,this.referenceDelegate=t(this),this.Hr=new Qj(this),this.indexManager=new Mj,this.remoteDocumentCache=function(s){return new $j(s)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new tD(e),this.Yr=new qj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Hj,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Wr[t.toKey()];return i||(i=new Kj(e,this.referenceDelegate),this.Wr[t.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,e,i){at("MemoryPersistence","Starting transaction:",t);const s=new Xj(this.Gr.next());return this.referenceDelegate.Zr(),i(s).next(o=>this.referenceDelegate.Xr(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}ei(t,e){return Y.or(Object.values(this.Wr).map(i=>()=>i.containsKey(t,e)))}}class Xj extends JC{constructor(t){super(),this.currentSequenceNumber=t}}class kp{constructor(t){this.persistence=t,this.ti=new wb,this.ni=null}static ri(t){return new kp(t)}get ii(){if(this.ni)return this.ni;throw vt()}addReference(t,e,i){return this.ti.addReference(i,e),this.ii.delete(i.toString()),Y.resolve()}removeReference(t,e,i){return this.ti.removeReference(i,e),this.ii.add(i.toString()),Y.resolve()}markPotentiallyOrphaned(t,e){return this.ii.add(e.toString()),Y.resolve()}removeTarget(t,e){this.ti.br(e.targetId).forEach(s=>this.ii.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(s=>{s.forEach(o=>this.ii.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Zr(){this.ni=new Set}Xr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.ii,i=>{const s=mt.fromPath(i);return this.si(t,s).next(o=>{o||e.removeEntry(s,At.min())})}).next(()=>(this.ni=null,e.apply(t)))}updateLimboDocument(t,e){return this.si(t,e).next(i=>{i?this.ii.delete(e.toString()):this.ii.add(e.toString())})}Jr(t){return 0}si(t,e){return Y.or([()=>Y.resolve(this.ti.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.ei(t,e)])}}class $m{constructor(t,e){this.persistence=t,this.oi=new ys(i=>Vn(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=fD(this,e)}static ri(t,e){return new $m(t,e)}Zr(){}Xr(t){return Y.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}nr(t){const e=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(s=>i+s))}sr(t){let e=0;return this.rr(t,i=>{e++}).next(()=>e)}rr(t,e){return Y.forEach(this.oi,(i,s)=>this.ar(t,i,s).next(o=>o?Y.resolve():e(s)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.qr(t,u=>this.ar(t,u,e).next(f=>{f||(i++,o.removeEntry(u,At.min()))})).next(()=>o.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.oi.set(e,t.currentSequenceNumber),Y.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.oi.set(i,t.currentSequenceNumber),Y.resolve()}removeReference(t,e,i){return this.oi.set(i,t.currentSequenceNumber),Y.resolve()}updateLimboDocument(t,e){return this.oi.set(e,t.currentSequenceNumber),Y.resolve()}Jr(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=cm(t.data.value)),e}ar(t,e,i){return Y.or([()=>this.persistence.ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const s=this.oi.get(e);return Y.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(t){this.serializer=t}B(t,e,i,s){const o=new Ep("createOrUpgrade",e);i<1&&s>=1&&(function(h){h.createObjectStore(rh)}(t),function(h){h.createObjectStore(Vf,{keyPath:o9}),h.createObjectStore(Hi,{keyPath:_1,autoIncrement:!0}).createIndex(wo,b1,{unique:!0}),h.createObjectStore(cu)}(t),lx(t),function(h){h.createObjectStore(yo)}(t));let u=Y.resolve();return i<3&&s>=3&&(i!==0&&(function(h){h.deleteObjectStore(hu),h.deleteObjectStore(fu),h.deleteObjectStore(Ro)}(t),lx(t)),u=u.next(()=>function(h){const m=h.store(Ro),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:At.min().toTimestamp(),targetCount:0};return m.put(Vm,g)}(o))),i<4&&s>=4&&(i!==0&&(u=u.next(()=>function(h,m){return m.store(Hi).G().next(v=>{h.deleteObjectStore(Hi),h.createObjectStore(Hi,{keyPath:_1,autoIncrement:!0}).createIndex(wo,b1,{unique:!0});const b=m.store(Hi),w=v.map(x=>b.put(x));return Y.waitFor(w)})}(t,o))),u=u.next(()=>{(function(h){h.createObjectStore(du,{keyPath:g9})})(t)})),i<5&&s>=5&&(u=u.next(()=>this._i(o))),i<6&&s>=6&&(u=u.next(()=>(function(h){h.createObjectStore(kf)}(t),this.ai(o)))),i<7&&s>=7&&(u=u.next(()=>this.ui(o))),i<8&&s>=8&&(u=u.next(()=>this.ci(t,o))),i<9&&s>=9&&(u=u.next(()=>{(function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")})(t)})),i<10&&s>=10&&(u=u.next(()=>this.li(o))),i<11&&s>=11&&(u=u.next(()=>{(function(h){h.createObjectStore(Sp,{keyPath:y9})})(t),function(h){h.createObjectStore(Ap,{keyPath:v9})}(t)})),i<12&&s>=12&&(u=u.next(()=>{(function(h){const m=h.createObjectStore(xp,{keyPath:A9});m.createIndex(b0,x9,{unique:!1}),m.createIndex(a2,R9,{unique:!1})})(t)})),i<13&&s>=13&&(u=u.next(()=>function(h){const m=h.createObjectStore(Mm,{keyPath:u9});m.createIndex(lm,c9),m.createIndex(n2,f9)}(t)).next(()=>this.hi(t,o)).next(()=>t.deleteObjectStore(yo))),i<14&&s>=14&&(u=u.next(()=>this.Pi(t,o))),i<15&&s>=15&&(u=u.next(()=>function(h){h.createObjectStore(sb,{keyPath:_9,autoIncrement:!0}).createIndex(_0,b9,{unique:!1}),h.createObjectStore(km,{keyPath:T9}).createIndex(r2,E9,{unique:!1}),h.createObjectStore(Lm,{keyPath:w9}).createIndex(s2,S9,{unique:!1})}(t))),i<16&&s>=16&&(u=u.next(()=>{e.objectStore(km).clear()}).next(()=>{e.objectStore(Lm).clear()})),i<17&&s>=17&&(u=u.next(()=>{(function(h){h.createObjectStore(ab,{keyPath:I9})})(t)})),u}ai(t){let e=0;return t.store(yo).Z((i,s)=>{e+=Km(s)}).next(()=>{const i={byteSize:e};return t.store(kf).put(v0,i)})}_i(t){const e=t.store(Vf),i=t.store(Hi);return e.G().next(s=>Y.forEach(s,o=>{const u=IDBKeyRange.bound([o.userId,xo],[o.userId,o.lastAcknowledgedBatchId]);return i.G(wo,u).next(f=>Y.forEach(f,h=>{Tt(h.userId===o.userId);const m=_o(this.serializer,h);return aD(t,o.userId,m).next(()=>{})}))}))}ui(t){const e=t.store(hu),i=t.store(yo);return t.store(Ro).get(Vm).next(s=>{const o=[];return i.Z((u,f)=>{const h=new ne(u),m=function(v){return[0,Vn(v)]}(h);o.push(e.get(m).next(g=>g?Y.resolve():(v=>e.put({targetId:0,path:Vn(v),sequenceNumber:s.highestListenSequenceNumber}))(h)))}).next(()=>Y.waitFor(o))})}ci(t,e){t.createObjectStore(Lf,{keyPath:p9});const i=e.store(Lf),s=new Eb,o=u=>{if(s.add(u)){const f=u.lastSegment(),h=u.popLast();return i.put({collectionId:f,parent:Vn(h)})}};return e.store(yo).Z({Y:!0},(u,f)=>{const h=new ne(u);return o(h.popLast())}).next(()=>e.store(cu).Z({Y:!0},([u,f,h],m)=>{const g=gr(f);return o(g.popLast())}))}li(t){const e=t.store(fu);return e.Z((i,s)=>{const o=ef(s),u=eD(this.serializer,o);return e.put(u)})}hi(t,e){const i=e.store(yo),s=[];return i.Z((o,u)=>{const f=e.store(Mm),h=function(v){return v.document?new mt(ne.fromString(v.document.name).popFirst(5)):v.noDocument?mt.fromSegments(v.noDocument.path):v.unknownDocument?mt.fromSegments(v.unknownDocument.path):vt()}(u).path.toArray(),m={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};s.push(f.put(m))}).next(()=>Y.waitFor(s))}Pi(t,e){const i=e.store(Hi),s=dD(this.serializer),o=new Sb(kp.ri,this.serializer.Tt);return i.G().next(u=>{const f=new Map;return u.forEach(h=>{var m;let g=(m=f.get(h.userId))!==null&&m!==void 0?m:jt();_o(this.serializer,h).keys().forEach(v=>g=g.add(v)),f.set(h.userId,g)}),Y.forEach(f,(h,m)=>{const g=new Fn(m),v=Mp.It(this.serializer,g),b=o.getIndexManager(g),w=Vp.It(g,this.serializer,b,o.referenceDelegate);return new mD(s,w,v,b).recalculateAndSaveOverlaysForDocumentKeys(new T0(e,Oi.ae),h).next()})})}}function lx(n){n.createObjectStore(hu,{keyPath:d9}).createIndex(rb,m9,{unique:!0}),n.createObjectStore(fu,{keyPath:"targetId"}).createIndex(i2,h9,{unique:!0}),n.createObjectStore(Ro)}const ea="IndexedDbPersistence",wv=18e5,Sv=5e3,Av="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Zj="main";class Ab{constructor(t,e,i,s,o,u,f,h,m,g,v=17){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Ti=o,this.window=u,this.document=f,this.Ii=m,this.Ei=g,this.di=v,this.Gr=null,this.zr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ai=null,this.inForeground=!1,this.Ri=null,this.Vi=null,this.mi=Number.NEGATIVE_INFINITY,this.fi=b=>Promise.resolve(),!Ab.D())throw new gt(it.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Uj(this,s),this.gi=e+Zj,this.serializer=new tD(h),this.pi=new ga(this.gi,this.di,new Wj(this.serializer)),this.jr=new Ij,this.Hr=new kj(this.referenceDelegate,this.serializer),this.remoteDocumentCache=dD(this.serializer),this.Yr=new Rj,this.window&&this.window.localStorage?this.yi=this.window.localStorage:(this.yi=null,g===!1&&qn(ea,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new gt(it.FAILED_PRECONDITION,Av);return this.Si(),this.bi(),this.Di(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Hr.getHighestSequenceNumber(t))}).then(t=>{this.Gr=new Oi(t,this.Ii)}).then(()=>{this.zr=!0}).catch(t=>(this.pi&&this.pi.close(),Promise.reject(t)))}Ci(t){return this.fi=async e=>{if(this.started)return t(e)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.pi.k(async e=>{e.newVersion===null&&await t()})}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.Ti.enqueueAndForget(async()=>{this.started&&await this.wi()}))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Gd(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Fi(t).next(e=>{e||(this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Mi(t)).next(e=>this.isPrimary&&!e?this.xi(t).next(()=>!1):!!e&&this.Oi(t).next(()=>!0))).catch(t=>{if(Na(t))return at(ea,"Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return at(ea,"Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Ti.enqueueRetryable(()=>this.fi(t)),this.isPrimary=t})}Fi(t){return Kc(t).get(Ol).next(e=>Y.resolve(this.Ni(e)))}Bi(t){return Gd(t).delete(this.clientId)}async Li(){if(this.isPrimary&&!this.ki(this.mi,wv)){this.mi=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const i=rn(e,du);return i.G().next(s=>{const o=this.qi(s,wv),u=s.filter(f=>o.indexOf(f)===-1);return Y.forEach(u,f=>i.delete(f.clientId)).next(()=>u)})}).catch(()=>[]);if(this.yi)for(const e of t)this.yi.removeItem(this.Qi(e.clientId))}}Di(){this.Vi=this.Ti.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Li()).then(()=>this.Di()))}Ni(t){return!!t&&t.ownerId===this.clientId}Mi(t){return this.Ei?Y.resolve(!0):Kc(t).get(Ol).next(e=>{if(e!==null&&this.ki(e.leaseTimestampMs,Sv)&&!this.$i(e.ownerId)){if(this.Ni(e)&&this.networkEnabled)return!0;if(!this.Ni(e)){if(!e.allowTabSynchronization)throw new gt(it.FAILED_PRECONDITION,Av);return!1}}return!(!this.networkEnabled||!this.inForeground)||Gd(t).G().next(i=>this.qi(i,Sv).find(s=>{if(this.clientId!==s.clientId){const o=!this.networkEnabled&&s.networkEnabled,u=!this.inForeground&&s.inForeground,f=this.networkEnabled===s.networkEnabled;if(o||u&&f)return!0}return!1})===void 0)}).next(e=>(this.isPrimary!==e&&at(ea,`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}async shutdown(){this.zr=!1,this.Ki(),this.Vi&&(this.Vi.cancel(),this.Vi=null),this.Ui(),this.Wi(),await this.pi.runTransaction("shutdown","readwrite",[rh,du],t=>{const e=new T0(t,Oi.ae);return this.xi(e).next(()=>this.Bi(e))}),this.pi.close(),this.Gi()}qi(t,e){return t.filter(i=>this.ki(i.updateTimeMs,e)&&!this.$i(i.clientId))}zi(){return this.runTransaction("getActiveClients","readonly",t=>Gd(t).G().next(e=>this.qi(e,wv).map(i=>i.clientId)))}get started(){return this.zr}getGlobalsCache(){return this.jr}getMutationQueue(t,e){return Vp.It(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new Vj(t,this.serializer.Tt.databaseId)}getDocumentOverlayCache(t){return Mp.It(this.serializer,t)}getBundleCache(){return this.Yr}runTransaction(t,e,i){at(ea,"Starting transaction:",t);const s=e==="readonly"?"readonly":"readwrite",o=function(h){return h===17?P9:h===16?D9:h===15?ob:h===14?u2:h===13?l2:h===12?C9:h===11?o2:void vt()}(this.di);let u;return this.pi.runTransaction(t,s,o,f=>(u=new T0(f,this.Gr?this.Gr.next():Oi.ae),e==="readwrite-primary"?this.Fi(u).next(h=>!!h||this.Mi(u)).next(h=>{if(!h)throw qn(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)),new gt(it.FAILED_PRECONDITION,ZC);return i(u)}).next(h=>this.Oi(u).next(()=>h)):this.ji(u).next(()=>i(u)))).then(f=>(u.raiseOnCommittedEvent(),f))}ji(t){return Kc(t).get(Ol).next(e=>{if(e!==null&&this.ki(e.leaseTimestampMs,Sv)&&!this.$i(e.ownerId)&&!this.Ni(e)&&!(this.Ei||this.allowTabSynchronization&&e.allowTabSynchronization))throw new gt(it.FAILED_PRECONDITION,Av)})}Oi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Kc(t).put(Ol,e)}static D(){return ga.D()}xi(t){const e=Kc(t);return e.get(Ol).next(i=>this.Ni(i)?(at(ea,"Releasing primary lease."),e.delete(Ol)):Y.resolve())}ki(t,e){const i=Date.now();return!(t<i-e)&&(!(t>i)||(qn(`Detected an update time that is in the future: ${t} > ${i}`),!1))}Si(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ri=()=>{this.Ti.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.wi()))},this.document.addEventListener("visibilitychange",this.Ri),this.inForeground=this.document.visibilityState==="visible")}Ui(){this.Ri&&(this.document.removeEventListener("visibilitychange",this.Ri),this.Ri=null)}bi(){var t;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.Ai=()=>{this.Ki();const e=/(?:Version|Mobile)\/1[456]/;kC()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ti.enterRestrictedMode(!0),this.Ti.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ai))}Wi(){this.Ai&&(this.window.removeEventListener("pagehide",this.Ai),this.Ai=null)}$i(t){var e;try{const i=((e=this.yi)===null||e===void 0?void 0:e.getItem(this.Qi(t)))!==null;return at(ea,`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return qn(ea,"Failed to get zombied client id.",i),!1}}Ki(){if(this.yi)try{this.yi.setItem(this.Qi(this.clientId),String(Date.now()))}catch(t){qn("Failed to set zombie client id.",t)}}Gi(){if(this.yi)try{this.yi.removeItem(this.Qi(this.clientId))}catch{}}Qi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Kc(n){return rn(n,rh)}function Gd(n){return rn(n,du)}function Jj(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(t,e,i,s){this.targetId=t,this.fromCache=e,this.Hi=i,this.Ji=s}static Yi(t,e){let i=jt(),s=jt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new xb(t,e.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return kC()?8:t2(nn())>0?6:4}()}initialize(t,e){this.ns=t,this.indexManager=e,this.Zi=!0}getDocumentsMatchingQuery(t,e,i,s){const o={result:null};return this.rs(t,e).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.ss(t,e,s,i).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new tU;return this._s(t,e,u).next(f=>{if(o.result=f,this.Xi)return this.us(t,e,u,f.size)})}).next(()=>o.result)}us(t,e,i,s){return i.documentReadCount<this.es?(Ul()<=Ft.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Bl(e),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Y.resolve()):(Ul()<=Ft.DEBUG&&at("QueryEngine","Query:",Bl(e),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ts*s?(Ul()<=Ft.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Bl(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Vi(e))):Y.resolve())}rs(t,e){if(O1(e))return Y.resolve(null);let i=Vi(e);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(e.limit!==null&&s===1&&(e=R0(e,null,"F"),i=Vi(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const u=jt(...o);return this.ns.getDocuments(t,u).next(f=>this.indexManager.getMinOffset(t,i).next(h=>{const m=this.cs(e,f);return this.ls(e,m,u,h.readTime)?this.rs(t,R0(e,null,"F")):this.hs(t,m,e,h)}))})))}ss(t,e,i,s){return O1(e)||s.isEqual(At.min())?Y.resolve(null):this.ns.getDocuments(t,i).next(o=>{const u=this.cs(e,o);return this.ls(e,u,i,s)?Y.resolve(null):(Ul()<=Ft.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Bl(e)),this.hs(t,u,e,t9(s,Nf)).next(f=>f))})}cs(t,e){let i=new ie(I2(t));return e.forEach((s,o)=>{ah(t,o)&&(i=i.add(o))}),i}ls(t,e,i,s){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}_s(t,e,i){return Ul()<=Ft.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Bl(e)),this.ns.getDocumentsMatchingQuery(t,e,fi.min(),i)}hs(t,e,i,s){return this.ns.getDocumentsMatchingQuery(t,i,s).next(o=>(e.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="LocalStore",eU=3e8;class nU{constructor(t,e,i,s){this.persistence=t,this.Ps=e,this.serializer=s,this.Ts=new be(Ot),this.Is=new ys(o=>Oo(o),sh),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(i)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new mD(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ts))}}function gD(n,t,e,i){return new nU(n,t,e,i)}async function yD(n,t){const e=Dt(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let s;return e.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,e.As(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const u=[],f=[];let h=jt();for(const m of s){u.push(m.batchId);for(const g of m.mutations)h=h.add(g.key)}for(const m of o){f.push(m.batchId);for(const g of m.mutations)h=h.add(g.key)}return e.localDocuments.getDocuments(i,h).next(m=>({Rs:m,removedBatchIds:u,addedBatchIds:f}))})})}function iU(n,t){const e=Dt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),o=e.ds.newChangeBuffer({trackRemovals:!0});return function(f,h,m,g){const v=m.batch,b=v.keys();let w=Y.resolve();return b.forEach(x=>{w=w.next(()=>g.getEntry(h,x)).next(N=>{const D=m.docVersions.get(x);Tt(D!==null),N.version.compareTo(D)<0&&(v.applyToRemoteDocument(N,m),N.isValidDocument()&&(N.setReadTime(m.commitVersion),g.addEntry(N)))})}),w.next(()=>f.mutationQueue.removeMutationBatch(h,v))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let h=jt();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(h=h.add(f.batch.mutations[m].key));return h}(t))).next(()=>e.localDocuments.getDocuments(i,s))})}function vD(n){const t=Dt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Hr.getLastRemoteSnapshotVersion(e))}function rU(n,t){const e=Dt(n),i=t.snapshotVersion;let s=e.Ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=e.ds.newChangeBuffer({trackRemovals:!0});s=e.Ts;const f=[];t.targetChanges.forEach((g,v)=>{const b=s.get(v);if(!b)return;f.push(e.Hr.removeMatchingKeys(o,g.removedDocuments,v).next(()=>e.Hr.addMatchingKeys(o,g.addedDocuments,v)));let w=b.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(v)!==null?w=w.withResumeToken(He.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):g.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(g.resumeToken,i)),s=s.insert(v,w),function(N,D,V){return N.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=eU?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(b,w,g)&&f.push(e.Hr.updateTargetData(o,w))});let h=li(),m=jt();if(t.documentUpdates.forEach(g=>{t.resolvedLimboDocuments.has(g)&&f.push(e.persistence.referenceDelegate.updateLimboDocument(o,g))}),f.push(sU(o,u,t.documentUpdates).next(g=>{h=g.Vs,m=g.fs})),!i.isEqual(At.min())){const g=e.Hr.getLastRemoteSnapshotVersion(o).next(v=>e.Hr.setTargetsMetadata(o,o.currentSequenceNumber,i));f.push(g)}return Y.waitFor(f).next(()=>u.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,h,m)).next(()=>h)}).then(o=>(e.Ts=s,o))}function sU(n,t,e){let i=jt(),s=jt();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let u=li();return e.forEach((f,h)=>{const m=o.get(f);h.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(f)),h.isNoDocument()&&h.version.isEqual(At.min())?(t.removeEntry(f,h.readTime),u=u.insert(f,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||h.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(h),u=u.insert(f,h)):at(Rb,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",h.version)}),{Vs:u,fs:s}})}function aU(n,t){const e=Dt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=xo),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function oU(n,t){const e=Dt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return e.Hr.getTargetData(i,t).next(o=>o?(s=o,Y.resolve(s)):e.Hr.allocateTargetId(i).next(u=>(s=new ts(t,u,"TargetPurposeListen",i.currentSequenceNumber),e.Hr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=e.Ts.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.Ts=e.Ts.insert(i.targetId,i),e.Is.set(t,i.targetId)),i})}async function V0(n,t,e){const i=Dt(n),s=i.Ts.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!Na(u))throw u;at(Rb,`Failed to update sequence numbers for target ${t}: ${u}`)}i.Ts=i.Ts.remove(t),i.Is.delete(s.target)}function ux(n,t,e){const i=Dt(n);let s=At.min(),o=jt();return i.persistence.runTransaction("Execute query","readwrite",u=>function(h,m,g){const v=Dt(h),b=v.Is.get(g);return b!==void 0?Y.resolve(v.Ts.get(b)):v.Hr.getTargetData(m,g)}(i,u,Vi(t)).next(f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(u,f.targetId).next(h=>{o=h})}).next(()=>i.Ps.getDocumentsMatchingQuery(u,t,e?s:At.min(),e?o:jt())).next(f=>(lU(i,$9(t),f),{documents:f,gs:o})))}function lU(n,t,e){let i=n.Es.get(t)||At.min();e.forEach((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Es.set(t,i)}class cx{constructor(){this.activeTargetIds=J9()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class _D{constructor(){this.ho=new cx,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,e,i){this.Po[t]=e}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new cx,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx="ConnectivityMonitor";class hx{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){at(fx,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){at(fx,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kd=null;function k0(){return Kd===null?Kd=function(){return 268435456+Math.round(2147483648*Math.random())}():Kd++,"0x"+Kd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="RestConnection",cU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fU{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=e+"://"+t.host,this.yo=`projects/${i}/databases/${s}`,this.wo=this.databaseId.database===jm?`project_id=${i}`:`project_id=${i}&database_id=${s}`}So(t,e,i,s,o){const u=k0(),f=this.bo(t,e.toUriEncodedString());at(xv,`Sending RPC '${t}' ${u}:`,f,i);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,s,o),this.vo(t,f,h,i).then(m=>(at(xv,`Received RPC '${t}' ${u}: `,m),m),m=>{throw Pf(xv,`RPC '${t}' ${u} failed with error: `,m,"url: ",f,"request:",i),m})}Co(t,e,i,s,o,u){return this.So(t,e,i,s,o)}Do(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Du}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}bo(t,e){const i=cU[t];return`${this.po}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Ko(t){this.ko(t)}Uo(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn="WebChannelConnection";class dU extends fU{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,e,i,s){const o=k0();return new Promise((u,f)=>{const h=new HC;h.setWithCredentials(!0),h.listenOnce(GC.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case sm.NO_ERROR:const g=h.getResponseJson();at(Pn,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(g)),u(g);break;case sm.TIMEOUT:at(Pn,`RPC '${t}' ${o} timed out`),f(new gt(it.DEADLINE_EXCEEDED,"Request time out"));break;case sm.HTTP_ERROR:const v=h.getStatus();if(at(Pn,`RPC '${t}' ${o} failed with status:`,v,"response text:",h.getResponseText()),v>0){let b=h.getResponseJson();Array.isArray(b)&&(b=b[0]);const w=b==null?void 0:b.error;if(w&&w.status&&w.message){const x=function(D){const V=D.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(V)>=0?V:it.UNKNOWN}(w.status);f(new gt(x,w.message))}else f(new gt(it.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new gt(it.UNAVAILABLE,"Connection failed."));break;default:vt()}}finally{at(Pn,`RPC '${t}' ${o} completed.`)}});const m=JSON.stringify(s);at(Pn,`RPC '${t}' ${o} sending request:`,s),h.send(e,"POST",m,i,15)})}Wo(t,e,i){const s=k0(),o=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=YC(),f=$C(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,e,i),h.encodeInitMessageHeaders=!0;const g=o.join("");at(Pn,`Creating RPC '${t}' stream ${s}: ${g}`,h);const v=u.createWebChannel(g,h);let b=!1,w=!1;const x=new hU({Fo:D=>{w?at(Pn,`Not sending because RPC '${t}' stream ${s} is closed:`,D):(b||(at(Pn,`Opening RPC '${t}' stream ${s} transport.`),v.open(),b=!0),at(Pn,`RPC '${t}' stream ${s} sending:`,D),v.send(D))},Mo:()=>v.close()}),N=(D,V,B)=>{D.listen(V,j=>{try{B(j)}catch(Z){setTimeout(()=>{throw Z},0)}})};return N(v,Zc.EventType.OPEN,()=>{w||(at(Pn,`RPC '${t}' stream ${s} transport opened.`),x.Qo())}),N(v,Zc.EventType.CLOSE,()=>{w||(w=!0,at(Pn,`RPC '${t}' stream ${s} transport closed`),x.Ko())}),N(v,Zc.EventType.ERROR,D=>{w||(w=!0,Pf(Pn,`RPC '${t}' stream ${s} transport errored:`,D),x.Ko(new gt(it.UNAVAILABLE,"The operation could not be completed")))}),N(v,Zc.EventType.MESSAGE,D=>{var V;if(!w){const B=D.data[0];Tt(!!B);const j=B,Z=(j==null?void 0:j.error)||((V=j[0])===null||V===void 0?void 0:V.error);if(Z){at(Pn,`RPC '${t}' stream ${s} received error:`,Z);const G=Z.status;let J=function(R){const M=qe[R];if(M!==void 0)return B2(M)}(G),O=Z.message;J===void 0&&(J=it.INTERNAL,O="Unknown error status: "+G+" with message "+Z.message),w=!0,x.Ko(new gt(J,O)),v.close()}else at(Pn,`RPC '${t}' stream ${s} received:`,B),x.Uo(B)}}),N(f,KC.STAT_EVENT,D=>{D.stat===g0.PROXY?at(Pn,`RPC '${t}' stream ${s} detected buffering proxy`):D.stat===g0.NOPROXY&&at(Pn,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.$o()},0),x}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mU(){return typeof window<"u"?window:null}function mm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(n){return new gj(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(t,e,i=1e3,s=1.5,o=6e4){this.Ti=t,this.timerId=e,this.Go=i,this.zo=s,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const e=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),s=Math.max(0,e-i);s>0&&at("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="PersistentStream";class TD{constructor(t,e,i,s,o,u,f,h){this.Ti=t,this.n_=i,this.r_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new bD(t,e)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,e){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():e&&e.code===it.RESOURCE_EXHAUSTED?(qn(e.toString()),qn("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):e&&e.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(e)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),e=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.i_===e&&this.V_(i,s)},i=>{t(()=>{const s=new gt(it.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(s)})})}V_(t,e){const i=this.R_(this.i_);this.stream=this.f_(t,e),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{i(()=>this.m_(s))}),this.stream.onMessage(s=>{i(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return at(dx,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return e=>{this.Ti.enqueueAndForget(()=>this.i_===t?e():(at(dx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pU extends TD{constructor(t,e,i,s,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,s,u),this.serializer=o}f_(t,e){return this.connection.Wo("Listen",t,e)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const e=_j(this.serializer,t),i=function(o){if(!("targetChange"in o))return At.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?At.min():u.readTime?Kn(u.readTime):At.min()}(t);return this.listener.p_(e,i)}y_(t){const e={};e.database=D0(this.serializer),e.addTarget=function(o,u){let f;const h=u.target;if(f=Bm(h)?{documents:Y2(o,h)}:{query:Q2(o,h).ht},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=q2(o,u.resumeToken);const m=I0(o,u.expectedCount);m!==null&&(f.expectedCount=m)}else if(u.snapshotVersion.compareTo(At.min())>0){f.readTime=bu(o,u.snapshotVersion.toTimestamp());const m=I0(o,u.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,t);const i=Tj(this.serializer,t);i&&(e.labels=i),this.I_(e)}w_(t){const e={};e.database=D0(this.serializer),e.removeTarget=t,this.I_(e)}}class gU extends TD{constructor(t,e,i,s,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,s,u),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,e){return this.connection.Wo("Write",t,e)}g_(t){return Tt(!!t.streamToken),this.lastStreamToken=t.streamToken,Tt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Tt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const e=bj(t.writeResults,t.commitTime),i=Kn(t.commitTime);return this.listener.v_(i,e)}C_(){const t={};t.database=D0(this.serializer),this.I_(t)}b_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>qm(this.serializer,i))};this.I_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{}class vU extends yU{constructor(t,e,i,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new gt(it.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,e,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.So(t,C0(e,i),s,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new gt(it.UNKNOWN,o.toString())})}Co(t,e,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Co(t,C0(e,i),s,u,f,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new gt(it.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class _U{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(qn(e),this.N_=!1):at("OnlineStateTracker",e)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo="RemoteStore";class bU{constructor(t,e,i,s,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(u=>{i.enqueueAndForget(async()=>{Ho(this)&&(at(Lo,"Restarting streams for network reachability change."),await async function(h){const m=Dt(h);m.W_.add(4),await uh(m),m.j_.set("Unknown"),m.W_.delete(4),await jp(m)}(this))})}),this.j_=new _U(i,s)}}async function jp(n){if(Ho(n))for(const t of n.G_)await t(!0)}async function uh(n){for(const t of n.G_)await t(!1)}function ED(n,t){const e=Dt(n);e.U_.has(t.targetId)||(e.U_.set(t.targetId,t),Pb(e)?Db(e):Pu(e).c_()&&Cb(e,t))}function Ib(n,t){const e=Dt(n),i=Pu(e);e.U_.delete(t),i.c_()&&wD(e,t),e.U_.size===0&&(i.c_()?i.P_():Ho(e)&&e.j_.set("Unknown"))}function Cb(n,t){if(n.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Pu(n).y_(t)}function wD(n,t){n.H_.Ne(t),Pu(n).w_(t)}function Db(n){n.H_=new hj({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>n.U_.get(t)||null,it:()=>n.datastore.serializer.databaseId}),Pu(n).start(),n.j_.B_()}function Pb(n){return Ho(n)&&!Pu(n).u_()&&n.U_.size>0}function Ho(n){return Dt(n).W_.size===0}function SD(n){n.H_=void 0}async function TU(n){n.j_.set("Online")}async function EU(n){n.U_.forEach((t,e)=>{Cb(n,t)})}async function wU(n,t){SD(n),Pb(n)?(n.j_.q_(t),Db(n)):n.j_.set("Unknown")}async function SU(n,t,e){if(n.j_.set("Online"),t instanceof F2&&t.state===2&&t.cause)try{await async function(s,o){const u=o.cause;for(const f of o.targetIds)s.U_.has(f)&&(await s.remoteSyncer.rejectListen(f,u),s.U_.delete(f),s.H_.removeTarget(f))}(n,t)}catch(i){at(Lo,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Ym(n,i)}else if(t instanceof dm?n.H_.We(t):t instanceof z2?n.H_.Ze(t):n.H_.je(t),!e.isEqual(At.min()))try{const i=await vD(n.localStore);e.compareTo(i)>=0&&await function(o,u){const f=o.H_.ot(u);return f.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const g=o.U_.get(m);g&&o.U_.set(m,g.withResumeToken(h.resumeToken,u))}}),f.targetMismatches.forEach((h,m)=>{const g=o.U_.get(h);if(!g)return;o.U_.set(h,g.withResumeToken(He.EMPTY_BYTE_STRING,g.snapshotVersion)),wD(o,h);const v=new ts(g.target,h,m,g.sequenceNumber);Cb(o,v)}),o.remoteSyncer.applyRemoteEvent(f)}(n,e)}catch(i){at(Lo,"Failed to raise snapshot:",i),await Ym(n,i)}}async function Ym(n,t,e){if(!Na(t))throw t;n.W_.add(1),await uh(n),n.j_.set("Offline"),e||(e=()=>vD(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{at(Lo,"Retrying IndexedDB access"),await e(),n.W_.delete(1),await jp(n)})}function AD(n,t){return t().catch(e=>Ym(n,e,t))}async function ch(n){const t=Dt(n),e=Sa(t);let i=t.K_.length>0?t.K_[t.K_.length-1].batchId:xo;for(;AU(t);)try{const s=await aU(t.localStore,i);if(s===null){t.K_.length===0&&e.P_();break}i=s.batchId,xU(t,s)}catch(s){await Ym(t,s)}xD(t)&&RD(t)}function AU(n){return Ho(n)&&n.K_.length<10}function xU(n,t){n.K_.push(t);const e=Sa(n);e.c_()&&e.S_&&e.b_(t.mutations)}function xD(n){return Ho(n)&&!Sa(n).u_()&&n.K_.length>0}function RD(n){Sa(n).start()}async function RU(n){Sa(n).C_()}async function IU(n){const t=Sa(n);for(const e of n.K_)t.b_(e.mutations)}async function CU(n,t,e){const i=n.K_.shift(),s=yb.from(i,t,e);await AD(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await ch(n)}async function DU(n,t){t&&Sa(n).S_&&await async function(i,s){if(function(u){return uj(u)&&u!==it.ABORTED}(s.code)){const o=i.K_.shift();Sa(i).h_(),await AD(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),await ch(i)}}(n,t),xD(n)&&RD(n)}async function mx(n,t){const e=Dt(n);e.asyncQueue.verifyOperationInProgress(),at(Lo,"RemoteStore received new credentials");const i=Ho(e);e.W_.add(3),await uh(e),i&&e.j_.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.W_.delete(3),await jp(e)}async function PU(n,t){const e=Dt(n);t?(e.W_.delete(2),await jp(e)):t||(e.W_.add(2),await uh(e),e.j_.set("Unknown"))}function Pu(n){return n.J_||(n.J_=function(e,i,s){const o=Dt(e);return o.M_(),new pU(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{xo:TU.bind(null,n),No:EU.bind(null,n),Lo:wU.bind(null,n),p_:SU.bind(null,n)}),n.G_.push(async t=>{t?(n.J_.h_(),Pb(n)?Db(n):n.j_.set("Unknown")):(await n.J_.stop(),SD(n))})),n.J_}function Sa(n){return n.Y_||(n.Y_=function(e,i,s){const o=Dt(e);return o.M_(),new gU(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:RU.bind(null,n),Lo:DU.bind(null,n),D_:IU.bind(null,n),v_:CU.bind(null,n)}),n.G_.push(async t=>{t?(n.Y_.h_(),await ch(n)):(await n.Y_.stop(),n.K_.length>0&&(at(Lo,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(t,e,i,s,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,s,o){const u=Date.now()+i,f=new Nb(t,e,u,s,o);return f.start(i),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(it.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ob(n,t){if(qn("AsyncQueue",`${t}: ${n}`),Na(n))return new gt(it.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{static emptySet(t){return new Jl(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||mt.comparator(e.key,i.key):(e,i)=>mt.comparator(e.key,i.key),this.keyedMap=Jc(),this.sortedSet=new be(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Jl)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Jl;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(){this.Z_=new be(mt.comparator)}track(t){const e=t.doc.key,i=this.Z_.get(e);i?t.type!==0&&i.type===3?this.Z_=this.Z_.insert(e,t):t.type===3&&i.type!==1?this.Z_=this.Z_.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Z_=this.Z_.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Z_=this.Z_.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Z_=this.Z_.remove(e):t.type===1&&i.type===2?this.Z_=this.Z_.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Z_=this.Z_.insert(e,{type:2,doc:t.doc}):vt():this.Z_=this.Z_.insert(e,t)}X_(){const t=[];return this.Z_.inorderTraversal((e,i)=>{t.push(i)}),t}}class Tu{constructor(t,e,i,s,o,u,f,h,m){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=m}static fromInitialDocuments(t,e,i,s,o){const u=[];return e.forEach(f=>{u.push({type:0,doc:f})}),new Tu(t,e,Jl.emptySet(e),u,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Dp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==i[s].type||!e[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class OU{constructor(){this.queries=gx(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(e,i){const s=Dt(e),o=s.queries;s.queries=gx(),o.forEach((u,f)=>{for(const h of f.ta)h.onError(i)})})(this,new gt(it.ABORTED,"Firestore shutting down"))}}function gx(){return new ys(n=>R2(n),Dp)}async function MU(n,t){const e=Dt(n);let i=3;const s=t.query;let o=e.queries.get(s);o?!o.na()&&t.ra()&&(i=2):(o=new NU,i=t.ra()?0:1);try{switch(i){case 0:o.ea=await e.onListen(s,!0);break;case 1:o.ea=await e.onListen(s,!1);break;case 2:await e.onFirstRemoteStoreListen(s)}}catch(u){const f=Ob(u,`Initialization of query '${Bl(t.query)}' failed`);return void t.onError(f)}e.queries.set(s,o),o.ta.push(t),t.sa(e.onlineState),o.ea&&t.oa(o.ea)&&Mb(e)}async function VU(n,t){const e=Dt(n),i=t.query;let s=3;const o=e.queries.get(i);if(o){const u=o.ta.indexOf(t);u>=0&&(o.ta.splice(u,1),o.ta.length===0?s=t.ra()?0:1:!o.na()&&t.ra()&&(s=2))}switch(s){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function kU(n,t){const e=Dt(n);let i=!1;for(const s of t){const o=s.query,u=e.queries.get(o);if(u){for(const f of u.ta)f.oa(s)&&(i=!0);u.ea=s}}i&&Mb(e)}function LU(n,t,e){const i=Dt(n),s=i.queries.get(t);if(s)for(const o of s.ta)o.onError(e);i.queries.delete(t)}function Mb(n){n.ia.forEach(t=>{t.next()})}var L0,yx;(yx=L0||(L0={}))._a="default",yx.Cache="cache";class jU{constructor(t,e,i){this.query=t,this.aa=e,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new Tu(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.ua?this.la(t)&&(this.aa.next(t),e=!0):this.ha(t,this.onlineState)&&(this.Pa(t),e=!0),this.ca=t,e}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let e=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),e=!0),e}ha(t,e){if(!t.fromCache||!this.ra())return!0;const i=e!=="Offline";return(!this.options.Ta||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}la(t){if(t.docChanges.length>0)return!0;const e=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}Pa(t){t=Tu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==L0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(t){this.key=t}}class CD{constructor(t){this.key=t}}class UU{constructor(t,e){this.query=t,this.fa=e,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=jt(),this.mutatedKeys=jt(),this.ya=I2(t),this.wa=new Jl(this.ya)}get Sa(){return this.fa}ba(t,e){const i=e?e.Da:new px,s=e?e.wa:this.wa;let o=e?e.mutatedKeys:this.mutatedKeys,u=s,f=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((g,v)=>{const b=s.get(g),w=ah(this.query,v)?v:null,x=!!b&&this.mutatedKeys.has(b.key),N=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let D=!1;b&&w?b.data.isEqual(w.data)?x!==N&&(i.track({type:3,doc:w}),D=!0):this.va(b,w)||(i.track({type:2,doc:w}),D=!0,(h&&this.ya(w,h)>0||m&&this.ya(w,m)<0)&&(f=!0)):!b&&w?(i.track({type:0,doc:w}),D=!0):b&&!w&&(i.track({type:1,doc:b}),D=!0,(h||m)&&(f=!0)),D&&(w?(u=u.add(w),o=N?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),i.track({type:1,doc:g})}return{wa:u,Da:i,ls:f,mutatedKeys:o}}va(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,s){const o=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const u=t.Da.X_();u.sort((g,v)=>function(w,x){const N=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt()}};return N(w)-N(x)}(g.type,v.type)||this.ya(g.doc,v.doc)),this.Ca(i),s=s!=null&&s;const f=e&&!s?this.Fa():[],h=this.pa.size===0&&this.current&&!s?1:0,m=h!==this.ga;return this.ga=h,u.length!==0||m?{snapshot:new Tu(this.query,t.wa,o,u,t.mutatedKeys,h===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new px,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(e=>this.fa=this.fa.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.fa=this.fa.delete(e)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=jt(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const e=[];return t.forEach(i=>{this.pa.has(i)||e.push(new CD(i))}),this.pa.forEach(i=>{t.has(i)||e.push(new ID(i))}),e}Oa(t){this.fa=t.gs,this.pa=jt();const e=this.ba(t.documents);return this.applyChanges(e,!0)}Na(){return Tu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Vb="SyncEngine";class BU{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class zU{constructor(t){this.key=t,this.Ba=!1}}class FU{constructor(t,e,i,s,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new ys(f=>R2(f),Dp),this.qa=new Map,this.Qa=new Set,this.$a=new be(mt.comparator),this.Ka=new Map,this.Ua=new wb,this.Wa={},this.Ga=new Map,this.za=ko.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function qU(n,t,e=!0){const i=VD(n);let s;const o=i.ka.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.Na()):s=await DD(i,t,e,!0),s}async function HU(n,t){const e=VD(n);await DD(e,t,!0,!1)}async function DD(n,t,e,i){const s=await oU(n.localStore,Vi(t)),o=s.targetId,u=n.sharedClientState.addLocalQueryTarget(o,e);let f;return i&&(f=await GU(n,t,o,u==="current",s.resumeToken)),n.isPrimaryClient&&e&&ED(n.remoteStore,s),f}async function GU(n,t,e,i,s){n.Ha=(v,b,w)=>async function(N,D,V,B){let j=D.view.ba(V);j.ls&&(j=await ux(N.localStore,D.query,!1).then(({documents:O})=>D.view.ba(O,j)));const Z=B&&B.targetChanges.get(D.targetId),G=B&&B.targetMismatches.get(D.targetId)!=null,J=D.view.applyChanges(j,N.isPrimaryClient,Z,G);return _x(N,D.targetId,J.Ma),J.snapshot}(n,v,b,w);const o=await ux(n.localStore,t,!0),u=new UU(t,o.gs),f=u.ba(o.documents),h=lh.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",s),m=u.applyChanges(f,n.isPrimaryClient,h);_x(n,e,m.Ma);const g=new BU(t,e,u);return n.ka.set(t,g),n.qa.has(e)?n.qa.get(e).push(t):n.qa.set(e,[t]),m.snapshot}async function KU(n,t,e){const i=Dt(n),s=i.ka.get(t),o=i.qa.get(s.targetId);if(o.length>1)return i.qa.set(s.targetId,o.filter(u=>!Dp(u,t))),void i.ka.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await V0(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),e&&Ib(i.remoteStore,s.targetId),j0(i,s.targetId)}).catch(qo)):(j0(i,s.targetId),await V0(i.localStore,s.targetId,!0))}async function $U(n,t){const e=Dt(n),i=e.ka.get(t),s=e.qa.get(i.targetId);e.isPrimaryClient&&s.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),Ib(e.remoteStore,i.targetId))}async function YU(n,t,e){const i=kD(n);try{const s=await function(u,f){const h=Dt(u),m=Re.now(),g=f.reduce((w,x)=>w.add(x.key),jt());let v,b;return h.persistence.runTransaction("Locally write mutations","readwrite",w=>{let x=li(),N=jt();return h.ds.getEntries(w,g).next(D=>{x=D,x.forEach((V,B)=>{B.isValidDocument()||(N=N.add(V))})}).next(()=>h.localDocuments.getOverlayedDocuments(w,x)).next(D=>{v=D;const V=[];for(const B of f){const j=oj(B,v.get(B.key).overlayedDocument);j!=null&&V.push(new Ma(B.key,j,_2(j.value.mapValue),ui.exists(!0)))}return h.mutationQueue.addMutationBatch(w,m,V,f)}).next(D=>{b=D;const V=D.applyToLocalDocumentSet(v,N);return h.documentOverlayCache.saveOverlays(w,D.batchId,V)})}).then(()=>({batchId:b.batchId,changes:D2(v)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(u,f,h){let m=u.Wa[u.currentUser.toKey()];m||(m=new be(Ot)),m=m.insert(f,h),u.Wa[u.currentUser.toKey()]=m}(i,s.batchId,e),await fh(i,s.changes),await ch(i.remoteStore)}catch(s){const o=Ob(s,"Failed to persist write");e.reject(o)}}async function PD(n,t){const e=Dt(n);try{const i=await rU(e.localStore,t);t.targetChanges.forEach((s,o)=>{const u=e.Ka.get(o);u&&(Tt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.Ba=!0:s.modifiedDocuments.size>0?Tt(u.Ba):s.removedDocuments.size>0&&(Tt(u.Ba),u.Ba=!1))}),await fh(e,i,t)}catch(i){await qo(i)}}function vx(n,t,e){const i=Dt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const s=[];i.ka.forEach((o,u)=>{const f=u.view.sa(t);f.snapshot&&s.push(f.snapshot)}),function(u,f){const h=Dt(u);h.onlineState=f;let m=!1;h.queries.forEach((g,v)=>{for(const b of v.ta)b.sa(f)&&(m=!0)}),m&&Mb(h)}(i.eventManager,t),s.length&&i.La.p_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function QU(n,t,e){const i=Dt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const s=i.Ka.get(t),o=s&&s.key;if(o){let u=new be(mt.comparator);u=u.insert(o,Me.newNoDocument(o,At.min()));const f=jt().add(o),h=new Op(At.min(),new Map,new be(Ot),u,f);await PD(i,h),i.$a=i.$a.remove(o),i.Ka.delete(t),kb(i)}else await V0(i.localStore,t,!1).then(()=>j0(i,t,e)).catch(qo)}async function XU(n,t){const e=Dt(n),i=t.batch.batchId;try{const s=await iU(e.localStore,t);OD(e,i,null),ND(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await fh(e,s)}catch(s){await qo(s)}}async function WU(n,t,e){const i=Dt(n);try{const s=await function(u,f){const h=Dt(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let g;return h.mutationQueue.lookupMutationBatch(m,f).next(v=>(Tt(v!==null),g=v.keys(),h.mutationQueue.removeMutationBatch(m,v))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,g,f)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g)).next(()=>h.localDocuments.getDocuments(m,g))})}(i.localStore,t);OD(i,t,e),ND(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await fh(i,s)}catch(s){await qo(s)}}function ND(n,t){(n.Ga.get(t)||[]).forEach(e=>{e.resolve()}),n.Ga.delete(t)}function OD(n,t,e){const i=Dt(n);let s=i.Wa[i.currentUser.toKey()];if(s){const o=s.get(t);o&&(e?o.reject(e):o.resolve(),s=s.remove(t)),i.Wa[i.currentUser.toKey()]=s}}function j0(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.qa.get(t))n.ka.delete(i),e&&n.La.Ja(i,e);n.qa.delete(t),n.isPrimaryClient&&n.Ua.br(t).forEach(i=>{n.Ua.containsKey(i)||MD(n,i)})}function MD(n,t){n.Qa.delete(t.path.canonicalString());const e=n.$a.get(t);e!==null&&(Ib(n.remoteStore,e),n.$a=n.$a.remove(t),n.Ka.delete(e),kb(n))}function _x(n,t,e){for(const i of e)i instanceof ID?(n.Ua.addReference(i.key,t),ZU(n,i)):i instanceof CD?(at(Vb,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,t),n.Ua.containsKey(i.key)||MD(n,i.key)):vt()}function ZU(n,t){const e=t.key,i=e.path.canonicalString();n.$a.get(e)||n.Qa.has(i)||(at(Vb,"New document in limbo: "+e),n.Qa.add(i),kb(n))}function kb(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const t=n.Qa.values().next().value;n.Qa.delete(t);const e=new mt(ne.fromString(t)),i=n.za.next();n.Ka.set(i,new zU(e)),n.$a=n.$a.insert(e,i),ED(n.remoteStore,new ts(Vi(db(e.path)),i,"TargetPurposeLimboResolution",Oi.ae))}}async function fh(n,t,e){const i=Dt(n),s=[],o=[],u=[];i.ka.isEmpty()||(i.ka.forEach((f,h)=>{u.push(i.Ha(h,t,e).then(m=>{var g;if((m||e)&&i.isPrimaryClient){const v=m?!m.fromCache:(g=e==null?void 0:e.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;i.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(m){s.push(m);const v=xb.Yi(h.targetId,m);o.push(v)}}))}),await Promise.all(u),i.La.p_(s),await async function(h,m){const g=Dt(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>Y.forEach(m,b=>Y.forEach(b.Hi,w=>g.persistence.referenceDelegate.addReference(v,b.targetId,w)).next(()=>Y.forEach(b.Ji,w=>g.persistence.referenceDelegate.removeReference(v,b.targetId,w)))))}catch(v){if(!Na(v))throw v;at(Rb,"Failed to update sequence numbers: "+v)}for(const v of m){const b=v.targetId;if(!v.fromCache){const w=g.Ts.get(b),x=w.snapshotVersion,N=w.withLastLimboFreeSnapshotVersion(x);g.Ts=g.Ts.insert(b,N)}}}(i.localStore,o))}async function JU(n,t){const e=Dt(n);if(!e.currentUser.isEqual(t)){at(Vb,"User change. New user:",t.toKey());const i=await yD(e.localStore,t);e.currentUser=t,function(o,u){o.Ga.forEach(f=>{f.forEach(h=>{h.reject(new gt(it.CANCELLED,u))})}),o.Ga.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await fh(e,i.Rs)}}function tB(n,t){const e=Dt(n),i=e.Ka.get(t);if(i&&i.Ba)return jt().add(i.key);{let s=jt();const o=e.qa.get(t);if(!o)return s;for(const u of o){const f=e.ka.get(u);s=s.unionWith(f.view.Sa)}return s}}function VD(n){const t=Dt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=PD.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=tB.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=QU.bind(null,t),t.La.p_=kU.bind(null,t.eventManager),t.La.Ja=LU.bind(null,t.eventManager),t}function kD(n){const t=Dt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=XU.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=WU.bind(null,t),t}class qf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Lp(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,e){return null}nu(t,e){return null}eu(t){return gD(this.persistence,new pD,t.initialUser,this.serializer)}Xa(t){return new Sb(kp.ri,this.serializer)}Za(t){return new _D}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qf.provider={build:()=>new qf};class eB extends qf{constructor(t){super(),this.cacheSizeBytes=t}tu(t,e){Tt(this.persistence.referenceDelegate instanceof $m);const i=this.persistence.referenceDelegate.garbageCollector;return new cD(i,t.asyncQueue,e)}Xa(t){const e=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new Sb(i=>$m.ri(i,e),this.serializer)}}class nB extends qf{constructor(t,e,i){super(),this.ru=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.ru.initialize(this,t),await kD(this.ru.syncEngine),await ch(this.ru.remoteStore),await this.persistence.Ci(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}eu(t){return gD(this.persistence,new pD,t.initialUser,this.serializer)}tu(t,e){const i=this.persistence.referenceDelegate.garbageCollector;return new cD(i,t.asyncQueue,e)}nu(t,e){const i=new r9(e,this.persistence);return new i9(t.asyncQueue,i)}Xa(t){const e=Jj(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new Ab(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,mU(),mm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Za(t){return new _D}}class Qm{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>vx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=JU.bind(null,this.syncEngine),await PU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new OU}()}createDatastore(t){const e=Lp(t.databaseInfo.databaseId),i=function(o){return new dU(o)}(t.databaseInfo);return function(o,u,f,h){return new vU(o,u,f,h)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,s,o,u,f){return new bU(i,s,o,u,f)}(this.localStore,this.datastore,t.asyncQueue,e=>vx(this.syncEngine,e,0),function(){return hx.D()?new hx:new uU}())}createSyncEngine(t,e){return function(s,o,u,f,h,m,g){const v=new FU(s,o,u,f,h,m);return g&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(s){const o=Dt(s);at(Lo,"RemoteStore shutting down."),o.W_.add(5),await uh(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}Qm.provider={build:()=>new Qm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):qn("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="FirestoreClient";class rB{constructor(t,e,i,s,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=s,this.user=Fn.UNAUTHENTICATED,this.clientId=QC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async u=>{at(Aa,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(at(Aa,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=Ob(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Rv(n,t){n.asyncQueue.verifyOperationInProgress(),at(Aa,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await yD(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function bx(n,t){n.asyncQueue.verifyOperationInProgress();const e=await sB(n);at(Aa,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>mx(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>mx(t.remoteStore,s)),n._onlineComponents=t}async function sB(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){at(Aa,"Using user provided OfflineComponentProvider");try{await Rv(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(s){return s.name==="FirebaseError"?s.code===it.FAILED_PRECONDITION||s.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(e))throw e;Pf("Error using user provided cache. Falling back to memory cache: "+e),await Rv(n,new qf)}}else at(Aa,"Using default OfflineComponentProvider"),await Rv(n,new eB(void 0));return n._offlineComponents}async function LD(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(at(Aa,"Using user provided OnlineComponentProvider"),await bx(n,n._uninitializedComponentsProvider._online)):(at(Aa,"Using default OnlineComponentProvider"),await bx(n,new Qm))),n._onlineComponents}function aB(n){return LD(n).then(t=>t.syncEngine)}async function oB(n){const t=await LD(n),e=t.eventManager;return e.onListen=qU.bind(null,t.syncEngine),e.onUnlisten=KU.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=HU.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=$U.bind(null,t.syncEngine),e}function lB(n,t,e={}){const i=new os;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,f,h,m){const g=new iB({next:b=>{g.su(),u.enqueueAndForget(()=>VU(o,v)),b.fromCache&&h.source==="server"?m.reject(new gt(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(b)},error:b=>m.reject(b)}),v=new jU(f,g,{includeMetadataChanges:!0,Ta:!0});return MU(o,v)}(await oB(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(n,t,e){if(!e)throw new gt(it.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function uB(n,t,e,i){if(t===!0&&i===!0)throw new gt(it.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Ex(n){if(!mt.isDocumentKey(n))throw new gt(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function wx(n){if(mt.isDocumentKey(n))throw new gt(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Lb(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":vt()}function Xm(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new gt(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Lb(n);throw new gt(it.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cB="firestore.googleapis.com",Sx=!0;class Ax{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new gt(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cB,this.ssl=Sx}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:Sx;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=sD;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<uD)throw new gt(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}uB("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jD((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new gt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new gt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new gt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class jb{constructor(t,e,i,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ax({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new gt(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ax(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new $6;switch(i.type){case"firstParty":return new X6(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new gt(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=Tx.get(e);i&&(at("ComponentProvider","Removing Datastore"),Tx.delete(e),i.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Up(this.firestore,t,this._query)}}class ki{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ya(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ki(this.firestore,t,this._key)}}class ya extends Up{constructor(t,e,i){super(t,e,db(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ki(this.firestore,null,new mt(t))}withConverter(t){return new ya(this.firestore,t,this._path)}}function fB(n,t,...e){if(n=Xn(n),UD("collection","path",t),n instanceof jb){const i=ne.fromString(t,...e);return wx(i),new ya(n,null,i)}{if(!(n instanceof ki||n instanceof ya))throw new gt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ne.fromString(t,...e));return wx(i),new ya(n.firestore,null,i)}}function hB(n,t,...e){if(n=Xn(n),arguments.length===1&&(t=QC.newId()),UD("doc","path",t),n instanceof jb){const i=ne.fromString(t,...e);return Ex(i),new ki(n,null,new mt(i))}{if(!(n instanceof ki||n instanceof ya))throw new gt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ne.fromString(t,...e));return Ex(i),new ki(n.firestore,n instanceof ya?n.converter:null,new mt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx="AsyncQueue";class Rx{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new bD(this,"async_queue_retry"),this.Su=()=>{const i=mm();i&&at(xx,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=t;const e=mm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const e=mm();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const e=new os;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Na(t))throw t;at(xx,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const e=this.bu.then(()=>(this.pu=!0,t().catch(i=>{this.gu=i,this.pu=!1;const s=function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),f}(i);throw qn("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.pu=!1,i))));return this.bu=e,e}enqueueAfterDelay(t,e,i){this.Du(),this.wu.indexOf(t)>-1&&(e=0);const s=Nb.createAndSchedule(this,t,e,i,o=>this.Fu(o));return this.fu.push(s),s}Du(){this.gu&&vt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const e of this.fu)if(e.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.fu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const e=this.fu.indexOf(t);this.fu.splice(e,1)}}class Ub extends jb{constructor(t,e,i,s){super(t,e,i,s),this.type="firestore",this._queue=new Rx,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Rx(t),this._firestoreClient=void 0,await t}}}function dB(n,t,e){e||(e=jm);const i=tb(n,"firestore");if(i.isInitialized(e)){const s=i.getImmediate({identifier:e}),o=i.getOptions(e);if(Cf(o,t))return s;throw new gt(it.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new gt(it.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<uD)throw new gt(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return i.initialize({options:t,instanceIdentifier:e})}function BD(n){if(n._terminated)throw new gt(it.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||mB(n),n._firestoreClient}function mB(n){var t,e,i;const s=n._freezeSettings(),o=function(f,h,m,g){return new O9(f,h,m,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,jD(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((e=s.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new rB(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(f){const h=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Eu(He.fromBase64String(t))}catch(e){throw new gt(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Eu(He.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new gt(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ae(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new gt(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new gt(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pB=/^__.*__$/;class zD{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Ma(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function FD(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt()}}class qb{constructor(t,e,i,s,o,u){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new qb(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),s=this.ku({path:i,Qu:!1});return s.$u(t),s}Ku(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),s=this.ku({path:i,Qu:!1});return s.Bu(),s}Uu(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Wm(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(FD(this.Lu)&&pB.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class gB{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Lp(t)}ju(t,e,i,s=!1){return new qb({Lu:t,methodName:e,zu:i,path:Ae.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yB(n){const t=n._freezeSettings(),e=Lp(n._databaseId);return new gB(n._databaseId,!!t.ignoreUndefinedProperties,e)}class zp extends Bb{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof zp}}function vB(n,t,e,i){const s=n.ju(1,t,e);HD("Data must be an object, but it was:",s,i);const o=[],u=Hn.empty();Oa(i,(h,m)=>{const g=Hb(t,h,e);m=Xn(m);const v=s.Ku(g);if(m instanceof zp)o.push(g);else{const b=Fp(m,v);b!=null&&(o.push(g),u.set(g,b))}});const f=new Mi(o);return new zD(u,f,s.fieldTransforms)}function _B(n,t,e,i,s,o){const u=n.ju(1,t,e),f=[Ix(t,i,e)],h=[s];if(o.length%2!=0)throw new gt(it.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<o.length;b+=2)f.push(Ix(t,o[b])),h.push(o[b+1]);const m=[],g=Hn.empty();for(let b=f.length-1;b>=0;--b)if(!EB(m,f[b])){const w=f[b];let x=h[b];x=Xn(x);const N=u.Ku(w);if(x instanceof zp)m.push(w);else{const D=Fp(x,N);D!=null&&(m.push(w),g.set(w,D))}}const v=new Mi(m);return new zD(g,v,u.fieldTransforms)}function Fp(n,t){if(qD(n=Xn(n)))return HD("Unsupported field value:",t,n),bB(n,t);if(n instanceof Bb)return function(i,s){if(!FD(s.Lu))throw s.Wu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(i,s){const o=[];let u=0;for(const f of i){let h=Fp(f,s.Uu(u));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),u++}return{arrayValue:{values:o}}}(n,t)}return function(i,s){if((i=Xn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return tj(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Re.fromDate(i);return{timestampValue:bu(s.serializer,o)}}if(i instanceof Re){const o=new Re(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:bu(s.serializer,o)}}if(i instanceof zb)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Eu)return{bytesValue:q2(s.serializer,i._byteString)};if(i instanceof ki){const o=s.databaseId,u=i.firestore._databaseId;if(!u.isEqual(o))throw s.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:bb(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Fb)return function(u,f){return{mapValue:{fields:{[ub]:{stringValue:cb},[mu]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw f.Wu("VectorValues must only contain numeric values.");return mb(f.serializer,m)})}}}}}}(i,s);throw s.Wu(`Unsupported field value: ${Lb(i)}`)}(n,t)}function bB(n,t){const e={};return c2(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Oa(n,(i,s)=>{const o=Fp(s,t.qu(i));o!=null&&(e[i]=o)}),{mapValue:{fields:e}}}function qD(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Re||n instanceof zb||n instanceof Eu||n instanceof ki||n instanceof Bb||n instanceof Fb)}function HD(n,t,e){if(!qD(e)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(e)){const i=Lb(e);throw i==="an object"?t.Wu(n+" a custom object"):t.Wu(n+" "+i)}}function Ix(n,t,e){if((t=Xn(t))instanceof Bp)return t._internalPath;if(typeof t=="string")return Hb(n,t);throw Wm("Field path arguments must be of type string or ",n,!1,void 0,e)}const TB=new RegExp("[~\\*/\\[\\]]");function Hb(n,t,e){if(t.search(TB)>=0)throw Wm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Bp(...t.split("."))._internalPath}catch{throw Wm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Wm(n,t,e,i,s){const o=i&&!i.isEmpty(),u=s!==void 0;let f=`Function ${t}() called with invalid data`;e&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(o||u)&&(h+=" (found",o&&(h+=` in field ${i}`),u&&(h+=` in document ${s}`),h+=")"),new gt(it.INVALID_ARGUMENT,f+n+h)}function EB(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(t,e,i,s,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ki(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new wB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(KD("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class wB extends GD{data(){return super.data()}}function KD(n,t){return typeof t=="string"?Hb(n,t):t instanceof Bp?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SB(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new gt(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AB{convertValue(t,e="none"){switch(Ea(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(fs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw vt()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Oa(t,(s,o)=>{i[s]=this.convertValue(o,e)}),i}convertVectorValue(t){var e,i,s;const o=(s=(i=(e=t.fields)===null||e===void 0?void 0:e[mu].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(u=>_e(u.doubleValue));return new Fb(o)}convertGeoPoint(t){return new zb(_e(t.latitude),_e(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Rp(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(jf(t));default:return null}}convertTimestamp(t){const e=cs(t);return new Re(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ne.fromString(t);Tt(J2(i));const s=new No(i.get(1),i.get(3)),o=new mt(i.popFirst(5));return s.isEqual(e)||qn(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class xB extends GD{constructor(t,e,i,s,o,u){super(t,e,i,s,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new pm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(KD("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class pm extends xB{data(t={}){return super.data(t)}}class RB{constructor(t,e,i,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new $d(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new pm(this._firestore,this._userDataWriter,i.key,i,new $d(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new gt(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(f=>{const h=new pm(s._firestore,s._userDataWriter,f.doc.key,f.doc,new $d(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>o||f.type!==3).map(f=>{const h=new pm(s._firestore,s._userDataWriter,f.doc.key,f.doc,new $d(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,g=-1;return f.type!==0&&(m=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),g=u.indexOf(f.doc.key)),{type:IB(f.type),doc:h,oldIndex:m,newIndex:g}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function IB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt()}}class CB extends AB{constructor(t){super(),this.firestore=t}convertBytes(t){return new Eu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ki(this.firestore,null,e)}}function DB(n){n=Xm(n,Up);const t=Xm(n.firestore,Ub),e=BD(t),i=new CB(t);return SB(n._query),lB(e,n._query).then(s=>new RB(t,i,n,s))}function PB(n,t,e,...i){n=Xm(n,ki);const s=Xm(n.firestore,Ub),o=yB(s);let u;return u=typeof(t=Xn(t))=="string"||t instanceof Bp?_B(o,"updateDoc",n._key,t,e,i):vB(o,"updateDoc",n._key,t),NB(s,[u.toMutation(n._key,ui.exists(!0))])}function NB(n,t){return function(i,s){const o=new os;return i.asyncQueue.enqueueAndForget(async()=>YU(await aB(i),s,o)),o.promise}(BD(n),t)}class OB{constructor(t){let e;this.kind="persistent",t!=null&&t.tabManager?(t.tabManager._initialize(t),e=t.tabManager):(e=$D(),e._initialize(t)),this._onlineComponentProvider=e._onlineComponentProvider,this._offlineComponentProvider=e._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function MB(n){return new OB(n)}class VB{constructor(t){this.forceOwnership=t,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(t){this._onlineComponentProvider=Qm.provider,this._offlineComponentProvider={build:e=>new nB(e,t==null?void 0:t.cacheSizeBytes,this.forceOwnership)}}}function $D(n){return new VB(void 0)}(function(t,e=!0){(function(s){Du=s})(Cu),lu(new Do("firestore",(i,{instanceIdentifier:s,options:o})=>{const u=i.getProvider("app").getImmediate(),f=new Ub(new Y6(i.getProvider("auth-internal")),new W6(u,i.getProvider("app-check-internal")),function(m,g){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new gt(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new No(m.options.projectId,g)}(u,s),u);return o=Object.assign({useFetchStreams:e},o),f._setSettings(o),f},"PUBLIC").setMultipleInstances(!0)),ma(f1,h1,t),ma(f1,h1,"esm2017")})();var kB="firebase",LB="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ma(kB,LB,"app");function Gb(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e}function YD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jB=YD,QD=new nh("auth","Firebase",YD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm=new Z_("@firebase/auth");function UB(n,...t){Zm.logLevel<=Ft.WARN&&Zm.warn(`Auth (${Cu}): ${n}`,...t)}function gm(n,...t){Zm.logLevel<=Ft.ERROR&&Zm.error(`Auth (${Cu}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(n,...t){throw Kb(n,...t)}function Er(n,...t){return Kb(n,...t)}function XD(n,t,e){const i=Object.assign(Object.assign({},jB()),{[t]:e});return new nh("auth","Firebase",i).create(t,{appName:n.name})}function Co(n){return XD(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kb(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return QD.create(n,...t)}function Ct(n,t,...e){if(!n)throw Kb(t,...e)}function es(n){const t="INTERNAL ASSERTION FAILED: "+n;throw gm(t),new Error(t)}function ds(n,t){n||es(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function BB(){return Cx()==="http:"||Cx()==="https:"}function Cx(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BB()||x5()||"connection"in navigator)?navigator.onLine:!0}function FB(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(t,e){this.shortDelay=t,this.longDelay=e,ds(e>t,"Short delay should be less than long delay!"),this.isMobile=w5()||R5()}get(){return zB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(n,t){ds(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB=new hh(3e4,6e4);function Yb(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function Nu(n,t,e,i,s={}){return ZD(n,s,async()=>{let o={},u={};i&&(t==="GET"?u=i:o={body:JSON.stringify(i)});const f=ih(Object.assign({key:n.config.apiKey},u)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:t,headers:h},o);return A5()||(m.referrerPolicy="no-referrer"),WD.fetch()(JD(n,n.config.apiHost,e,f),m)})}async function ZD(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},qB),t);try{const s=new KB(n),o=await Promise.race([e(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Yd(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const f=o.ok?u.errorMessage:u.error.message,[h,m]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yd(n,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw Yd(n,"email-already-in-use",u);if(h==="USER_DISABLED")throw Yd(n,"user-disabled",u);const g=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw XD(n,g,m);hs(n,g)}}catch(s){if(s instanceof gs)throw s;hs(n,"network-request-failed",{message:String(s)})}}async function GB(n,t,e,i,s={}){const o=await Nu(n,t,e,i,s);return"mfaPendingCredential"in o&&hs(n,"multi-factor-auth-required",{_serverResponse:o}),o}function JD(n,t,e,i){const s=`${t}${e}?${i}`;return n.config.emulator?$b(n.config,s):`${n.config.apiScheme}://${s}`}class KB{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Er(this.auth,"network-request-failed")),HB.get())})}}function Yd(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const s=Er(n,t,i);return s.customData._tokenResponse=e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $B(n,t){return Nu(n,"POST","/v1/accounts:delete",t)}async function tP(n,t){return Nu(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function YB(n,t=!1){const e=Xn(n),i=await e.getIdToken(t),s=Qb(i);Ct(s&&s.exp&&s.auth_time&&s.iat,e.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:pf(Iv(s.auth_time)),issuedAtTime:pf(Iv(s.iat)),expirationTime:pf(Iv(s.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Iv(n){return Number(n)*1e3}function Qb(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return gm("JWT malformed, contained fewer than 3 sections"),null;try{const s=OC(e);return s?JSON.parse(s):(gm("Failed to decode base64 JWT payload"),null)}catch(s){return gm("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Dx(n){const t=Qb(n);return Ct(t,"internal-error"),Ct(typeof t.exp<"u","internal-error"),Ct(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hf(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof gs&&QB(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function QB({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=pf(this.lastLoginAt),this.creationTime=pf(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jm(n){var t;const e=n.auth,i=await n.getIdToken(),s=await Hf(n,tP(e,{idToken:i}));Ct(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const u=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?eP(o.providerUserInfo):[],f=ZB(n.providerData,u),h=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!(f!=null&&f.length),g=h?m:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new B0(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function WB(n){const t=Xn(n);await Jm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ZB(n,t){return[...n.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function eP(n){return n.map(t=>{var{providerId:e}=t,i=Gb(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JB(n,t){const e=await ZD(n,{},async()=>{const i=ih({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,u=JD(n,s,"/v1/token",`key=${o}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",WD.fetch()(u,{method:"POST",headers:f,body:i})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function tz(n,t){return Nu(n,"POST","/v2/accounts:revokeToken",Yb(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ct(t.idToken,"internal-error"),Ct(typeof t.idToken<"u","internal-error"),Ct(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Dx(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Ct(t.length!==0,"internal-error");const e=Dx(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Ct(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:s,expiresIn:o}=await JB(t,e);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:s,expirationTime:o}=e,u=new tu;return i&&(Ct(typeof i=="string","internal-error",{appName:t}),u.refreshToken=i),s&&(Ct(typeof s=="string","internal-error",{appName:t}),u.accessToken=s),o&&(Ct(typeof o=="number","internal-error",{appName:t}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new tu,this.toJSON())}_performRefresh(){return es("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(n,t){Ct(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class ns{constructor(t){var{uid:e,auth:i,stsTokenManager:s}=t,o=Gb(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new B0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await Hf(this,this.stsTokenManager.getToken(this.auth,t));return Ct(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return YB(this,t)}reload(){return WB(this)}_assign(t){this!==t&&(Ct(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ns(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Jm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pr(this.auth.app))return Promise.reject(Co(this.auth));const t=await this.getIdToken();return await Hf(this,$B(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,s,o,u,f,h,m,g;const v=(i=e.displayName)!==null&&i!==void 0?i:void 0,b=(s=e.email)!==null&&s!==void 0?s:void 0,w=(o=e.phoneNumber)!==null&&o!==void 0?o:void 0,x=(u=e.photoURL)!==null&&u!==void 0?u:void 0,N=(f=e.tenantId)!==null&&f!==void 0?f:void 0,D=(h=e._redirectEventId)!==null&&h!==void 0?h:void 0,V=(m=e.createdAt)!==null&&m!==void 0?m:void 0,B=(g=e.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:j,emailVerified:Z,isAnonymous:G,providerData:J,stsTokenManager:O}=e;Ct(j&&O,t,"internal-error");const S=tu.fromJSON(this.name,O);Ct(typeof j=="string",t,"internal-error"),na(v,t.name),na(b,t.name),Ct(typeof Z=="boolean",t,"internal-error"),Ct(typeof G=="boolean",t,"internal-error"),na(w,t.name),na(x,t.name),na(N,t.name),na(D,t.name),na(V,t.name),na(B,t.name);const R=new ns({uid:j,auth:t,email:b,emailVerified:Z,displayName:v,isAnonymous:G,photoURL:x,phoneNumber:w,tenantId:N,stsTokenManager:S,createdAt:V,lastLoginAt:B});return J&&Array.isArray(J)&&(R.providerData=J.map(M=>Object.assign({},M))),D&&(R._redirectEventId=D),R}static async _fromIdTokenResponse(t,e,i=!1){const s=new tu;s.updateFromServerResponse(e);const o=new ns({uid:e.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await Jm(o),o}static async _fromGetAccountInfoResponse(t,e,i){const s=e.users[0];Ct(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?eP(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),f=new tu;f.updateFromIdToken(i);const h=new ns({uid:s.localId,auth:t,stsTokenManager:f,isAnonymous:u}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new B0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=new Map;function is(n){ds(n instanceof Function,"Expected a class definition");let t=Px.get(n);return t?(ds(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,Px.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}nP.type="NONE";const Nx=nP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(n,t,e){return`firebase:${n}:${t}:${e}`}class eu{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=ym(this.userKey,s.apiKey,o),this.fullPersistenceKey=ym("persistence",s.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?ns._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new eu(is(Nx),t,i);const s=(await Promise.all(e.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=s[0]||is(Nx);const u=ym(i,t.config.apiKey,t.name);let f=null;for(const m of e)try{const g=await m._get(u);if(g){const v=ns._fromJSON(t,g);m!==o&&(f=v),o=m;break}}catch{}const h=s.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new eu(o,t,i):(o=h[0],f&&await o._set(u,f.toJSON()),await Promise.all(e.map(async m=>{if(m!==o)try{await m._remove(u)}catch{}})),new eu(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(aP(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(iP(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(lP(t))return"Blackberry";if(uP(t))return"Webos";if(rP(t))return"Safari";if((t.includes("chrome/")||sP(t))&&!t.includes("edge/"))return"Chrome";if(oP(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function iP(n=nn()){return/firefox\//i.test(n)}function rP(n=nn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function sP(n=nn()){return/crios\//i.test(n)}function aP(n=nn()){return/iemobile/i.test(n)}function oP(n=nn()){return/android/i.test(n)}function lP(n=nn()){return/blackberry/i.test(n)}function uP(n=nn()){return/webos/i.test(n)}function Xb(n=nn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function ez(n=nn()){var t;return Xb(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function nz(){return I5()&&document.documentMode===10}function cP(n=nn()){return Xb(n)||oP(n)||uP(n)||lP(n)||/windows phone/i.test(n)||aP(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(n,t=[]){let e;switch(n){case"Browser":e=Ox(nn());break;case"Worker":e=`${Ox(nn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Cu}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((u,f)=>{try{const h=t(o);u(h)}catch(h){f(h)}});i.onAbort=e,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const s of e)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rz(n,t={}){return Nu(n,"GET","/v2/passwordPolicy",Yb(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz=6;class az{constructor(t){var e,i,s,o;const u=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=u.minPasswordLength)!==null&&e!==void 0?e:sz,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,s,o,u,f;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,h),this.validatePasswordCharacterOptions(t,h),h.isValid&&(h.isValid=(e=h.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(f=h.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),h}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),s&&(e.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(t,e,i,s){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mx(this),this.idTokenSubscription=new Mx(this),this.beforeStateQueue=new iz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=is(e)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await eu.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await tP(this,{idToken:t}),i=await ns._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(pr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,f=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(t);(!u||u===f)&&(h!=null&&h.user)&&(s=h.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Jm(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=FB()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(pr(this.app))return Promise.reject(Co(this));const e=t?Xn(t):null;return e&&Ct(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Ct(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return pr(this.app)?Promise.reject(Co(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return pr(this.app)?Promise.reject(Co(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await rz(this),e=new az(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new nh("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await tz(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&is(t)||this._popupRedirectResolver;Ct(e,this,"argument-error"),this.redirectPersistenceManager=await eu.create(this,[is(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,s){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ct(f,this,"internal-error"),f.then(()=>{u||o(this.currentUser)}),typeof e=="function"){const h=t.addObserver(e,i,s);return()=>{u=!0,h()}}else{const h=t.addObserver(e);return()=>{u=!0,h()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=fP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var t;if(pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&UB(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Wb(n){return Xn(n)}class Mx{constructor(t){this.auth=t,this.observer=null,this.addObserver=M5(e=>this.observer=e)}get next(){return Ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lz(n){Zb=n}function uz(n){return Zb.loadJS(n)}function cz(){return Zb.gapiScript}function fz(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hz(n,t){const e=tb(n,"auth");if(e.isInitialized()){const s=e.getImmediate(),o=e.getOptions();if(Cf(o,t??{}))return s;hs(s,"already-initialized")}return e.initialize({options:t})}function dz(n,t){const e=(t==null?void 0:t.persistence)||[],i=(Array.isArray(e)?e:[e]).map(is);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function mz(n,t,e){const i=Wb(n);Ct(i._canInitEmulator,i,"emulator-config-failed"),Ct(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,o=hP(t),{host:u,port:f}=pz(t),h=f===null?"":`:${f}`;i.config.emulator={url:`${o}//${u}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:u,port:f,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),gz()}function hP(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function pz(n){const t=hP(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:Vx(i.substr(o.length+1))}}else{const[o,u]=i.split(":");return{host:o,port:Vx(u)}}}function Vx(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function gz(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return es("not implemented")}_getIdTokenResponse(t){return es("not implemented")}_linkToIdToken(t,e){return es("not implemented")}_getReauthenticationResolver(t){return es("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nu(n,t){return GB(n,"POST","/v1/accounts:signInWithIdp",Yb(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz="http://localhost";class jo extends dP{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new jo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):hs("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s}=e,o=Gb(e,["providerId","signInMethod"]);if(!i||!s)return null;const u=new jo(i,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(t){const e=this.buildRequest();return nu(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,nu(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,nu(t,e)}buildRequest(){const t={requestUri:yz,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=ih(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh extends mP{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends dh{constructor(){super("facebook.com")}static credential(t){return jo._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return oa.credentialFromTaggedObject(t)}static credentialFromError(t){return oa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return oa.credential(t.oauthAccessToken)}catch{return null}}}oa.FACEBOOK_SIGN_IN_METHOD="facebook.com";oa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la extends dh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return jo._fromParams({providerId:la.PROVIDER_ID,signInMethod:la.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return la.credentialFromTaggedObject(t)}static credentialFromError(t){return la.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return la.credential(e,i)}catch{return null}}}la.GOOGLE_SIGN_IN_METHOD="google.com";la.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua extends dh{constructor(){super("github.com")}static credential(t){return jo._fromParams({providerId:ua.PROVIDER_ID,signInMethod:ua.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ua.credentialFromTaggedObject(t)}static credentialFromError(t){return ua.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ua.credential(t.oauthAccessToken)}catch{return null}}}ua.GITHUB_SIGN_IN_METHOD="github.com";ua.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca extends dh{constructor(){super("twitter.com")}static credential(t,e){return jo._fromParams({providerId:ca.PROVIDER_ID,signInMethod:ca.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return ca.credentialFromTaggedObject(t)}static credentialFromError(t){return ca.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return ca.credential(e,i)}catch{return null}}}ca.TWITTER_SIGN_IN_METHOD="twitter.com";ca.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,s=!1){const o=await ns._fromIdTokenResponse(t,i,s),u=kx(i);return new wu({user:o,providerId:u,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const s=kx(i);return new wu({user:t,providerId:s,_tokenResponse:i,operationType:e})}}function kx(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp extends gs{constructor(t,e,i,s){var o;super(e.code,e.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,tp.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,s){return new tp(t,e,i,s)}}function pP(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?tp._fromErrorAndOperation(n,o,t,i):o})}async function vz(n,t,e=!1){const i=await Hf(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return wu._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _z(n,t,e=!1){const{auth:i}=n;if(pr(i.app))return Promise.reject(Co(i));const s="reauthenticate";try{const o=await Hf(n,pP(i,s,t,n),e);Ct(o.idToken,i,"internal-error");const u=Qb(o.idToken);Ct(u,i,"internal-error");const{sub:f}=u;return Ct(n.uid===f,i,"user-mismatch"),wu._forOperation(n,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&hs(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bz(n,t,e=!1){if(pr(n.app))return Promise.reject(Co(n));const i="signIn",s=await pP(n,i,t),o=await wu._fromIdTokenResponse(n,i,s);return e||await n._updateCurrentUser(o.user),o}function Tz(n,t,e,i){return Xn(n).onIdTokenChanged(t,e,i)}function Ez(n,t,e){return Xn(n).beforeAuthStateChanged(t,e)}const ep="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(ep,"1"),this.storage.removeItem(ep),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wz=1e3,Sz=10;class yP extends gP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cP(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),s=this.localCache[e];i!==s&&t(e,s,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((u,f,h)=>{this.notifyListeners(u,h)});return}const i=t.key;e?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(i);!e&&this.localCache[i]===u||this.notifyListeners(i,u)},o=this.storage.getItem(i);nz()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,Sz):s()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},wz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}yP.type="LOCAL";const Az=yP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP extends gP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}vP.type="SESSION";const _P=vP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xz(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(s=>s.isListeningto(t));if(e)return e;const i=new qp(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:s,data:o}=e.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const f=Array.from(u).map(async m=>m(e.origin,o)),h=await xz(f);e.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((f,h)=>{const m=Jb("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},i);u={messageChannel:s,onMessage(v){const b=v;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),f(b.data.response);break;default:clearTimeout(g),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:t,eventId:m,data:e},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(){return window}function Iz(n){wr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(){return typeof wr().WorkerGlobalScope<"u"&&typeof wr().importScripts=="function"}async function Cz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Dz(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Pz(){return bP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP="firebaseLocalStorageDb",Nz=1,np="firebaseLocalStorage",EP="fbase_key";class mh{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Hp(n,t){return n.transaction([np],t?"readwrite":"readonly").objectStore(np)}function Oz(){const n=indexedDB.deleteDatabase(TP);return new mh(n).toPromise()}function z0(){const n=indexedDB.open(TP,Nz);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(np,{keyPath:EP})}catch(s){e(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(np)?t(i):(i.close(),await Oz(),t(await z0()))})})}async function Lx(n,t,e){const i=Hp(n,!0).put({[EP]:t,value:e});return new mh(i).toPromise()}async function Mz(n,t){const e=Hp(n,!1).get(t),i=await new mh(e).toPromise();return i===void 0?null:i.value}function jx(n,t){const e=Hp(n,!0).delete(t);return new mh(e).toPromise()}const Vz=800,kz=3;class wP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await z0(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>kz)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qp._getInstance(Pz()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await Cz(),!this.activeServiceWorker)return;this.sender=new Rz(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((e=i[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Dz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await z0();return await Lx(t,ep,"1"),await jx(t,ep),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Lx(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>Mz(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>jx(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const o=Hp(s,!1).getAll();return new mh(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),e.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),e.push(s));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Vz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wP.type="LOCAL";const Lz=wP;new hh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jz(n,t){return t?is(t):(Ct(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT extends dP{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return nu(t,this._buildIdpRequest())}_linkToIdToken(t,e){return nu(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return nu(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function Uz(n){return bz(n.auth,new tT(n),n.bypassAuthState)}function Bz(n){const{auth:t,user:e}=n;return Ct(e,t,"internal-error"),_z(e,new tT(n),n.bypassAuthState)}async function zz(n){const{auth:t,user:e}=n;return Ct(e,t,"internal-error"),vz(e,new tT(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(t,e,i,s,o=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:s,tenantId:o,error:u,type:f}=t;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Uz;case"linkViaPopup":case"linkViaRedirect":return zz;case"reauthViaPopup":case"reauthViaRedirect":return Bz;default:hs(this.auth,"internal-error")}}resolve(t){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz=new hh(2e3,1e4);class Xl extends SP{constructor(t,e,i,s,o){super(t,e,s,o),this.provider=i,this.authWindow=null,this.pollId=null,Xl.currentPopupAction&&Xl.currentPopupAction.cancel(),Xl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ct(t,this.auth,"internal-error"),t}async onExecution(){ds(this.filter.length===1,"Popup operations only handle one event");const t=Jb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xl.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;if(!((i=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Fz.get())};t()}}Xl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qz="pendingRedirect",vm=new Map;class Hz extends SP{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=vm.get(this.auth._key());if(!t){try{const i=await Gz(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}vm.set(this.auth._key(),t)}return this.bypassAuthState||vm.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Gz(n,t){const e=Yz(t),i=$z(n);if(!await i._isAvailable())return!1;const s=await i._get(e)==="true";return await i._remove(e),s}function Kz(n,t){vm.set(n._key(),t)}function $z(n){return is(n._redirectPersistence)}function Yz(n){return ym(qz,n.config.apiKey,n.name)}async function Qz(n,t,e=!1){if(pr(n.app))return Promise.reject(Co(n));const i=Wb(n),s=jz(i,t),u=await new Hz(i,s,e).execute();return u&&!e&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,t)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xz=10*60*1e3;class Wz{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Zz(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!AP(t)){const s=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(Er(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Xz&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ux(t))}saveEventToCache(t){this.cachedEventUids.add(Ux(t)),this.lastProcessedEventTime=Date.now()}}function Ux(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function AP({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Zz(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AP(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jz(n,t={}){return Nu(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eF=/^https?/;async function nF(n){if(n.config.emulator)return;const{authorizedDomains:t}=await Jz(n);for(const e of t)try{if(iF(e))return}catch{}hs(n,"unauthorized-domain")}function iF(n){const t=U0(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&u.hostname===i}if(!eF.test(e))return!1;if(tF.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF=new hh(3e4,6e4);function Bx(){const n=wr().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function sF(n){return new Promise((t,e)=>{var i,s,o;function u(){Bx(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Bx(),e(Er(n,"network-request-failed"))},timeout:rF.get()})}if(!((s=(i=wr().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((o=wr().gapi)===null||o===void 0)&&o.load)u();else{const f=fz("iframefcb");return wr()[f]=()=>{gapi.load?u():e(Er(n,"network-request-failed"))},uz(`${cz()}?onload=${f}`).catch(h=>e(h))}}).catch(t=>{throw _m=null,t})}let _m=null;function aF(n){return _m=_m||sF(n),_m}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF=new hh(5e3,15e3),lF="__/auth/iframe",uF="emulator/auth/iframe",cF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hF(n){const t=n.config;Ct(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?$b(t,uF):`https://${n.config.authDomain}/${lF}`,i={apiKey:t.apiKey,appName:n.name,v:Cu},s=fF.get(n.config.apiHost);s&&(i.eid=s);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${ih(i).slice(1)}`}async function dF(n){const t=await aF(n),e=wr().gapi;return Ct(e,n,"internal-error"),t.open({where:document.body,url:hF(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cF,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const u=Er(n,"network-request-failed"),f=wr().setTimeout(()=>{o(u)},oF.get());function h(){wr().clearTimeout(f),s(i)}i.ping(h).then(h,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pF=500,gF=600,yF="_blank",vF="http://localhost";class zx{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _F(n,t,e,i=pF,s=gF){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const h=Object.assign(Object.assign({},mF),{width:i.toString(),height:s.toString(),top:o,left:u}),m=nn().toLowerCase();e&&(f=sP(m)?yF:e),iP(m)&&(t=t||vF,h.scrollbars="yes");const g=Object.entries(h).reduce((b,[w,x])=>`${b}${w}=${x},`,"");if(ez(m)&&f!=="_self")return bF(t||"",f),new zx(null);const v=window.open(t||"",f,g);Ct(v,n,"popup-blocked");try{v.focus()}catch{}return new zx(v)}function bF(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TF="__/auth/handler",EF="emulator/auth/handler",wF=encodeURIComponent("fac");async function Fx(n,t,e,i,s,o){Ct(n.config.authDomain,n,"auth-domain-config-required"),Ct(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Cu,eventId:s};if(t instanceof mP){t.setDefaultLanguage(n.languageCode),u.providerId=t.providerId||"",O5(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[g,v]of Object.entries({}))u[g]=v}if(t instanceof dh){const g=t.getScopes().filter(v=>v!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const g of Object.keys(f))f[g]===void 0&&delete f[g];const h=await n._getAppCheckToken(),m=h?`#${wF}=${encodeURIComponent(h)}`:"";return`${SF(n)}?${ih(f).slice(1)}${m}`}function SF({config:n}){return n.emulator?$b(n,EF):`https://${n.authDomain}/${TF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="webStorageSupport";class AF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_P,this._completeRedirectFn=Qz,this._overrideRedirectResult=Kz}async _openPopup(t,e,i,s){var o;ds((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await Fx(t,e,i,U0(),s);return _F(t,u,Jb())}async _openRedirect(t,e,i,s){await this._originValidation(t);const o=await Fx(t,e,i,U0(),s);return Iz(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:s,promise:o}=this.eventManagers[e];return s?Promise.resolve(s):(ds(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await dF(t),i=new Wz(t);return e.register("authEvent",s=>(Ct(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Cv,{type:Cv},s=>{var o;const u=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[Cv];u!==void 0&&e(!!u),hs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=nF(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return cP()||rP()||Xb()}}const xF=AF;var qx="@firebase/auth",Hx="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IF(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CF(n){lu(new Do("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=i.options;Ct(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fP(n)},m=new oz(i,s,o,h);return dz(m,e),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),lu(new Do("auth-internal",t=>{const e=Wb(t.getProvider("auth").getImmediate());return(i=>new RF(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),ma(qx,Hx,IF(n)),ma(qx,Hx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF=5*60,PF=VC("authIdTokenMaxAge")||DF;let Gx=null;const NF=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>PF)return;const s=e==null?void 0:e.token;Gx!==s&&(Gx=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function OF(n=V6()){const t=tb(n,"auth");if(t.isInitialized())return t.getImmediate();const e=hz(n,{popupRedirectResolver:xF,persistence:[Lz,Az,_P]}),i=VC("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const u=NF(o.toString());Ez(e,u,()=>u(e.currentUser)),Tz(e,f=>u(f))}}const s=T5("auth");return s&&mz(e,`http://${s}`),e}function MF(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}lz({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=s=>{const o=Er("internal-error");o.customData=s,e(o)},i.type="text/javascript",i.charset="UTF-8",MF().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CF("Browser");const xP={apiKey:"AIzaSyDJARG0Y-E2kgk6O7UdfYNOqVX6u-kTQCs",authDomain:"fir-study-ea3c8.firebaseapp.com",projectId:"fir-study-ea3c8",storageBucket:"fir-study-ea3c8.firebasestorage.app",messagingSenderId:"1082850243516",appId:"1:1082850243516:web:eadd0ae10314df829c31b9",measurementId:"G-V2K9BB8SML"};console.log("Firebase 설정 확인:");Object.entries(xP).forEach(([n,t])=>{console.log(`${n}:`,t||"설정되지 않음")});console.log("Firebase 초기화 시작...");let ip;try{ip=BC(xP),console.log("Firebase 앱 초기화 완료:",ip.name)}catch(n){throw console.error("Firebase 초기화 실패:",n),n}console.log("Firestore 초기화 시작...");let eT;try{eT=dB(ip,{localCache:MB({tabManager:$D()})}),console.log("Firestore 초기화 완료")}catch(n){throw console.error("Firestore 초기화 실패:",n),n}console.log("Auth 초기화 시작...");let VF;try{VF=OF(ip),console.log("Auth 초기화 완료")}catch(n){throw console.error("Auth 초기화 실패:",n),n}/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const Hl={prefix:"fab",iconName:"linkedin",icon:[448,512,[],"f08c","M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"]},nf={prefix:"fab",iconName:"instagram",icon:[448,512,[],"f16d","M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"]},bm={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]},Kx={github:bm,instagram:nf,linkedin:Hl},Ou=()=>{const[n,t]=C.useState([]),[e,i]=C.useState(!0),[s,o]=C.useState(null);return C.useEffect(()=>{(async()=>{try{const f=fB(eT,"members"),m=(await DB(f)).docs.map(g=>{const v=g.data();return{...v,id:g.id,snsIcons:v.snsIcons.split(",").map(b=>({iconName:b,icon:Kx[b.toLowerCase()]||Kx.github})),bulletList:v.bulletList.split(",")}});t(m),i(!1)}catch(f){console.error("멤버 데이터 로딩 중 오류 발생:",f),o(f.message),i(!1)}})()},[]),{members:n,loading:e,error:s}};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function kF(n,t,e){return(t=jF(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function $x(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),e.push.apply(e,i)}return e}function ot(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?$x(Object(e),!0).forEach(function(i){kF(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):$x(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function LF(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function jF(n){var t=LF(n,"string");return typeof t=="symbol"?t:t+""}const Yx=()=>{};let nT={},RP={},IP=null,CP={mark:Yx,measure:Yx};try{typeof window<"u"&&(nT=window),typeof document<"u"&&(RP=document),typeof MutationObserver<"u"&&(IP=MutationObserver),typeof performance<"u"&&(CP=performance)}catch{}const{userAgent:Qx=""}=nT.navigator||{},xa=nT,ve=RP,Xx=IP,Qd=CP;xa.document;const vs=!!ve.documentElement&&!!ve.head&&typeof ve.addEventListener=="function"&&typeof ve.createElement=="function",DP=~Qx.indexOf("MSIE")||~Qx.indexOf("Trident/");var UF=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,BF=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,PP={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},zF={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},NP=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],kn="classic",Gp="duotone",FF="sharp",qF="sharp-duotone",OP=[kn,Gp,FF,qF],HF={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},GF={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},KF=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),$F={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},YF=["fak","fa-kit","fakd","fa-kit-duotone"],Wx={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},QF=["kit"],XF={kit:{"fa-kit":"fak"}},WF=["fak","fakd"],ZF={kit:{fak:"fa-kit"}},Zx={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Xd={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},JF=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],t7=["fak","fa-kit","fakd","fa-kit-duotone"],e7={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},n7={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},i7={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},F0={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},r7=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],q0=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...JF,...r7],s7=["solid","regular","light","thin","duotone","brands"],MP=[1,2,3,4,5,6,7,8,9,10],a7=MP.concat([11,12,13,14,15,16,17,18,19,20]),o7=[...Object.keys(i7),...s7,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Xd.GROUP,Xd.SWAP_OPACITY,Xd.PRIMARY,Xd.SECONDARY].concat(MP.map(n=>"".concat(n,"x"))).concat(a7.map(n=>"w-".concat(n))),l7={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const ms="___FONT_AWESOME___",H0=16,VP="fa",kP="svg-inline--fa",Uo="data-fa-i2svg",G0="data-fa-pseudo-element",u7="data-fa-pseudo-element-pending",iT="data-prefix",rT="data-icon",Jx="fontawesome-i2svg",c7="async",f7=["HTML","HEAD","STYLE","SCRIPT"],LP=(()=>{try{return!0}catch{return!1}})();function ph(n){return new Proxy(n,{get(t,e){return e in t?t[e]:t[kn]}})}const jP=ot({},PP);jP[kn]=ot(ot(ot(ot({},{"fa-duotone":"duotone"}),PP[kn]),Wx.kit),Wx["kit-duotone"]);const h7=ph(jP),K0=ot({},$F);K0[kn]=ot(ot(ot(ot({},{duotone:"fad"}),K0[kn]),Zx.kit),Zx["kit-duotone"]);const tR=ph(K0),$0=ot({},F0);$0[kn]=ot(ot({},$0[kn]),ZF.kit);const sT=ph($0),Y0=ot({},n7);Y0[kn]=ot(ot({},Y0[kn]),XF.kit);ph(Y0);const d7=UF,UP="fa-layers-text",m7=BF,p7=ot({},HF);ph(p7);const g7=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Dv=zF,y7=[...QF,...o7],gf=xa.FontAwesomeConfig||{};function v7(n){var t=ve.querySelector("script["+n+"]");if(t)return t.getAttribute(n)}function _7(n){return n===""?!0:n==="false"?!1:n==="true"?!0:n}ve&&typeof ve.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(t=>{let[e,i]=t;const s=_7(v7(e));s!=null&&(gf[i]=s)});const BP={styleDefault:"solid",familyDefault:kn,cssPrefix:VP,replacementClass:kP,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};gf.familyPrefix&&(gf.cssPrefix=gf.familyPrefix);const Su=ot(ot({},BP),gf);Su.autoReplaceSvg||(Su.observeMutations=!1);const Et={};Object.keys(BP).forEach(n=>{Object.defineProperty(Et,n,{enumerable:!0,set:function(t){Su[n]=t,yf.forEach(e=>e(Et))},get:function(){return Su[n]}})});Object.defineProperty(Et,"familyPrefix",{enumerable:!0,set:function(n){Su.cssPrefix=n,yf.forEach(t=>t(Et))},get:function(){return Su.cssPrefix}});xa.FontAwesomeConfig=Et;const yf=[];function b7(n){return yf.push(n),()=>{yf.splice(yf.indexOf(n),1)}}const ia=H0,vr={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function T7(n){if(!n||!vs)return;const t=ve.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=n;const e=ve.head.childNodes;let i=null;for(let s=e.length-1;s>-1;s--){const o=e[s],u=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(u)>-1&&(i=o)}return ve.head.insertBefore(t,i),n}const E7="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Gf(){let n=12,t="";for(;n-- >0;)t+=E7[Math.random()*62|0];return t}function Mu(n){const t=[];for(let e=(n||[]).length>>>0;e--;)t[e]=n[e];return t}function aT(n){return n.classList?Mu(n.classList):(n.getAttribute("class")||"").split(" ").filter(t=>t)}function zP(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function w7(n){return Object.keys(n||{}).reduce((t,e)=>t+"".concat(e,'="').concat(zP(n[e]),'" '),"").trim()}function Kp(n){return Object.keys(n||{}).reduce((t,e)=>t+"".concat(e,": ").concat(n[e].trim(),";"),"")}function oT(n){return n.size!==vr.size||n.x!==vr.x||n.y!==vr.y||n.rotate!==vr.rotate||n.flipX||n.flipY}function S7(n){let{transform:t,containerWidth:e,iconWidth:i}=n;const s={transform:"translate(".concat(e/2," 256)")},o="translate(".concat(t.x*32,", ").concat(t.y*32,") "),u="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),f="rotate(".concat(t.rotate," 0 0)"),h={transform:"".concat(o," ").concat(u," ").concat(f)},m={transform:"translate(".concat(i/2*-1," -256)")};return{outer:s,inner:h,path:m}}function A7(n){let{transform:t,width:e=H0,height:i=H0,startCentered:s=!1}=n,o="";return s&&DP?o+="translate(".concat(t.x/ia-e/2,"em, ").concat(t.y/ia-i/2,"em) "):s?o+="translate(calc(-50% + ".concat(t.x/ia,"em), calc(-50% + ").concat(t.y/ia,"em)) "):o+="translate(".concat(t.x/ia,"em, ").concat(t.y/ia,"em) "),o+="scale(".concat(t.size/ia*(t.flipX?-1:1),", ").concat(t.size/ia*(t.flipY?-1:1),") "),o+="rotate(".concat(t.rotate,"deg) "),o}var x7=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function FP(){const n=VP,t=kP,e=Et.cssPrefix,i=Et.replacementClass;let s=x7;if(e!==n||i!==t){const o=new RegExp("\\.".concat(n,"\\-"),"g"),u=new RegExp("\\--".concat(n,"\\-"),"g"),f=new RegExp("\\.".concat(t),"g");s=s.replace(o,".".concat(e,"-")).replace(u,"--".concat(e,"-")).replace(f,".".concat(i))}return s}let eR=!1;function Pv(){Et.autoAddCss&&!eR&&(T7(FP()),eR=!0)}var R7={mixout(){return{dom:{css:FP,insertCss:Pv}}},hooks(){return{beforeDOMElementCreation(){Pv()},beforeI2svg(){Pv()}}}};const ps=xa||{};ps[ms]||(ps[ms]={});ps[ms].styles||(ps[ms].styles={});ps[ms].hooks||(ps[ms].hooks={});ps[ms].shims||(ps[ms].shims=[]);var _r=ps[ms];const qP=[],HP=function(){ve.removeEventListener("DOMContentLoaded",HP),rp=1,qP.map(n=>n())};let rp=!1;vs&&(rp=(ve.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ve.readyState),rp||ve.addEventListener("DOMContentLoaded",HP));function I7(n){vs&&(rp?setTimeout(n,0):qP.push(n))}function gh(n){const{tag:t,attributes:e={},children:i=[]}=n;return typeof n=="string"?zP(n):"<".concat(t," ").concat(w7(e),">").concat(i.map(gh).join(""),"</").concat(t,">")}function nR(n,t,e){if(n&&n[t]&&n[t][e])return{prefix:t,iconName:e,icon:n[t][e]}}var Nv=function(t,e,i,s){var o=Object.keys(t),u=o.length,f=e,h,m,g;for(i===void 0?(h=1,g=t[o[0]]):(h=0,g=i);h<u;h++)m=o[h],g=f(g,t[m],m,t);return g};function C7(n){const t=[];let e=0;const i=n.length;for(;e<i;){const s=n.charCodeAt(e++);if(s>=55296&&s<=56319&&e<i){const o=n.charCodeAt(e++);(o&64512)==56320?t.push(((s&1023)<<10)+(o&1023)+65536):(t.push(s),e--)}else t.push(s)}return t}function Q0(n){const t=C7(n);return t.length===1?t[0].toString(16):null}function D7(n,t){const e=n.length;let i=n.charCodeAt(t),s;return i>=55296&&i<=56319&&e>t+1&&(s=n.charCodeAt(t+1),s>=56320&&s<=57343)?(i-55296)*1024+s-56320+65536:i}function iR(n){return Object.keys(n).reduce((t,e)=>{const i=n[e];return!!i.icon?t[i.iconName]=i.icon:t[e]=i,t},{})}function X0(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:i=!1}=e,s=iR(t);typeof _r.hooks.addPack=="function"&&!i?_r.hooks.addPack(n,iR(t)):_r.styles[n]=ot(ot({},_r.styles[n]||{}),s),n==="fas"&&X0("fa",t)}const{styles:Kf,shims:P7}=_r,GP=Object.keys(sT),N7=GP.reduce((n,t)=>(n[t]=Object.keys(sT[t]),n),{});let lT=null,KP={},$P={},YP={},QP={},XP={};function O7(n){return~y7.indexOf(n)}function M7(n,t){const e=t.split("-"),i=e[0],s=e.slice(1).join("-");return i===n&&s!==""&&!O7(s)?s:null}const WP=()=>{const n=i=>Nv(Kf,(s,o,u)=>(s[u]=Nv(o,i,{}),s),{});KP=n((i,s,o)=>(s[3]&&(i[s[3]]=o),s[2]&&s[2].filter(f=>typeof f=="number").forEach(f=>{i[f.toString(16)]=o}),i)),$P=n((i,s,o)=>(i[o]=o,s[2]&&s[2].filter(f=>typeof f=="string").forEach(f=>{i[f]=o}),i)),XP=n((i,s,o)=>{const u=s[2];return i[o]=o,u.forEach(f=>{i[f]=o}),i});const t="far"in Kf||Et.autoFetchSvg,e=Nv(P7,(i,s)=>{const o=s[0];let u=s[1];const f=s[2];return u==="far"&&!t&&(u="fas"),typeof o=="string"&&(i.names[o]={prefix:u,iconName:f}),typeof o=="number"&&(i.unicodes[o.toString(16)]={prefix:u,iconName:f}),i},{names:{},unicodes:{}});YP=e.names,QP=e.unicodes,lT=$p(Et.styleDefault,{family:Et.familyDefault})};b7(n=>{lT=$p(n.styleDefault,{family:Et.familyDefault})});WP();function uT(n,t){return(KP[n]||{})[t]}function V7(n,t){return($P[n]||{})[t]}function So(n,t){return(XP[n]||{})[t]}function ZP(n){return YP[n]||{prefix:null,iconName:null}}function k7(n){const t=QP[n],e=uT("fas",n);return t||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null}}function Ra(){return lT}const JP=()=>({prefix:null,iconName:null,rest:[]});function L7(n){let t=kn;const e=GP.reduce((i,s)=>(i[s]="".concat(Et.cssPrefix,"-").concat(s),i),{});return OP.forEach(i=>{(n.includes(e[i])||n.some(s=>N7[i].includes(s)))&&(t=i)}),t}function $p(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:e=kn}=t,i=h7[e][n];if(e===Gp&&!n)return"fad";const s=tR[e][n]||tR[e][i],o=n in _r.styles?n:null;return s||o||null}function j7(n){let t=[],e=null;return n.forEach(i=>{const s=M7(Et.cssPrefix,i);s?e=s:i&&t.push(i)}),{iconName:e,rest:t}}function rR(n){return n.sort().filter((t,e,i)=>i.indexOf(t)===e)}function Yp(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:e=!1}=t;let i=null;const s=q0.concat(t7),o=rR(n.filter(v=>s.includes(v))),u=rR(n.filter(v=>!q0.includes(v))),f=o.filter(v=>(i=v,!NP.includes(v))),[h=null]=f,m=L7(o),g=ot(ot({},j7(u)),{},{prefix:$p(h,{family:m})});return ot(ot(ot({},g),F7({values:n,family:m,styles:Kf,config:Et,canonical:g,givenPrefix:i})),U7(e,i,g))}function U7(n,t,e){let{prefix:i,iconName:s}=e;if(n||!i||!s)return{prefix:i,iconName:s};const o=t==="fa"?ZP(s):{},u=So(i,s);return s=o.iconName||u||s,i=o.prefix||i,i==="far"&&!Kf.far&&Kf.fas&&!Et.autoFetchSvg&&(i="fas"),{prefix:i,iconName:s}}const B7=OP.filter(n=>n!==kn||n!==Gp),z7=Object.keys(F0).filter(n=>n!==kn).map(n=>Object.keys(F0[n])).flat();function F7(n){const{values:t,family:e,canonical:i,givenPrefix:s="",styles:o={},config:u={}}=n,f=e===Gp,h=t.includes("fa-duotone")||t.includes("fad"),m=u.familyDefault==="duotone",g=i.prefix==="fad"||i.prefix==="fa-duotone";if(!f&&(h||m||g)&&(i.prefix="fad"),(t.includes("fa-brands")||t.includes("fab"))&&(i.prefix="fab"),!i.prefix&&B7.includes(e)&&(Object.keys(o).find(b=>z7.includes(b))||u.autoFetchSvg)){const b=KF.get(e).defaultShortPrefixId;i.prefix=b,i.iconName=So(i.prefix,i.iconName)||i.iconName}return(i.prefix==="fa"||s==="fa")&&(i.prefix=Ra()||"fas"),i}class q7{constructor(){this.definitions={}}add(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const s=e.reduce(this._pullDefinitions,{});Object.keys(s).forEach(o=>{this.definitions[o]=ot(ot({},this.definitions[o]||{}),s[o]),X0(o,s[o]);const u=sT[kn][o];u&&X0(u,s[o]),WP()})}reset(){this.definitions={}}_pullDefinitions(t,e){const i=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(i).map(s=>{const{prefix:o,iconName:u,icon:f}=i[s],h=f[2];t[o]||(t[o]={}),h.length>0&&h.forEach(m=>{typeof m=="string"&&(t[o][m]=f)}),t[o][u]=f}),t}}let sR=[],Wl={};const iu={},H7=Object.keys(iu);function G7(n,t){let{mixoutsTo:e}=t;return sR=n,Wl={},Object.keys(iu).forEach(i=>{H7.indexOf(i)===-1&&delete iu[i]}),sR.forEach(i=>{const s=i.mixout?i.mixout():{};if(Object.keys(s).forEach(o=>{typeof s[o]=="function"&&(e[o]=s[o]),typeof s[o]=="object"&&Object.keys(s[o]).forEach(u=>{e[o]||(e[o]={}),e[o][u]=s[o][u]})}),i.hooks){const o=i.hooks();Object.keys(o).forEach(u=>{Wl[u]||(Wl[u]=[]),Wl[u].push(o[u])})}i.provides&&i.provides(iu)}),e}function W0(n,t){for(var e=arguments.length,i=new Array(e>2?e-2:0),s=2;s<e;s++)i[s-2]=arguments[s];return(Wl[n]||[]).forEach(u=>{t=u.apply(null,[t,...i])}),t}function Bo(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];(Wl[n]||[]).forEach(o=>{o.apply(null,e)})}function Ia(){const n=arguments[0],t=Array.prototype.slice.call(arguments,1);return iu[n]?iu[n].apply(null,t):void 0}function Z0(n){n.prefix==="fa"&&(n.prefix="fas");let{iconName:t}=n;const e=n.prefix||Ra();if(t)return t=So(e,t)||t,nR(tN.definitions,e,t)||nR(_r.styles,e,t)}const tN=new q7,K7=()=>{Et.autoReplaceSvg=!1,Et.observeMutations=!1,Bo("noAuto")},$7={i2svg:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return vs?(Bo("beforeI2svg",n),Ia("pseudoElements2svg",n),Ia("i2svg",n)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t}=n;Et.autoReplaceSvg===!1&&(Et.autoReplaceSvg=!0),Et.observeMutations=!0,I7(()=>{Q7({autoReplaceSvgRoot:t}),Bo("watch",n)})}},Y7={icon:n=>{if(n===null)return null;if(typeof n=="object"&&n.prefix&&n.iconName)return{prefix:n.prefix,iconName:So(n.prefix,n.iconName)||n.iconName};if(Array.isArray(n)&&n.length===2){const t=n[1].indexOf("fa-")===0?n[1].slice(3):n[1],e=$p(n[0]);return{prefix:e,iconName:So(e,t)||t}}if(typeof n=="string"&&(n.indexOf("".concat(Et.cssPrefix,"-"))>-1||n.match(d7))){const t=Yp(n.split(" "),{skipLookups:!0});return{prefix:t.prefix||Ra(),iconName:So(t.prefix,t.iconName)||t.iconName}}if(typeof n=="string"){const t=Ra();return{prefix:t,iconName:So(t,n)||n}}}},hi={noAuto:K7,config:Et,dom:$7,parse:Y7,library:tN,findIconDefinition:Z0,toHtml:gh},Q7=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t=ve}=n;(Object.keys(_r.styles).length>0||Et.autoFetchSvg)&&vs&&Et.autoReplaceSvg&&hi.dom.i2svg({node:t})};function Qp(n,t){return Object.defineProperty(n,"abstract",{get:t}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(e=>gh(e))}}),Object.defineProperty(n,"node",{get:function(){if(!vs)return;const e=ve.createElement("div");return e.innerHTML=n.html,e.children}}),n}function X7(n){let{children:t,main:e,mask:i,attributes:s,styles:o,transform:u}=n;if(oT(u)&&e.found&&!i.found){const{width:f,height:h}=e,m={x:f/h/2,y:.5};s.style=Kp(ot(ot({},o),{},{"transform-origin":"".concat(m.x+u.x/16,"em ").concat(m.y+u.y/16,"em")}))}return[{tag:"svg",attributes:s,children:t}]}function W7(n){let{prefix:t,iconName:e,children:i,attributes:s,symbol:o}=n;const u=o===!0?"".concat(t,"-").concat(Et.cssPrefix,"-").concat(e):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ot(ot({},s),{},{id:u}),children:i}]}]}function cT(n){const{icons:{main:t,mask:e},prefix:i,iconName:s,transform:o,symbol:u,title:f,maskId:h,titleId:m,extra:g,watchable:v=!1}=n,{width:b,height:w}=e.found?e:t,x=WF.includes(i),N=[Et.replacementClass,s?"".concat(Et.cssPrefix,"-").concat(s):""].filter(G=>g.classes.indexOf(G)===-1).filter(G=>G!==""||!!G).concat(g.classes).join(" ");let D={children:[],attributes:ot(ot({},g.attributes),{},{"data-prefix":i,"data-icon":s,class:N,role:g.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(b," ").concat(w)})};const V=x&&!~g.classes.indexOf("fa-fw")?{width:"".concat(b/w*16*.0625,"em")}:{};v&&(D.attributes[Uo]=""),f&&(D.children.push({tag:"title",attributes:{id:D.attributes["aria-labelledby"]||"title-".concat(m||Gf())},children:[f]}),delete D.attributes.title);const B=ot(ot({},D),{},{prefix:i,iconName:s,main:t,mask:e,maskId:h,transform:o,symbol:u,styles:ot(ot({},V),g.styles)}),{children:j,attributes:Z}=e.found&&t.found?Ia("generateAbstractMask",B)||{children:[],attributes:{}}:Ia("generateAbstractIcon",B)||{children:[],attributes:{}};return B.children=j,B.attributes=Z,u?W7(B):X7(B)}function aR(n){const{content:t,width:e,height:i,transform:s,title:o,extra:u,watchable:f=!1}=n,h=ot(ot(ot({},u.attributes),o?{title:o}:{}),{},{class:u.classes.join(" ")});f&&(h[Uo]="");const m=ot({},u.styles);oT(s)&&(m.transform=A7({transform:s,startCentered:!0,width:e,height:i}),m["-webkit-transform"]=m.transform);const g=Kp(m);g.length>0&&(h.style=g);const v=[];return v.push({tag:"span",attributes:h,children:[t]}),o&&v.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),v}function Z7(n){const{content:t,title:e,extra:i}=n,s=ot(ot(ot({},i.attributes),e?{title:e}:{}),{},{class:i.classes.join(" ")}),o=Kp(i.styles);o.length>0&&(s.style=o);const u=[];return u.push({tag:"span",attributes:s,children:[t]}),e&&u.push({tag:"span",attributes:{class:"sr-only"},children:[e]}),u}const{styles:Ov}=_r;function J0(n){const t=n[0],e=n[1],[i]=n.slice(4);let s=null;return Array.isArray(i)?s={tag:"g",attributes:{class:"".concat(Et.cssPrefix,"-").concat(Dv.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Et.cssPrefix,"-").concat(Dv.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(Et.cssPrefix,"-").concat(Dv.PRIMARY),fill:"currentColor",d:i[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:i}},{found:!0,width:t,height:e,icon:s}}const J7={found:!1,width:512,height:512};function t8(n,t){!LP&&!Et.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(t,'" is missing.'))}function t_(n,t){let e=t;return t==="fa"&&Et.styleDefault!==null&&(t=Ra()),new Promise((i,s)=>{if(e==="fa"){const o=ZP(n)||{};n=o.iconName||n,t=o.prefix||t}if(n&&t&&Ov[t]&&Ov[t][n]){const o=Ov[t][n];return i(J0(o))}t8(n,t),i(ot(ot({},J7),{},{icon:Et.showMissingIcons&&n?Ia("missingIconAbstract")||{}:{}}))})}const oR=()=>{},e_=Et.measurePerformance&&Qd&&Qd.mark&&Qd.measure?Qd:{mark:oR,measure:oR},rf='FA "6.7.2"',e8=n=>(e_.mark("".concat(rf," ").concat(n," begins")),()=>eN(n)),eN=n=>{e_.mark("".concat(rf," ").concat(n," ends")),e_.measure("".concat(rf," ").concat(n),"".concat(rf," ").concat(n," begins"),"".concat(rf," ").concat(n," ends"))};var fT={begin:e8,end:eN};const Tm=()=>{};function lR(n){return typeof(n.getAttribute?n.getAttribute(Uo):null)=="string"}function n8(n){const t=n.getAttribute?n.getAttribute(iT):null,e=n.getAttribute?n.getAttribute(rT):null;return t&&e}function i8(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(Et.replacementClass)}function r8(){return Et.autoReplaceSvg===!0?Em.replace:Em[Et.autoReplaceSvg]||Em.replace}function s8(n){return ve.createElementNS("http://www.w3.org/2000/svg",n)}function a8(n){return ve.createElement(n)}function nN(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:e=n.tag==="svg"?s8:a8}=t;if(typeof n=="string")return ve.createTextNode(n);const i=e(n.tag);return Object.keys(n.attributes||[]).forEach(function(o){i.setAttribute(o,n.attributes[o])}),(n.children||[]).forEach(function(o){i.appendChild(nN(o,{ceFn:e}))}),i}function o8(n){let t=" ".concat(n.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}const Em={replace:function(n){const t=n[0];if(t.parentNode)if(n[1].forEach(e=>{t.parentNode.insertBefore(nN(e),t)}),t.getAttribute(Uo)===null&&Et.keepOriginalSource){let e=ve.createComment(o8(t));t.parentNode.replaceChild(e,t)}else t.remove()},nest:function(n){const t=n[0],e=n[1];if(~aT(t).indexOf(Et.replacementClass))return Em.replace(n);const i=new RegExp("".concat(Et.cssPrefix,"-.*"));if(delete e[0].attributes.id,e[0].attributes.class){const o=e[0].attributes.class.split(" ").reduce((u,f)=>(f===Et.replacementClass||f.match(i)?u.toSvg.push(f):u.toNode.push(f),u),{toNode:[],toSvg:[]});e[0].attributes.class=o.toSvg.join(" "),o.toNode.length===0?t.removeAttribute("class"):t.setAttribute("class",o.toNode.join(" "))}const s=e.map(o=>gh(o)).join(`
`);t.setAttribute(Uo,""),t.innerHTML=s}};function uR(n){n()}function iN(n,t){const e=typeof t=="function"?t:Tm;if(n.length===0)e();else{let i=uR;Et.mutateApproach===c7&&(i=xa.requestAnimationFrame||uR),i(()=>{const s=r8(),o=fT.begin("mutate");n.map(s),o(),e()})}}let hT=!1;function rN(){hT=!0}function n_(){hT=!1}let sp=null;function cR(n){if(!Xx||!Et.observeMutations)return;const{treeCallback:t=Tm,nodeCallback:e=Tm,pseudoElementsCallback:i=Tm,observeMutationsRoot:s=ve}=n;sp=new Xx(o=>{if(hT)return;const u=Ra();Mu(o).forEach(f=>{if(f.type==="childList"&&f.addedNodes.length>0&&!lR(f.addedNodes[0])&&(Et.searchPseudoElements&&i(f.target),t(f.target)),f.type==="attributes"&&f.target.parentNode&&Et.searchPseudoElements&&i(f.target.parentNode),f.type==="attributes"&&lR(f.target)&&~g7.indexOf(f.attributeName))if(f.attributeName==="class"&&n8(f.target)){const{prefix:h,iconName:m}=Yp(aT(f.target));f.target.setAttribute(iT,h||u),m&&f.target.setAttribute(rT,m)}else i8(f.target)&&e(f.target)})}),vs&&sp.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function l8(){sp&&sp.disconnect()}function u8(n){const t=n.getAttribute("style");let e=[];return t&&(e=t.split(";").reduce((i,s)=>{const o=s.split(":"),u=o[0],f=o.slice(1);return u&&f.length>0&&(i[u]=f.join(":").trim()),i},{})),e}function c8(n){const t=n.getAttribute("data-prefix"),e=n.getAttribute("data-icon"),i=n.innerText!==void 0?n.innerText.trim():"";let s=Yp(aT(n));return s.prefix||(s.prefix=Ra()),t&&e&&(s.prefix=t,s.iconName=e),s.iconName&&s.prefix||(s.prefix&&i.length>0&&(s.iconName=V7(s.prefix,n.innerText)||uT(s.prefix,Q0(n.innerText))),!s.iconName&&Et.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=n.firstChild.data)),s}function f8(n){const t=Mu(n.attributes).reduce((s,o)=>(s.name!=="class"&&s.name!=="style"&&(s[o.name]=o.value),s),{}),e=n.getAttribute("title"),i=n.getAttribute("data-fa-title-id");return Et.autoA11y&&(e?t["aria-labelledby"]="".concat(Et.replacementClass,"-title-").concat(i||Gf()):(t["aria-hidden"]="true",t.focusable="false")),t}function h8(){return{iconName:null,title:null,titleId:null,prefix:null,transform:vr,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function fR(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:e,prefix:i,rest:s}=c8(n),o=f8(n),u=W0("parseNodeAttributes",{},n);let f=t.styleParser?u8(n):[];return ot({iconName:e,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:i,transform:vr,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:f,attributes:o}},u)}const{styles:d8}=_r;function sN(n){const t=Et.autoReplaceSvg==="nest"?fR(n,{styleParser:!1}):fR(n);return~t.extra.classes.indexOf(UP)?Ia("generateLayersText",n,t):Ia("generateSvgReplacementMutation",n,t)}function m8(){return[...YF,...q0]}function hR(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!vs)return Promise.resolve();const e=ve.documentElement.classList,i=g=>e.add("".concat(Jx,"-").concat(g)),s=g=>e.remove("".concat(Jx,"-").concat(g)),o=Et.autoFetchSvg?m8():NP.concat(Object.keys(d8));o.includes("fa")||o.push("fa");const u=[".".concat(UP,":not([").concat(Uo,"])")].concat(o.map(g=>".".concat(g,":not([").concat(Uo,"])"))).join(", ");if(u.length===0)return Promise.resolve();let f=[];try{f=Mu(n.querySelectorAll(u))}catch{}if(f.length>0)i("pending"),s("complete");else return Promise.resolve();const h=fT.begin("onTree"),m=f.reduce((g,v)=>{try{const b=sN(v);b&&g.push(b)}catch(b){LP||b.name==="MissingIcon"&&console.error(b)}return g},[]);return new Promise((g,v)=>{Promise.all(m).then(b=>{iN(b,()=>{i("active"),i("complete"),s("pending"),typeof t=="function"&&t(),h(),g()})}).catch(b=>{h(),v(b)})})}function p8(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;sN(n).then(e=>{e&&iN([e],t)})}function g8(n){return function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=(t||{}).icon?t:Z0(t||{});let{mask:s}=e;return s&&(s=(s||{}).icon?s:Z0(s||{})),n(i,ot(ot({},e),{},{mask:s}))}}const y8=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:e=vr,symbol:i=!1,mask:s=null,maskId:o=null,title:u=null,titleId:f=null,classes:h=[],attributes:m={},styles:g={}}=t;if(!n)return;const{prefix:v,iconName:b,icon:w}=n;return Qp(ot({type:"icon"},n),()=>(Bo("beforeDOMElementCreation",{iconDefinition:n,params:t}),Et.autoA11y&&(u?m["aria-labelledby"]="".concat(Et.replacementClass,"-title-").concat(f||Gf()):(m["aria-hidden"]="true",m.focusable="false")),cT({icons:{main:J0(w),mask:s?J0(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:v,iconName:b,transform:ot(ot({},vr),e),symbol:i,title:u,maskId:o,titleId:f,extra:{attributes:m,styles:g,classes:h}})))};var v8={mixout(){return{icon:g8(y8)}},hooks(){return{mutationObserverCallbacks(n){return n.treeCallback=hR,n.nodeCallback=p8,n}}},provides(n){n.i2svg=function(t){const{node:e=ve,callback:i=()=>{}}=t;return hR(e,i)},n.generateSvgReplacementMutation=function(t,e){const{iconName:i,title:s,titleId:o,prefix:u,transform:f,symbol:h,mask:m,maskId:g,extra:v}=e;return new Promise((b,w)=>{Promise.all([t_(i,u),m.iconName?t_(m.iconName,m.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(x=>{let[N,D]=x;b([t,cT({icons:{main:N,mask:D},prefix:u,iconName:i,transform:f,symbol:h,maskId:g,title:s,titleId:o,extra:v,watchable:!0})])}).catch(w)})},n.generateAbstractIcon=function(t){let{children:e,attributes:i,main:s,transform:o,styles:u}=t;const f=Kp(u);f.length>0&&(i.style=f);let h;return oT(o)&&(h=Ia("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),e.push(h||s.icon),{children:e,attributes:i}}}},_8={mixout(){return{layer(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:e=[]}=t;return Qp({type:"layer"},()=>{Bo("beforeDOMElementCreation",{assembler:n,params:t});let i=[];return n(s=>{Array.isArray(s)?s.map(o=>{i=i.concat(o.abstract)}):i=i.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(Et.cssPrefix,"-layers"),...e].join(" ")},children:i}]})}}}},b8={mixout(){return{counter(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:e=null,classes:i=[],attributes:s={},styles:o={}}=t;return Qp({type:"counter",content:n},()=>(Bo("beforeDOMElementCreation",{content:n,params:t}),Z7({content:n.toString(),title:e,extra:{attributes:s,styles:o,classes:["".concat(Et.cssPrefix,"-layers-counter"),...i]}})))}}}},T8={mixout(){return{text(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:e=vr,title:i=null,classes:s=[],attributes:o={},styles:u={}}=t;return Qp({type:"text",content:n},()=>(Bo("beforeDOMElementCreation",{content:n,params:t}),aR({content:n,transform:ot(ot({},vr),e),title:i,extra:{attributes:o,styles:u,classes:["".concat(Et.cssPrefix,"-layers-text"),...s]}})))}}},provides(n){n.generateLayersText=function(t,e){const{title:i,transform:s,extra:o}=e;let u=null,f=null;if(DP){const h=parseInt(getComputedStyle(t).fontSize,10),m=t.getBoundingClientRect();u=m.width/h,f=m.height/h}return Et.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([t,aR({content:t.innerHTML,width:u,height:f,transform:s,title:i,extra:o,watchable:!0})])}}};const E8=new RegExp('"',"ug"),dR=[1105920,1112319],mR=ot(ot(ot(ot({},{FontAwesome:{normal:"fas",400:"fas"}}),GF),l7),e7),i_=Object.keys(mR).reduce((n,t)=>(n[t.toLowerCase()]=mR[t],n),{}),w8=Object.keys(i_).reduce((n,t)=>{const e=i_[t];return n[t]=e[900]||[...Object.entries(e)][0][1],n},{});function S8(n){const t=n.replace(E8,""),e=D7(t,0),i=e>=dR[0]&&e<=dR[1],s=t.length===2?t[0]===t[1]:!1;return{value:Q0(s?t[0]:t),isSecondary:i||s}}function A8(n,t){const e=n.replace(/^['"]|['"]$/g,"").toLowerCase(),i=parseInt(t),s=isNaN(i)?"normal":i;return(i_[e]||{})[s]||w8[e]}function pR(n,t){const e="".concat(u7).concat(t.replace(":","-"));return new Promise((i,s)=>{if(n.getAttribute(e)!==null)return i();const u=Mu(n.children).filter(b=>b.getAttribute(G0)===t)[0],f=xa.getComputedStyle(n,t),h=f.getPropertyValue("font-family"),m=h.match(m7),g=f.getPropertyValue("font-weight"),v=f.getPropertyValue("content");if(u&&!m)return n.removeChild(u),i();if(m&&v!=="none"&&v!==""){const b=f.getPropertyValue("content");let w=A8(h,g);const{value:x,isSecondary:N}=S8(b),D=m[0].startsWith("FontAwesome");let V=uT(w,x),B=V;if(D){const j=k7(x);j.iconName&&j.prefix&&(V=j.iconName,w=j.prefix)}if(V&&!N&&(!u||u.getAttribute(iT)!==w||u.getAttribute(rT)!==B)){n.setAttribute(e,B),u&&n.removeChild(u);const j=h8(),{extra:Z}=j;Z.attributes[G0]=t,t_(V,w).then(G=>{const J=cT(ot(ot({},j),{},{icons:{main:G,mask:JP()},prefix:w,iconName:B,extra:Z,watchable:!0})),O=ve.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?n.insertBefore(O,n.firstChild):n.appendChild(O),O.outerHTML=J.map(S=>gh(S)).join(`
`),n.removeAttribute(e),i()}).catch(s)}else i()}else i()})}function x8(n){return Promise.all([pR(n,"::before"),pR(n,"::after")])}function R8(n){return n.parentNode!==document.head&&!~f7.indexOf(n.tagName.toUpperCase())&&!n.getAttribute(G0)&&(!n.parentNode||n.parentNode.tagName!=="svg")}function gR(n){if(vs)return new Promise((t,e)=>{const i=Mu(n.querySelectorAll("*")).filter(R8).map(x8),s=fT.begin("searchPseudoElements");rN(),Promise.all(i).then(()=>{s(),n_(),t()}).catch(()=>{s(),n_(),e()})})}var I8={hooks(){return{mutationObserverCallbacks(n){return n.pseudoElementsCallback=gR,n}}},provides(n){n.pseudoElements2svg=function(t){const{node:e=ve}=t;Et.searchPseudoElements&&gR(e)}}};let yR=!1;var C8={mixout(){return{dom:{unwatch(){rN(),yR=!0}}}},hooks(){return{bootstrap(){cR(W0("mutationObserverCallbacks",{}))},noAuto(){l8()},watch(n){const{observeMutationsRoot:t}=n;yR?n_():cR(W0("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}};const vR=n=>{let t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return n.toLowerCase().split(" ").reduce((e,i)=>{const s=i.toLowerCase().split("-"),o=s[0];let u=s.slice(1).join("-");if(o&&u==="h")return e.flipX=!0,e;if(o&&u==="v")return e.flipY=!0,e;if(u=parseFloat(u),isNaN(u))return e;switch(o){case"grow":e.size=e.size+u;break;case"shrink":e.size=e.size-u;break;case"left":e.x=e.x-u;break;case"right":e.x=e.x+u;break;case"up":e.y=e.y-u;break;case"down":e.y=e.y+u;break;case"rotate":e.rotate=e.rotate+u;break}return e},t)};var D8={mixout(){return{parse:{transform:n=>vR(n)}}},hooks(){return{parseNodeAttributes(n,t){const e=t.getAttribute("data-fa-transform");return e&&(n.transform=vR(e)),n}}},provides(n){n.generateAbstractTransformGrouping=function(t){let{main:e,transform:i,containerWidth:s,iconWidth:o}=t;const u={transform:"translate(".concat(s/2," 256)")},f="translate(".concat(i.x*32,", ").concat(i.y*32,") "),h="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),m="rotate(".concat(i.rotate," 0 0)"),g={transform:"".concat(f," ").concat(h," ").concat(m)},v={transform:"translate(".concat(o/2*-1," -256)")},b={outer:u,inner:g,path:v};return{tag:"g",attributes:ot({},b.outer),children:[{tag:"g",attributes:ot({},b.inner),children:[{tag:e.icon.tag,children:e.icon.children,attributes:ot(ot({},e.icon.attributes),b.path)}]}]}}}};const Mv={x:0,y:0,width:"100%",height:"100%"};function _R(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.attributes&&(n.attributes.fill||t)&&(n.attributes.fill="black"),n}function P8(n){return n.tag==="g"?n.children:[n]}var N8={hooks(){return{parseNodeAttributes(n,t){const e=t.getAttribute("data-fa-mask"),i=e?Yp(e.split(" ").map(s=>s.trim())):JP();return i.prefix||(i.prefix=Ra()),n.mask=i,n.maskId=t.getAttribute("data-fa-mask-id"),n}}},provides(n){n.generateAbstractMask=function(t){let{children:e,attributes:i,main:s,mask:o,maskId:u,transform:f}=t;const{width:h,icon:m}=s,{width:g,icon:v}=o,b=S7({transform:f,containerWidth:g,iconWidth:h}),w={tag:"rect",attributes:ot(ot({},Mv),{},{fill:"white"})},x=m.children?{children:m.children.map(_R)}:{},N={tag:"g",attributes:ot({},b.inner),children:[_R(ot({tag:m.tag,attributes:ot(ot({},m.attributes),b.path)},x))]},D={tag:"g",attributes:ot({},b.outer),children:[N]},V="mask-".concat(u||Gf()),B="clip-".concat(u||Gf()),j={tag:"mask",attributes:ot(ot({},Mv),{},{id:V,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[w,D]},Z={tag:"defs",children:[{tag:"clipPath",attributes:{id:B},children:P8(v)},j]};return e.push(Z,{tag:"rect",attributes:ot({fill:"currentColor","clip-path":"url(#".concat(B,")"),mask:"url(#".concat(V,")")},Mv)}),{children:e,attributes:i}}}},O8={provides(n){let t=!1;xa.matchMedia&&(t=xa.matchMedia("(prefers-reduced-motion: reduce)").matches),n.missingIconAbstract=function(){const e=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:ot(ot({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const o=ot(ot({},s),{},{attributeName:"opacity"}),u={tag:"circle",attributes:ot(ot({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||u.children.push({tag:"animate",attributes:ot(ot({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ot(ot({},o),{},{values:"1;0;1;1;0;1;"})}),e.push(u),e.push({tag:"path",attributes:ot(ot({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:ot(ot({},o),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:ot(ot({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ot(ot({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}},M8={hooks(){return{parseNodeAttributes(n,t){const e=t.getAttribute("data-fa-symbol"),i=e===null?!1:e===""?!0:e;return n.symbol=i,n}}}},V8=[R7,v8,_8,b8,T8,I8,C8,D8,N8,O8,M8];G7(V8,{mixoutsTo:hi});hi.noAuto;hi.config;hi.library;hi.dom;const r_=hi.parse;hi.findIconDefinition;hi.toHtml;const k8=hi.icon;hi.layer;hi.text;hi.counter;var Vv={exports:{}},kv,bR;function L8(){if(bR)return kv;bR=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return kv=n,kv}var Lv,TR;function j8(){if(TR)return Lv;TR=1;var n=L8();function t(){}function e(){}return e.resetWarningCache=t,Lv=function(){function i(u,f,h,m,g,v){if(v!==n){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}i.isRequired=i;function s(){return i}var o={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:e,resetWarningCache:t};return o.PropTypes=o,o},Lv}var ER;function U8(){return ER||(ER=1,Vv.exports=j8()()),Vv.exports}var B8=U8();const zt=c_(B8);function wR(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),e.push.apply(e,i)}return e}function mr(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?wR(Object(e),!0).forEach(function(i){Zl(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):wR(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function ap(n){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(n)}function Zl(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function z8(n,t){if(n==null)return{};var e={},i=Object.keys(n),s,o;for(o=0;o<i.length;o++)s=i[o],!(t.indexOf(s)>=0)&&(e[s]=n[s]);return e}function F8(n,t){if(n==null)return{};var e=z8(n,t),i,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(s=0;s<o.length;s++)i=o[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function s_(n){return q8(n)||H8(n)||G8(n)||K8()}function q8(n){if(Array.isArray(n))return a_(n)}function H8(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function G8(n,t){if(n){if(typeof n=="string")return a_(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return a_(n,t)}}function a_(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function K8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $8(n){var t,e=n.beat,i=n.fade,s=n.beatFade,o=n.bounce,u=n.shake,f=n.flash,h=n.spin,m=n.spinPulse,g=n.spinReverse,v=n.pulse,b=n.fixedWidth,w=n.inverse,x=n.border,N=n.listItem,D=n.flip,V=n.size,B=n.rotation,j=n.pull,Z=(t={"fa-beat":e,"fa-fade":i,"fa-beat-fade":s,"fa-bounce":o,"fa-shake":u,"fa-flash":f,"fa-spin":h,"fa-spin-reverse":g,"fa-spin-pulse":m,"fa-pulse":v,"fa-fw":b,"fa-inverse":w,"fa-border":x,"fa-li":N,"fa-flip":D===!0,"fa-flip-horizontal":D==="horizontal"||D==="both","fa-flip-vertical":D==="vertical"||D==="both"},Zl(t,"fa-".concat(V),typeof V<"u"&&V!==null),Zl(t,"fa-rotate-".concat(B),typeof B<"u"&&B!==null&&B!==0),Zl(t,"fa-pull-".concat(j),typeof j<"u"&&j!==null),Zl(t,"fa-swap-opacity",n.swapOpacity),t);return Object.keys(Z).map(function(G){return Z[G]?G:null}).filter(function(G){return G})}function Y8(n){return n=n-0,n===n}function aN(n){return Y8(n)?n:(n=n.replace(/[\-_\s]+(.)?/g,function(t,e){return e?e.toUpperCase():""}),n.substr(0,1).toLowerCase()+n.substr(1))}var Q8=["style"];function X8(n){return n.charAt(0).toUpperCase()+n.slice(1)}function W8(n){return n.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var i=e.indexOf(":"),s=aN(e.slice(0,i)),o=e.slice(i+1).trim();return s.startsWith("webkit")?t[X8(s)]=o:t[s]=o,t},{})}function oN(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var i=(t.children||[]).map(function(h){return oN(n,h)}),s=Object.keys(t.attributes||{}).reduce(function(h,m){var g=t.attributes[m];switch(m){case"class":h.attrs.className=g,delete t.attributes.class;break;case"style":h.attrs.style=W8(g);break;default:m.indexOf("aria-")===0||m.indexOf("data-")===0?h.attrs[m.toLowerCase()]=g:h.attrs[aN(m)]=g}return h},{attrs:{}}),o=e.style,u=o===void 0?{}:o,f=F8(e,Q8);return s.attrs.style=mr(mr({},s.attrs.style),u),n.apply(void 0,[t.tag,mr(mr({},s.attrs),f)].concat(s_(i)))}var lN=!1;try{lN=!0}catch{}function Z8(){if(!lN&&console&&typeof console.error=="function"){var n;(n=console).error.apply(n,arguments)}}function SR(n){if(n&&ap(n)==="object"&&n.prefix&&n.iconName&&n.icon)return n;if(r_.icon)return r_.icon(n);if(n===null)return null;if(n&&ap(n)==="object"&&n.prefix&&n.iconName)return n;if(Array.isArray(n)&&n.length===2)return{prefix:n[0],iconName:n[1]};if(typeof n=="string")return{prefix:"fas",iconName:n}}function jv(n,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Zl({},n,t):{}}var AR={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},_s=he.forwardRef(function(n,t){var e=mr(mr({},AR),n),i=e.icon,s=e.mask,o=e.symbol,u=e.className,f=e.title,h=e.titleId,m=e.maskId,g=SR(i),v=jv("classes",[].concat(s_($8(e)),s_((u||"").split(" ")))),b=jv("transform",typeof e.transform=="string"?r_.transform(e.transform):e.transform),w=jv("mask",SR(s)),x=k8(g,mr(mr(mr(mr({},v),b),w),{},{symbol:o,title:f,titleId:h,maskId:m}));if(!x)return Z8("Could not find icon",g),null;var N=x.abstract,D={ref:t};return Object.keys(e).forEach(function(V){AR.hasOwnProperty(V)||(D[V]=e[V])}),J8(N[0],D)});_s.displayName="FontAwesomeIcon";_s.propTypes={beat:zt.bool,border:zt.bool,beatFade:zt.bool,bounce:zt.bool,className:zt.string,fade:zt.bool,flash:zt.bool,mask:zt.oneOfType([zt.object,zt.array,zt.string]),maskId:zt.string,fixedWidth:zt.bool,inverse:zt.bool,flip:zt.oneOf([!0,!1,"horizontal","vertical","both"]),icon:zt.oneOfType([zt.object,zt.array,zt.string]),listItem:zt.bool,pull:zt.oneOf(["right","left"]),pulse:zt.bool,rotation:zt.oneOf([0,90,180,270]),shake:zt.bool,size:zt.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:zt.bool,spinPulse:zt.bool,spinReverse:zt.bool,symbol:zt.oneOfType([zt.bool,zt.string]),title:zt.string,titleId:zt.string,transform:zt.oneOfType([zt.string,zt.object]),swapOpacity:zt.bool};var J8=oN.bind(null,he.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const tq={prefix:"fas",iconName:"arrow-right-from-bracket",icon:[512,512,["sign-out"],"f08b","M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 192 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l210.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128zM160 96c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 32C43 32 0 75 0 128L0 384c0 53 43 96 96 96l64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l64 0z"]},eq={prefix:"fas",iconName:"folder-plus",icon:[512,512,[],"f65e","M512 416c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96C0 60.7 28.7 32 64 32l128 0c20.1 0 39.1 9.5 51.2 25.6l19.2 25.6c6 8.1 15.5 12.8 25.6 12.8l160 0c35.3 0 64 28.7 64 64l0 256zM232 376c0 13.3 10.7 24 24 24s24-10.7 24-24l0-64 64 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-64 0 0-64c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 64-64 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l64 0 0 64z"]},nq={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},iq=nq,rq={prefix:"fas",iconName:"chevron-down",icon:[512,512,[],"f078","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},sq={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]};function aq(){const n=C.useRef(),{members:t,loading:e,error:i}=Ou();if(e)return P.jsx("div",{className:"mt-8 text-center",children:"로딩 중..."});if(i)return P.jsxs("div",{className:"mt-8 text-center text-red-500",children:["에러: ",i]});const s=t.find(o=>o.id==="1");return s?P.jsx(P.Fragment,{children:P.jsxs("div",{className:"mb-6 mt-8 flex flex-col gap-2 rounded-xl bg-white p-8 sm:flex-row sm:items-center sm:gap-6 sm:py-4",children:[P.jsx("img",{className:"mx-auto block h-24 rounded-full sm:mx-0 sm:shrink-0",src:s.image,alt:s.name}),P.jsxs("div",{className:"space-y-2 truncate text-center sm:text-left",children:[P.jsx("p",{className:"truncate text-lg font-semibold text-black",children:s.name}),P.jsx("p",{className:"truncate font-medium text-gray-500",children:s.position}),P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx(zo,{to:"/mypage",children:P.jsx("button",{className:"rounded-full border-purple-200 bg-white px-4 py-1 text-purple-600 transition-colors hover:border-transparent hover:bg-purple-600 hover:text-white focus:outline-2 focus:outline-offset-2 focus:outline-purple-500 active:bg-purple-700",children:"My Page"})}),P.jsxs("div",{className:"flex justify-center",children:[P.jsx(_s,{icon:tq,onClick:()=>n.current.showModal(),className:"p-2 text-slate-600 hover:cursor-pointer hover:text-purple-600"}),P.jsxs("dialog",{ref:n,className:"rounded-xl px-12 py-8 text-lg font-semibold outline-none backdrop:bg-purple-950 backdrop:opacity-70 backdrop:backdrop-blur-lg",children:[P.jsx("p",{className:"mb-4 text-2xl",children:"Do you really want to log out?"}),P.jsxs("div",{className:"m-auto flex w-fit gap-4",children:[P.jsx("button",{onClick:()=>n.current.close(),className:"mx-auto bg-white px-5 py-2 outline-none",children:"Close"}),P.jsx("button",{onClick:()=>n.current.close(),className:"mx-auto bg-purple-400 px-5 py-2 text-white outline-none",children:"Confirm"})]})]})]})]})]})]})}):P.jsx("div",{className:"mt-8 text-center",children:"사용자를 찾을 수 없습니다."})}const oq="/vite-test/assets/TeamFace1-BYsu3qE5.png",lq="/vite-test/assets/TeamFace2-r1CxHxUw.png",uq="/vite-test/assets/TeamFace3-DJf8xezy.png",cq="/vite-test/assets/TeamFace4-Dglbi1ks.png",fq="/vite-test/assets/TeamFace5-r00HSNTZ.png",hq="/vite-test/assets/TeamFace6-Cc341GsB.png",dq=[{id:1,name:"Hoyeon Lee",email:"hoyeon.lee@supernova.com",position:"CEO",image:oq,bulletList:["consectetur","maximus","lacus","amet nunc"],description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. In mollis luctus lacus, maximus consectetur nunc aliquam congue. Morbi interdum massa at sollicitudin lobortis. Morbi ultrices nisi et nulla aliquam blandit.",snsIcons:[Hl,nf]},{id:2,name:"Seoyeon Park",email:"seoyeon.park@supernova.com",position:"CTO",image:lq,bulletList:["consectetur","ipsum","interdum"],description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. In mollis luctus lacus, maximus consectetur nunc aliquam congue. Morbi interdum massa at sollicitudin lobortis. Morbi ultrices nisi et nulla aliquam blandit.",snsIcons:[Hl,nf,bm]},{id:3,name:"Dowoom Kim",email:"dowoom.kim@supernova.com",position:"DevOps Engineer",image:uq,bulletList:["consectetur","adipiscing"],description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. In mollis luctus lacus, maximus consectetur nunc aliquam congue. Morbi interdum massa at sollicitudin lobortis. Morbi ultrices nisi et nulla aliquam blandit.",snsIcons:[Hl,bm]},{id:4,name:"Yeondoo Hwang",email:"yeondoo.hwang@supernova.com",position:"Product Engineer",image:cq,bulletList:["consectetur","elit"],description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. In mollis luctus lacus, maximus consectetur nunc aliquam congue. Morbi interdum massa at sollicitudin lobortis. Morbi ultrices nisi et nulla aliquam blandit.",snsIcons:[Hl,bm]},{id:5,name:"Shinwoo Ji",email:"shinwoo.ji@supernova.com",position:"Product Designer",image:fq,bulletList:["aliquam","interdum","mollis"],description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. In mollis luctus lacus, maximus consectetur nunc aliquam congue. Morbi interdum massa at sollicitudin lobortis. Morbi ultrices nisi et nulla aliquam blandit.",snsIcons:[Hl,nf]},{id:6,name:"Dayae Han",email:"dayae.han@supernova.com",position:"Product Marketer",image:hq,bulletList:["interdum","mollis"],description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. In mollis luctus lacus, maximus consectetur nunc aliquam congue. Morbi interdum massa at sollicitudin lobortis. Morbi ultrices nisi et nulla aliquam blandit.",snsIcons:[nf]}],mq="/vite-test/assets/ProjectImage1-DH33VcsH.jpeg",pq="/vite-test/assets/ProjectImage2-oNqd7bR6.jpeg",gq="/vite-test/assets/ProjectImage3-DBXcYONN.jpeg",yq="/vite-test/assets/ProjectImage4-BIS3qRhM.jpeg",Wd=n=>{var t;return(t=dq.find(e=>e.id===n))==null?void 0:t.id},op=[{id:1,thumbnail:mq,title:"Hospital Website",subtitle:"Trust and trust",category:["Platform Service"],platform:"WEB",createDate:"2025-01-01",author:Wd(1),headerContents:"consectetur nunc aliquam",contents:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. In mollis luctus lacus, maximus consectetur nunc aliquam congue. Morbi interdum massa at sollicitudin lobortis. Morbi ultrices nisi et nulla aliquam blandit."},{id:2,thumbnail:pq,title:"Food SNS Service",subtitle:"Going to be better and faster.",category:["consectetur"],platform:"iOS",createDate:"2025-01-01",author:Wd(5),headerContents:"consectetur nunc aliquam",contents:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. In mollis luctus lacus, maximus consectetur nunc aliquam congue. Morbi interdum massa at sollicitudin lobortis. Morbi ultrices nisi et nulla aliquam blandit."},{id:3,thumbnail:gq,title:"Productivity App",subtitle:"Lubricate your life more",category:["consectetur"],platform:"AndroidOS",createDate:"2025-01-01",author:Wd(4),headerContents:"consectetur nunc aliquam",contents:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. In mollis luctus lacus, maximus consectetur nunc aliquam congue. Morbi interdum massa at sollicitudin lobortis. Morbi ultrices nisi et nulla aliquam blandit."},{id:4,thumbnail:yq,title:"Travel App",subtitle:"new experience",category:["consectetur"],platform:"iOS",createDate:"2025-01-01",author:Wd(2),headerContents:"consectetur nunc aliquam",contents:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. In mollis luctus lacus, maximus consectetur nunc aliquam congue. Morbi interdum massa at sollicitudin lobortis. Morbi ultrices nisi et nulla aliquam blandit."}];function Uv({children:n}){const t=op.find(e=>e.title===n);return P.jsx(P.Fragment,{children:P.jsx(zo,{to:`/project/page/${t.id}`,className:"truncate rounded-md pl-1 hover:underline",children:n})})}function vq(){return P.jsx(P.Fragment,{children:P.jsxs("details",{className:"mb-4 pl-6 text-left",open:!0,children:[P.jsx("summary",{className:"mb-2 select-none font-semibold",children:"My Projects"}),P.jsxs("div",{className:"flex flex-col gap-1 pl-2 text-slate-700",children:[P.jsx(Uv,{children:"Hospital Website"}),P.jsx(Uv,{children:"Food SNS Service"}),P.jsx(Uv,{children:"Productivity App"}),P.jsx("a",{className:"w-fit rounded-md px-2 py-1 text-sm text-slate-500 transition-colors hover:bg-purple-100",href:"#",children:"+ 32 more"})]})]})})}function Bv({children:n}){return P.jsx(P.Fragment,{children:P.jsxs("label",{className:"flex items-center rounded-md px-2 py-1 transition-colors hover:bg-purple-100",children:[P.jsx("input",{className:"peer mr-2",type:"checkbox",name:"todo[1]"}),P.jsx("p",{className:"truncate text-slate-800 peer-checked:text-slate-400 peer-checked:line-through",children:n}),P.jsx(_s,{className:"ml-auto text-slate-600 peer-checked:hidden",icon:sq})]})})}function _q(){return P.jsx(P.Fragment,{children:P.jsxs("details",{className:"pl-6 text-left",open:!0,children:[P.jsx("summary",{className:"mb-2 select-none font-semibold",children:"Today"}),P.jsxs("div",{className:"flex flex-col",children:[P.jsx(Bv,{children:"Create a to do lists"}),P.jsx(Bv,{children:"Check off first item"}),P.jsx(Bv,{children:"Investigate race condition"})]})]})})}function bq({member:n}){return P.jsx(P.Fragment,{children:P.jsxs("div",{className:"contributors-wrap",children:[P.jsx("img",{className:"contributors-preview-profile-img",src:n.image,alt:n.name}),P.jsx("div",{className:"tooltip text-slate-800",children:n.name})]})})}function Tq(){const{members:n,loading:t,error:e}=Ou();if(t)return P.jsx("div",{className:"py-4 text-center",children:"로딩 중..."});if(e)return P.jsxs("div",{className:"py-4 text-center text-red-500",children:["에러: ",e]});const i=n.slice(0,5),s=Math.max(0,n.length-5);return P.jsx(P.Fragment,{children:P.jsxs("div",{className:"py-4 pl-8",children:[P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx("p",{className:"select-none font-semibold",children:"Contributors"}),P.jsx("span",{className:"flex items-center rounded-full bg-slate-100 px-2 py-1 text-xs font-semibold text-slate-700",children:n.length})]}),P.jsxs("div",{className:"mt-3 flex flex-col items-start gap-2",children:[P.jsx("div",{className:"flex -space-x-2 overflow-hidden",children:i.map(o=>P.jsx(bq,{member:o},o.id))}),P.jsx("div",{className:"mt-1 text-left text-sm font-medium",children:P.jsxs(zo,{to:"/contributors",className:"w-fit rounded-md px-2 py-1 text-slate-500 transition-colors hover:bg-purple-100",children:["+ ",s," others"]})})]})]})})}function $c({children:n,to:t,isActive:e}){return P.jsx(zo,{className:"category-contents-style",to:t,children:n})}function Eq(){return P.jsx(P.Fragment,{children:P.jsxs("nav",{className:"flex justify-center border-slate-100 pb-4 pt-6 sm:py-4",children:[P.jsx($c,{to:"/",children:"Home"}),P.jsx($c,{to:"/team",children:"Team"}),P.jsx($c,{to:"/project",children:"Project"}),P.jsx($c,{to:"/kanban",children:"Kanban"}),P.jsx($c,{to:"/reports",children:"Reports"})]})})}function va({children:n}){return P.jsx(P.Fragment,{children:P.jsx("div",{className:"my-8 text-6xl font-extrabold tracking-tight",children:P.jsx("span",{className:"select-none bg-gradient-to-r from-purple-400 to-blue-500 bg-clip-text text-transparent drop-shadow-lg",children:n})})})}function wq(){return P.jsx("div",{className:"flex h-full bg-home bg-cover px-8 pb-40 lg:px-0",children:P.jsxs("div",{className:"m-auto flex h-fit w-fit transform flex-col items-center justify-center rounded-3xl bg-white/50 p-12 drop-shadow-xl backdrop-blur-lg transition-transform hover:skew-y-12",children:[P.jsx("div",{className:"mb-8 text-6xl font-extrabold leading-none tracking-tight transition-all hover:blur-md",children:P.jsx(va,{children:"Hello World"})}),P.jsxs("blockquote",{className:"mb-8 text-center text-2xl font-semibold italic text-slate-900",children:["When you look",P.jsx("span",{className:"relative inline-block before:absolute before:-inset-1 before:block before:-skew-y-3 before:bg-pink-500",children:P.jsx("span",{className:"relative text-white",children:"annoyed"})}),"all the time,",P.jsx("br",{}),"people think that you're busy."]}),P.jsx("button",{className:"focus:ring-opacity-75; w-fit transform rounded-lg bg-purple-500 px-4 py-2 font-semibold text-white shadow-md transition ease-in-out hover:-translate-y-1 hover:scale-110 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-400",children:"Click me"})]})})}function Sq({member:n}){return P.jsxs("div",{className:"mb-4 flex w-fit max-w-sm flex-col items-center divide-y rounded-md border border-slate-50 bg-white p-6 text-left drop-shadow-xl transition-opacity lg:w-1/2 lg:max-w-none xl:w-1/3 xxl:w-1/4",children:[P.jsx("img",{src:n.image,alt:`${n.name} profile`,className:"mb-8 h-40 w-40 rounded-full"}),P.jsxs("div",{className:"w-full space-y-2 p-4 text-center",children:[P.jsx("p",{className:"text-2xl font-semibold",children:n.name}),P.jsx("p",{className:"text-lg font-semibold text-purple-600",children:n.position}),P.jsx("div",{className:"flex justify-center gap-2",children:n.snsIcons&&n.snsIcons.map(({iconName:t,icon:e})=>P.jsx("a",{href:"#",className:"text-xl text-slate-600 transition-colors hover:text-purple-600",children:P.jsx(_s,{icon:e})},t))})]}),P.jsxs("div",{className:"text-slate-800",children:[P.jsx("ul",{className:"list-disc pl-10 pt-4",children:n.bulletList.map((t,e)=>P.jsx("li",{children:t},e))}),P.jsx("p",{className:"p-4",children:n.description})]})]})}function Aq(){const{members:n,loading:t,error:e}=Ou();return t?P.jsxs("div",{children:[P.jsx(va,{children:"Who we are"}),P.jsx("div",{className:"mt-8 text-center",children:"로딩 중..."})]}):e?P.jsxs("div",{children:[P.jsx(va,{children:"Who we are"}),P.jsxs("div",{className:"mt-8 text-center text-red-500",children:["에러: ",e]})]}):P.jsxs("div",{children:[P.jsx(va,{children:"Who we are"}),P.jsx("div",{className:"mt-8 flex flex-col items-center justify-center",children:P.jsx("div",{className:"flex w-full flex-wrap justify-center gap-12 p-8 lg:p-4",children:n.map(i=>P.jsx(Sq,{member:i},i.id))})})]})}function uN({index:n}){return P.jsx(P.Fragment,{children:P.jsxs(zo,{to:`/project/page/${n.id}`,className:"group mb-4 w-fit px-6 py-4 text-left transition-opacity hover:opacity-80 lg:w-1/2 lg:p-6 xl:w-1/3 xxl:w-1/4 xxxl:w-1/5",children:[P.jsx("img",{className:"rounded-lg",src:n.thumbnail,alt:"thumbnail"}),P.jsxs("div",{className:"mt-4 px-2",children:[P.jsx("div",{className:"text-xs font-bold text-purple-500",children:n.category}),P.jsx("div",{className:"mb-2 mt-1",children:P.jsx("div",{href:"#",className:"line-clamp-2 font-bold text-slate-700 transition-colors group-hover:text-purple-500",children:n.title})}),P.jsx("span",{className:"rounded-md bg-purple-50 px-2 py-1 text-xs text-slate-600",children:n.platform})]})]})})}function xq(){return P.jsx(P.Fragment,{children:P.jsx("div",{className:"mb-4 w-full p-6 lg:w-1/2 xl:w-1/3 xxl:w-1/4 xxxl:w-1/5",children:P.jsxs("a",{href:"#",className:"group flex h-full w-full flex-col justify-center gap-4 rounded-lg border-2 border-purple-300 bg-purple-100 p-4 text-left transition-colors hover:border-transparent hover:bg-purple-600 hover:text-white focus:outline-2 focus:outline-offset-2 focus:outline-purple-500 active:bg-purple-700",children:[P.jsxs("div",{className:"flex items-center gap-2 text-xl text-purple-600",children:[P.jsx(_s,{className:"group-hover:text-white",icon:eq}),P.jsx("h3",{className:"group-hover:text-white",children:"New project"})]}),P.jsx("p",{className:"text-gray-500 group-hover:text-white",children:"Create a new project from a variety of starting templates."})]})})})}function zv({href:n,isActive:t,children:e}){return P.jsx(P.Fragment,{children:P.jsx("li",{href:n,className:`hover:bg-purple-500 ${t?"bg-purple-600 text-white":"bg-purple-500/10 text-purple-500 hover:text-white"}`,children:e})})}function Rq(){return P.jsx(P.Fragment,{children:P.jsxs("div",{className:"mx-6 mb-4 flex w-auto items-center gap-6 overflow-auto rounded-full bg-slate-50 px-8 py-4 text-xl lg:m-auto lg:w-fit lg:overflow-hidden",children:[P.jsx("h2",{className:"font-medium",children:"Categories"}),P.jsxs("ul",{className:"[&>*]:border-sky-500/15 flex gap-2 font-medium text-purple-500 [&>*]:rounded-full [&>*]:border [&>*]:border-purple-100 [&>*]:px-4 [&>*]:py-0.5 [&>*]:transition-colors [&>*]:hover:cursor-pointer",children:[P.jsx(zv,{href:"/#",children:"Sales"}),P.jsx(zv,{href:"/#",children:"Marketing"}),P.jsx(zv,{href:"/#",children:"SEO"})]})]})})}function Iq(){return P.jsxs("div",{children:[P.jsx(va,{children:"Our Projects"}),P.jsx(Rq,{}),P.jsxs("div",{className:"flex w-full flex-wrap justify-center md:justify-start",children:[P.jsx(xq,{}),op.slice().reverse().map(n=>P.jsx(uN,{index:n},n.id))]})]})}const Cq="/vite-test/assets/Photo-CwuZaVEI.avif";function hr(){return P.jsx(P.Fragment,{children:P.jsx("div",{className:"w-full p-4",children:P.jsx("div",{className:"overflow-hidden rounded-xl bg-white shadow-md",children:P.jsxs("a",{href:"#",className:"group transition-opacity hover:opacity-80 xxl:flex",children:[P.jsx("div",{className:"xxl:flex-shrink-0",children:P.jsx("img",{className:"h-48 w-full object-cover xxl:w-auto",src:Cq,alt:"Man looking at item at a store"})}),P.jsxs("div",{className:"p-6 text-left xxl:p-8",children:[P.jsx("div",{className:"text-sm font-semibold uppercase tracking-wide text-purple-500",children:"Case study"}),P.jsx("p",{className:"mt-1 block w-full truncate text-lg font-medium leading-tight text-black group-hover:text-purple-600",children:"Finding customers for your new business"}),P.jsx("p",{className:"mt-2 line-clamp-3 text-gray-500",children:"Getting a new business off the ground is a lot of hard work. Here are five ideas you can use to find your first customers."})]})]})})})})}function Dq(){const{id:n}=KM(),t=Number(n),e=op.find(f=>f.id===t),{members:i,loading:s,error:o}=Ou();if(s)return P.jsx("div",{className:"mt-8 text-center",children:"로딩 중..."});if(o)return P.jsxs("div",{className:"mt-8 text-center text-red-500",children:["에러: ",o]});const u=i.find(f=>f.id===e.author.toString());return u?P.jsx("div",{className:"h-full lg:bg-slate-50",children:P.jsxs("div",{children:[P.jsx("div",{className:"bg-cover bg-center lg:mb-12",style:{backgroundImage:`url(${e.thumbnail})`},children:P.jsxs("div",{className:"space-y-4 bg-black/50 py-24 text-center backdrop-blur-sm transition-all ease-in hover:backdrop-blur-0",children:[P.jsx("p",{className:"text-5xl text-white sm:text-6xl xl:text-8xl",children:e.title}),P.jsx("p",{className:"text-xl text-white/80 sm:text-3xl",children:e.subtitle}),P.jsxs("div",{className:"flex justify-center space-x-2 text-white/70",children:[P.jsx("p",{className:"text-xl",children:u.name}),P.jsx("p",{children:"|"}),P.jsx("p",{className:"text-xl",children:e.createDate})]})]})}),P.jsxs("div",{className:"m-auto w-4/5 divide-y rounded-lg bg-white py-8 text-left lg:px-24 lg:drop-shadow-lg xl:w-2/3",children:[P.jsxs("div",{children:[P.jsx("p",{className:"py-8 text-6xl",children:e.headerContents}),P.jsxs("p",{className:"pb-4 text-xl first-letter:float-left first-letter:mr-3 first-letter:text-7xl first-letter:font-bold",children:[e.contents,e.contents,e.contents]}),P.jsx("p",{className:"py-8 text-6xl",children:e.headerContents}),P.jsxs("p",{className:"pb-4 text-xl first-letter:float-left first-letter:mr-3 first-letter:text-7xl first-letter:font-bold",children:[e.contents,e.contents,e.contents,e.contents,e.contents,e.contents,e.contents,e.contents,e.contents]}),P.jsxs("p",{className:"pb-4 text-xl",children:[e.contents,e.contents,e.contents,e.contents,e.contents,e.contents]})]}),P.jsxs("div",{className:"mt-12",children:[P.jsx("p",{className:"py-8 text-4xl",children:"Reference"}),P.jsx(hr,{}),P.jsx(hr,{})]}),P.jsxs("div",{className:"mt-12 flex flex-col items-center space-y-4 py-16",children:[P.jsx("img",{src:u.image,className:"h-20 w-20 rounded-full"}),P.jsxs("div",{className:"space-y-2 text-center",children:[P.jsx("p",{className:"text-2xl font-semibold",children:u.name}),P.jsx("p",{className:"text-lg font-semibold text-purple-600",children:u.position}),P.jsx("div",{className:"flex justify-center gap-2",children:u.snsIcons&&u.snsIcons.map(({iconName:f,icon:h})=>P.jsx("a",{href:"#",className:"text-xl text-slate-600 transition-colors hover:text-purple-600",children:P.jsx(_s,{icon:h})},f))})]}),P.jsx("button",{className:"rounded bg-purple-600 px-4 py-2 text-white hover:bg-purple-700",children:"Subscription"})]}),P.jsx("div",{className:"py-4 xxl:flex",children:op.slice(0,5).map(f=>P.jsx(uN,{index:f},f.id))})]})]})}):P.jsx("div",{className:"mt-8 text-center",children:"작성자 정보를 찾을 수 없습니다."})}function Pq(){return P.jsxs("div",{className:"my-4 px-8",children:[P.jsx(_s,{icon:iq,className:"absolute translate-x-3 translate-y-2/3 transform select-none text-gray-400"}),P.jsx("input",{className:"w-full rounded-lg border-2 border-slate-300 px-8 py-1 placeholder:italic placeholder:text-gray-500 xl:w-3/5 xxl:w-2/5 xxxl:mb-4",placeholder:"Search for anything...",type:"text",name:"search"})]})}function Nq(){return P.jsxs("div",{children:[P.jsx(va,{children:"Research Reports"}),P.jsx(Pq,{}),P.jsxs("div",{className:"flex flex-wrap p-4 xl:px-24 xxxl:px-48",children:[P.jsx(hr,{}),P.jsx(hr,{}),P.jsx(hr,{}),P.jsx(hr,{}),P.jsx(hr,{}),P.jsx(hr,{}),P.jsx(hr,{}),P.jsx(hr,{})]})]})}function Oq(){const{members:n,loading:t,error:e}=Ou();return t?P.jsx("div",{className:"mt-8 text-center",children:"로딩 중..."}):e?P.jsxs("div",{className:"mt-8 text-center text-red-500",children:["에러: ",e]}):P.jsx("div",{className:"flex h-full bg-slate-100 lg:pb-96",children:P.jsxs("div",{className:"m-auto drop-shadow-lg",children:[P.jsx(va,{children:"Contributors"}),P.jsx("div",{className:"overflow-hidden rounded-xl",children:P.jsx("table",{children:P.jsx("tbody",{children:n.map(i=>P.jsxs("tr",{className:"text-left text-lg odd:bg-white even:bg-slate-50 [&>*]:px-8 [&>*]:py-4",children:[P.jsx("td",{children:P.jsx("img",{src:i.image,className:"h-auto w-20 rounded-full ring-2 ring-slate-100"})}),P.jsx("td",{className:"text-slate-800",children:i.name}),P.jsx("td",{className:"text-slate-500",children:i.position}),P.jsx("td",{className:"text-slate-500",children:i.email})]},i.id))})})})]})})}const Yc=({label:n,id:t,type:e,placeholder:i,value:s,onChange:o,options:u,className:f="",readOnly:h})=>{const m="block w-full appearance-none rounded border border-purple-200 bg-purple-50 px-4 py-3 leading-tight text-slate-800 focus:border-purple-500 focus:bg-white focus:outline-none mb-3";return P.jsxs("div",{className:`w-full px-3 ${f}`,children:[P.jsx("label",{className:"mb-2 block pl-1 text-xs font-bold uppercase tracking-wide text-slate-800",htmlFor:t,children:n}),e==="select"?P.jsxs("div",{className:"relative",children:[P.jsx(_s,{icon:rq,className:"pointer-events-none absolute right-3 top-3 z-10 transform pt-0.5 text-purple-600"}),P.jsx("select",{className:`${m} pr-8`,id:t,value:s,onChange:o,children:u.map(g=>P.jsx("option",{children:g},g))})]}):e==="textarea"?P.jsx("textarea",{className:`${m} min-h-[100px]`,id:t,placeholder:i,value:s,onChange:o}):P.jsx("input",{className:m,id:t,type:e,placeholder:i,value:s,onChange:o,readOnly:h})]})};function Mq(){const{members:n,loading:t,error:e}=Ou(),[i,s]=C.useState({name:"",position:"",email:"",description:""}),[o,u]=C.useState({loading:!1,error:null}),f=["CEO","CTO","Product Engineer","Product Designer","Product Marketer"];if(C.useEffect(()=>{if(n.length>0){const v=n.find(b=>b.id==="1");v&&s({name:v.name,position:v.position,email:v.email,description:v.description})}},[n]),t)return P.jsx("div",{className:"pt-20 text-center",children:"로딩 중..."});if(e)return P.jsxs("div",{className:"pt-20 text-center text-red-500",children:["에러: ",e]});const h=n.find(v=>v.id==="1");if(!h)return P.jsx("div",{className:"pt-20 text-center",children:"사용자를 찾을 수 없습니다."});const m=v=>b=>{s({...i,[v]:b.target.value})},g=async v=>{v.preventDefault(),u({loading:!0,error:null});try{const b=hB(eT,"members","1"),w={name:i.name,position:i.position,email:i.email,description:i.description,snsIcons:h.snsIcons.map(x=>x.iconName).join(","),bulletList:h.bulletList.join(","),image:h.image};await PB(b,w),u({loading:!1,error:null}),alert("프로필이 성공적으로 업데이트되었습니다!")}catch(b){console.error("프로필 업데이트 중 오류 발생:",b),u({loading:!1,error:b.message})}};return P.jsx("div",{children:P.jsxs("form",{onSubmit:g,className:"m-auto max-w-lg pt-20 text-left",children:[P.jsxs("div",{className:"mb-6 flex flex-col items-center gap-2",children:[P.jsx("p",{className:"block text-xs font-bold uppercase tracking-wide text-slate-800",children:"Profile Pic"}),P.jsx("img",{className:"h-auto w-20 rounded-full",src:h.image,alt:h.name}),P.jsx("button",{type:"button",className:"text-sm",children:"Change"})]}),P.jsxs("div",{className:"mb-6 flex flex-wrap",children:[P.jsx(Yc,{label:"Name",id:"grid-name",type:"text",placeholder:"Jane",value:i.name,onChange:m("name"),className:"md:w-1/2"}),P.jsx(Yc,{label:"Position",id:"grid-position",type:"select",value:i.position,onChange:m("position"),options:f,className:"md:w-1/2"})]}),P.jsx(Yc,{label:"Password",id:"grid-password",type:"password",placeholder:"******************",readOnly:!0}),P.jsx(Yc,{label:"Email",id:"grid-email",type:"email",placeholder:"*****@***.com",value:i.email,onChange:m("email")}),P.jsx(Yc,{label:"Introduce",id:"grid-introduce",type:"textarea",placeholder:"Write an introductory sentence...",value:i.description,onChange:m("description")}),P.jsxs("div",{className:"flex flex-col items-center",children:[P.jsx("button",{type:"submit",disabled:o.loading,className:"mt-8 rounded bg-purple-600 px-12 py-2 text-white transition-colors hover:bg-purple-700 disabled:bg-purple-300",children:o.loading?"저장 중...":"Save"}),o.error&&P.jsx("p",{className:"mt-2 text-red-500",children:o.error})]})]})})}function Vq(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return C.useMemo(()=>i=>{t.forEach(s=>s(i))},t)}const Xp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Vu(n){const t=Object.prototype.toString.call(n);return t==="[object Window]"||t==="[object global]"}function dT(n){return"nodeType"in n}function $n(n){var t,e;return n?Vu(n)?n:dT(n)&&(t=(e=n.ownerDocument)==null?void 0:e.defaultView)!=null?t:window:window}function mT(n){const{Document:t}=$n(n);return n instanceof t}function yh(n){return Vu(n)?!1:n instanceof $n(n).HTMLElement}function cN(n){return n instanceof $n(n).SVGElement}function ku(n){return n?Vu(n)?n.document:dT(n)?mT(n)?n:yh(n)||cN(n)?n.ownerDocument:document:document:document}const Gi=Xp?C.useLayoutEffect:C.useEffect;function Wp(n){const t=C.useRef(n);return Gi(()=>{t.current=n}),C.useCallback(function(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return t.current==null?void 0:t.current(...i)},[])}function kq(){const n=C.useRef(null),t=C.useCallback((i,s)=>{n.current=setInterval(i,s)},[]),e=C.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[t,e]}function $f(n,t){t===void 0&&(t=[n]);const e=C.useRef(n);return Gi(()=>{e.current!==n&&(e.current=n)},t),e}function vh(n,t){const e=C.useRef();return C.useMemo(()=>{const i=n(e.current);return e.current=i,i},[...t])}function lp(n){const t=Wp(n),e=C.useRef(null),i=C.useCallback(s=>{s!==e.current&&(t==null||t(s,e.current)),e.current=s},[]);return[e,i]}function up(n){const t=C.useRef();return C.useEffect(()=>{t.current=n},[n]),t.current}let Fv={};function _h(n,t){return C.useMemo(()=>{if(t)return t;const e=Fv[n]==null?0:Fv[n]+1;return Fv[n]=e,n+"-"+e},[n,t])}function fN(n){return function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];return i.reduce((o,u)=>{const f=Object.entries(u);for(const[h,m]of f){const g=o[h];g!=null&&(o[h]=g+n*m)}return o},{...t})}}const ru=fN(1),cp=fN(-1);function Lq(n){return"clientX"in n&&"clientY"in n}function Zp(n){if(!n)return!1;const{KeyboardEvent:t}=$n(n.target);return t&&n instanceof t}function jq(n){if(!n)return!1;const{TouchEvent:t}=$n(n.target);return t&&n instanceof t}function fp(n){if(jq(n)){if(n.touches&&n.touches.length){const{clientX:t,clientY:e}=n.touches[0];return{x:t,y:e}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:t,clientY:e}=n.changedTouches[0];return{x:t,y:e}}}return Lq(n)?{x:n.clientX,y:n.clientY}:null}const Ca=Object.freeze({Translate:{toString(n){if(!n)return;const{x:t,y:e}=n;return"translate3d("+(t?Math.round(t):0)+"px, "+(e?Math.round(e):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:t,scaleY:e}=n;return"scaleX("+t+") scaleY("+e+")"}},Transform:{toString(n){if(n)return[Ca.Translate.toString(n),Ca.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:t,duration:e,easing:i}=n;return t+" "+e+"ms "+i}}}),xR="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Uq(n){return n.matches(xR)?n:n.querySelector(xR)}const Bq={display:"none"};function zq(n){let{id:t,value:e}=n;return he.createElement("div",{id:t,style:Bq},e)}function Fq(n){let{id:t,announcement:e,ariaLiveType:i="assertive"}=n;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return he.createElement("div",{id:t,style:s,role:"status","aria-live":i,"aria-atomic":!0},e)}function qq(){const[n,t]=C.useState("");return{announce:C.useCallback(i=>{i!=null&&t(i)},[]),announcement:n}}const hN=C.createContext(null);function Hq(n){const t=C.useContext(hN);C.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(n)},[n,t])}function Gq(){const[n]=C.useState(()=>new Set),t=C.useCallback(i=>(n.add(i),()=>n.delete(i)),[n]);return[C.useCallback(i=>{let{type:s,event:o}=i;n.forEach(u=>{var f;return(f=u[s])==null?void 0:f.call(u,o)})},[n]),t]}const Kq={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},$q={onDragStart(n){let{active:t}=n;return"Picked up draggable item "+t.id+"."},onDragOver(n){let{active:t,over:e}=n;return e?"Draggable item "+t.id+" was moved over droppable area "+e.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(n){let{active:t,over:e}=n;return e?"Draggable item "+t.id+" was dropped over droppable area "+e.id:"Draggable item "+t.id+" was dropped."},onDragCancel(n){let{active:t}=n;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Yq(n){let{announcements:t=$q,container:e,hiddenTextDescribedById:i,screenReaderInstructions:s=Kq}=n;const{announce:o,announcement:u}=qq(),f=_h("DndLiveRegion"),[h,m]=C.useState(!1);if(C.useEffect(()=>{m(!0)},[]),Hq(C.useMemo(()=>({onDragStart(v){let{active:b}=v;o(t.onDragStart({active:b}))},onDragMove(v){let{active:b,over:w}=v;t.onDragMove&&o(t.onDragMove({active:b,over:w}))},onDragOver(v){let{active:b,over:w}=v;o(t.onDragOver({active:b,over:w}))},onDragEnd(v){let{active:b,over:w}=v;o(t.onDragEnd({active:b,over:w}))},onDragCancel(v){let{active:b,over:w}=v;o(t.onDragCancel({active:b,over:w}))}}),[o,t])),!h)return null;const g=he.createElement(he.Fragment,null,he.createElement(zq,{id:i,value:s.draggable}),he.createElement(Fq,{id:f,announcement:u}));return e?Qc.createPortal(g,e):g}var en;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(en||(en={}));function hp(){}const Ki=Object.freeze({x:0,y:0});function Qq(n,t){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))}function Xq(n,t){const e=fp(n);if(!e)return"0 0";const i={x:(e.x-t.left)/t.width*100,y:(e.y-t.top)/t.height*100};return i.x+"% "+i.y+"%"}function Wq(n,t){let{data:{value:e}}=n,{data:{value:i}}=t;return e-i}function Zq(n,t){let{data:{value:e}}=n,{data:{value:i}}=t;return i-e}function Jq(n,t){if(!n||n.length===0)return null;const[e]=n;return e[t]}function RR(n,t,e){return t===void 0&&(t=n.left),e===void 0&&(e=n.top),{x:t+n.width*.5,y:e+n.height*.5}}const tH=n=>{let{collisionRect:t,droppableRects:e,droppableContainers:i}=n;const s=RR(t,t.left,t.top),o=[];for(const u of i){const{id:f}=u,h=e.get(f);if(h){const m=Qq(RR(h),s);o.push({id:f,data:{droppableContainer:u,value:m}})}}return o.sort(Wq)};function eH(n,t){const e=Math.max(t.top,n.top),i=Math.max(t.left,n.left),s=Math.min(t.left+t.width,n.left+n.width),o=Math.min(t.top+t.height,n.top+n.height),u=s-i,f=o-e;if(i<s&&e<o){const h=t.width*t.height,m=n.width*n.height,g=u*f,v=g/(h+m-g);return Number(v.toFixed(4))}return 0}const nH=n=>{let{collisionRect:t,droppableRects:e,droppableContainers:i}=n;const s=[];for(const o of i){const{id:u}=o,f=e.get(u);if(f){const h=eH(f,t);h>0&&s.push({id:u,data:{droppableContainer:o,value:h}})}}return s.sort(Zq)};function iH(n,t,e){return{...n,scaleX:t&&e?t.width/e.width:1,scaleY:t&&e?t.height/e.height:1}}function dN(n,t){return n&&t?{x:n.left-t.left,y:n.top-t.top}:Ki}function rH(n){return function(e){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return s.reduce((u,f)=>({...u,top:u.top+n*f.y,bottom:u.bottom+n*f.y,left:u.left+n*f.x,right:u.right+n*f.x}),{...e})}}const sH=rH(1);function mN(n){if(n.startsWith("matrix3d(")){const t=n.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(n.startsWith("matrix(")){const t=n.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function aH(n,t,e){const i=mN(t);if(!i)return n;const{scaleX:s,scaleY:o,x:u,y:f}=i,h=n.left-u-(1-s)*parseFloat(e),m=n.top-f-(1-o)*parseFloat(e.slice(e.indexOf(" ")+1)),g=s?n.width/s:n.width,v=o?n.height/o:n.height;return{width:g,height:v,top:m,right:h+g,bottom:m+v,left:h}}const oH={ignoreTransform:!1};function Lu(n,t){t===void 0&&(t=oH);let e=n.getBoundingClientRect();if(t.ignoreTransform){const{transform:m,transformOrigin:g}=$n(n).getComputedStyle(n);m&&(e=aH(e,m,g))}const{top:i,left:s,width:o,height:u,bottom:f,right:h}=e;return{top:i,left:s,width:o,height:u,bottom:f,right:h}}function IR(n){return Lu(n,{ignoreTransform:!0})}function lH(n){const t=n.innerWidth,e=n.innerHeight;return{top:0,left:0,right:t,bottom:e,width:t,height:e}}function uH(n,t){return t===void 0&&(t=$n(n).getComputedStyle(n)),t.position==="fixed"}function cH(n,t){t===void 0&&(t=$n(n).getComputedStyle(n));const e=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const o=t[s];return typeof o=="string"?e.test(o):!1})}function pT(n,t){const e=[];function i(s){if(t!=null&&e.length>=t||!s)return e;if(mT(s)&&s.scrollingElement!=null&&!e.includes(s.scrollingElement))return e.push(s.scrollingElement),e;if(!yh(s)||cN(s)||e.includes(s))return e;const o=$n(n).getComputedStyle(s);return s!==n&&cH(s,o)&&e.push(s),uH(s,o)?e:i(s.parentNode)}return n?i(n):e}function pN(n){const[t]=pT(n,1);return t??null}function qv(n){return!Xp||!n?null:Vu(n)?n:dT(n)?mT(n)||n===ku(n).scrollingElement?window:yh(n)?n:null:null}function gN(n){return Vu(n)?n.scrollX:n.scrollLeft}function yN(n){return Vu(n)?n.scrollY:n.scrollTop}function o_(n){return{x:gN(n),y:yN(n)}}var mn;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(mn||(mn={}));function vN(n){return!Xp||!n?!1:n===document.scrollingElement}function _N(n){const t={x:0,y:0},e=vN(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},i={x:n.scrollWidth-e.width,y:n.scrollHeight-e.height},s=n.scrollTop<=t.y,o=n.scrollLeft<=t.x,u=n.scrollTop>=i.y,f=n.scrollLeft>=i.x;return{isTop:s,isLeft:o,isBottom:u,isRight:f,maxScroll:i,minScroll:t}}const fH={x:.2,y:.2};function hH(n,t,e,i,s){let{top:o,left:u,right:f,bottom:h}=e;i===void 0&&(i=10),s===void 0&&(s=fH);const{isTop:m,isBottom:g,isLeft:v,isRight:b}=_N(n),w={x:0,y:0},x={x:0,y:0},N={height:t.height*s.y,width:t.width*s.x};return!m&&o<=t.top+N.height?(w.y=mn.Backward,x.y=i*Math.abs((t.top+N.height-o)/N.height)):!g&&h>=t.bottom-N.height&&(w.y=mn.Forward,x.y=i*Math.abs((t.bottom-N.height-h)/N.height)),!b&&f>=t.right-N.width?(w.x=mn.Forward,x.x=i*Math.abs((t.right-N.width-f)/N.width)):!v&&u<=t.left+N.width&&(w.x=mn.Backward,x.x=i*Math.abs((t.left+N.width-u)/N.width)),{direction:w,speed:x}}function dH(n){if(n===document.scrollingElement){const{innerWidth:o,innerHeight:u}=window;return{top:0,left:0,right:o,bottom:u,width:o,height:u}}const{top:t,left:e,right:i,bottom:s}=n.getBoundingClientRect();return{top:t,left:e,right:i,bottom:s,width:n.clientWidth,height:n.clientHeight}}function bN(n){return n.reduce((t,e)=>ru(t,o_(e)),Ki)}function mH(n){return n.reduce((t,e)=>t+gN(e),0)}function pH(n){return n.reduce((t,e)=>t+yN(e),0)}function TN(n,t){if(t===void 0&&(t=Lu),!n)return;const{top:e,left:i,bottom:s,right:o}=t(n);pN(n)&&(s<=0||o<=0||e>=window.innerHeight||i>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const gH=[["x",["left","right"],mH],["y",["top","bottom"],pH]];class gT{constructor(t,e){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=pT(e),s=bN(i);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,u,f]of gH)for(const h of u)Object.defineProperty(this,h,{get:()=>{const m=f(i),g=s[o]-m;return this.rect[h]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class vf{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...e)})},this.target=t}add(t,e,i){var s;(s=this.target)==null||s.addEventListener(t,e,i),this.listeners.push([t,e,i])}}function yH(n){const{EventTarget:t}=$n(n);return n instanceof t?n:ku(n)}function Hv(n,t){const e=Math.abs(n.x),i=Math.abs(n.y);return typeof t=="number"?Math.sqrt(e**2+i**2)>t:"x"in t&&"y"in t?e>t.x&&i>t.y:"x"in t?e>t.x:"y"in t?i>t.y:!1}var Ni;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(Ni||(Ni={}));function CR(n){n.preventDefault()}function vH(n){n.stopPropagation()}var te;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(te||(te={}));const EN={start:[te.Space,te.Enter],cancel:[te.Esc],end:[te.Space,te.Enter,te.Tab]},_H=(n,t)=>{let{currentCoordinates:e}=t;switch(n.code){case te.Right:return{...e,x:e.x+25};case te.Left:return{...e,x:e.x-25};case te.Down:return{...e,y:e.y+25};case te.Up:return{...e,y:e.y-25}}};class wN{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:e}}=t;this.props=t,this.listeners=new vf(ku(e)),this.windowListeners=new vf($n(e)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ni.Resize,this.handleCancel),this.windowListeners.add(Ni.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ni.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:e}=this.props,i=t.node.current;i&&TN(i),e(Ki)}handleKeyDown(t){if(Zp(t)){const{active:e,context:i,options:s}=this.props,{keyboardCodes:o=EN,coordinateGetter:u=_H,scrollBehavior:f="smooth"}=s,{code:h}=t;if(o.end.includes(h)){this.handleEnd(t);return}if(o.cancel.includes(h)){this.handleCancel(t);return}const{collisionRect:m}=i.current,g=m?{x:m.left,y:m.top}:Ki;this.referenceCoordinates||(this.referenceCoordinates=g);const v=u(t,{active:e,context:i.current,currentCoordinates:g});if(v){const b=cp(v,g),w={x:0,y:0},{scrollableAncestors:x}=i.current;for(const N of x){const D=t.code,{isTop:V,isRight:B,isLeft:j,isBottom:Z,maxScroll:G,minScroll:J}=_N(N),O=dH(N),S={x:Math.min(D===te.Right?O.right-O.width/2:O.right,Math.max(D===te.Right?O.left:O.left+O.width/2,v.x)),y:Math.min(D===te.Down?O.bottom-O.height/2:O.bottom,Math.max(D===te.Down?O.top:O.top+O.height/2,v.y))},R=D===te.Right&&!B||D===te.Left&&!j,M=D===te.Down&&!Z||D===te.Up&&!V;if(R&&S.x!==v.x){const U=N.scrollLeft+b.x,H=D===te.Right&&U<=G.x||D===te.Left&&U>=J.x;if(H&&!b.y){N.scrollTo({left:U,behavior:f});return}H?w.x=N.scrollLeft-U:w.x=D===te.Right?N.scrollLeft-G.x:N.scrollLeft-J.x,w.x&&N.scrollBy({left:-w.x,behavior:f});break}else if(M&&S.y!==v.y){const U=N.scrollTop+b.y,H=D===te.Down&&U<=G.y||D===te.Up&&U>=J.y;if(H&&!b.x){N.scrollTo({top:U,behavior:f});return}H?w.y=N.scrollTop-U:w.y=D===te.Down?N.scrollTop-G.y:N.scrollTop-J.y,w.y&&N.scrollBy({top:-w.y,behavior:f});break}}this.handleMove(t,ru(cp(v,this.referenceCoordinates),w))}}}handleMove(t,e){const{onMove:i}=this.props;t.preventDefault(),i(e)}handleEnd(t){const{onEnd:e}=this.props;t.preventDefault(),this.detach(),e()}handleCancel(t){const{onCancel:e}=this.props;t.preventDefault(),this.detach(),e()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}wN.activators=[{eventName:"onKeyDown",handler:(n,t,e)=>{let{keyboardCodes:i=EN,onActivation:s}=t,{active:o}=e;const{code:u}=n.nativeEvent;if(i.start.includes(u)){const f=o.activatorNode.current;return f&&n.target!==f?!1:(n.preventDefault(),s==null||s({event:n.nativeEvent}),!0)}return!1}}];function DR(n){return!!(n&&"distance"in n)}function PR(n){return!!(n&&"delay"in n)}class yT{constructor(t,e,i){var s;i===void 0&&(i=yH(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=e;const{event:o}=t,{target:u}=o;this.props=t,this.events=e,this.document=ku(u),this.documentListeners=new vf(this.document),this.listeners=new vf(i),this.windowListeners=new vf($n(u)),this.initialCoordinates=(s=fp(o))!=null?s:Ki,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:e,bypassActivationConstraint:i}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Ni.Resize,this.handleCancel),this.windowListeners.add(Ni.DragStart,CR),this.windowListeners.add(Ni.VisibilityChange,this.handleCancel),this.windowListeners.add(Ni.ContextMenu,CR),this.documentListeners.add(Ni.Keydown,this.handleKeydown),e){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(PR(e)){this.timeoutId=setTimeout(this.handleStart,e.delay),this.handlePending(e);return}if(DR(e)){this.handlePending(e);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,e){const{active:i,onPending:s}=this.props;s(i,t,this.initialCoordinates,e)}handleStart(){const{initialCoordinates:t}=this,{onStart:e}=this.props;t&&(this.activated=!0,this.documentListeners.add(Ni.Click,vH,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ni.SelectionChange,this.removeTextSelection),e(t))}handleMove(t){var e;const{activated:i,initialCoordinates:s,props:o}=this,{onMove:u,options:{activationConstraint:f}}=o;if(!s)return;const h=(e=fp(t))!=null?e:Ki,m=cp(s,h);if(!i&&f){if(DR(f)){if(f.tolerance!=null&&Hv(m,f.tolerance))return this.handleCancel();if(Hv(m,f.distance))return this.handleStart()}if(PR(f)&&Hv(m,f.tolerance))return this.handleCancel();this.handlePending(f,m);return}t.cancelable&&t.preventDefault(),u(h)}handleEnd(){const{onAbort:t,onEnd:e}=this.props;this.detach(),this.activated||t(this.props.active),e()}handleCancel(){const{onAbort:t,onCancel:e}=this.props;this.detach(),this.activated||t(this.props.active),e()}handleKeydown(t){t.code===te.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const bH={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class SN extends yT{constructor(t){const{event:e}=t,i=ku(e.target);super(t,bH,i)}}SN.activators=[{eventName:"onPointerDown",handler:(n,t)=>{let{nativeEvent:e}=n,{onActivation:i}=t;return!e.isPrimary||e.button!==0?!1:(i==null||i({event:e}),!0)}}];const TH={move:{name:"mousemove"},end:{name:"mouseup"}};var l_;(function(n){n[n.RightClick=2]="RightClick"})(l_||(l_={}));class EH extends yT{constructor(t){super(t,TH,ku(t.event.target))}}EH.activators=[{eventName:"onMouseDown",handler:(n,t)=>{let{nativeEvent:e}=n,{onActivation:i}=t;return e.button===l_.RightClick?!1:(i==null||i({event:e}),!0)}}];const Gv={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class wH extends yT{constructor(t){super(t,Gv)}static setup(){return window.addEventListener(Gv.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Gv.move.name,t)};function t(){}}}wH.activators=[{eventName:"onTouchStart",handler:(n,t)=>{let{nativeEvent:e}=n,{onActivation:i}=t;const{touches:s}=e;return s.length>1?!1:(i==null||i({event:e}),!0)}}];var _f;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(_f||(_f={}));var dp;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(dp||(dp={}));function SH(n){let{acceleration:t,activator:e=_f.Pointer,canScroll:i,draggingRect:s,enabled:o,interval:u=5,order:f=dp.TreeOrder,pointerCoordinates:h,scrollableAncestors:m,scrollableAncestorRects:g,delta:v,threshold:b}=n;const w=xH({delta:v,disabled:!o}),[x,N]=kq(),D=C.useRef({x:0,y:0}),V=C.useRef({x:0,y:0}),B=C.useMemo(()=>{switch(e){case _f.Pointer:return h?{top:h.y,bottom:h.y,left:h.x,right:h.x}:null;case _f.DraggableRect:return s}},[e,s,h]),j=C.useRef(null),Z=C.useCallback(()=>{const J=j.current;if(!J)return;const O=D.current.x*V.current.x,S=D.current.y*V.current.y;J.scrollBy(O,S)},[]),G=C.useMemo(()=>f===dp.TreeOrder?[...m].reverse():m,[f,m]);C.useEffect(()=>{if(!o||!m.length||!B){N();return}for(const J of G){if((i==null?void 0:i(J))===!1)continue;const O=m.indexOf(J),S=g[O];if(!S)continue;const{direction:R,speed:M}=hH(J,S,B,t,b);for(const U of["x","y"])w[U][R[U]]||(M[U]=0,R[U]=0);if(M.x>0||M.y>0){N(),j.current=J,x(Z,u),D.current=M,V.current=R;return}}D.current={x:0,y:0},V.current={x:0,y:0},N()},[t,Z,i,N,o,u,JSON.stringify(B),JSON.stringify(w),x,m,G,g,JSON.stringify(b)])}const AH={x:{[mn.Backward]:!1,[mn.Forward]:!1},y:{[mn.Backward]:!1,[mn.Forward]:!1}};function xH(n){let{delta:t,disabled:e}=n;const i=up(t);return vh(s=>{if(e||!i||!s)return AH;const o={x:Math.sign(t.x-i.x),y:Math.sign(t.y-i.y)};return{x:{[mn.Backward]:s.x[mn.Backward]||o.x===-1,[mn.Forward]:s.x[mn.Forward]||o.x===1},y:{[mn.Backward]:s.y[mn.Backward]||o.y===-1,[mn.Forward]:s.y[mn.Forward]||o.y===1}}},[e,t,i])}function RH(n,t){const e=t!=null?n.get(t):void 0,i=e?e.node.current:null;return vh(s=>{var o;return t==null?null:(o=i??s)!=null?o:null},[i,t])}function IH(n,t){return C.useMemo(()=>n.reduce((e,i)=>{const{sensor:s}=i,o=s.activators.map(u=>({eventName:u.eventName,handler:t(u.handler,i)}));return[...e,...o]},[]),[n,t])}var Yf;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(Yf||(Yf={}));var u_;(function(n){n.Optimized="optimized"})(u_||(u_={}));const NR=new Map;function CH(n,t){let{dragging:e,dependencies:i,config:s}=t;const[o,u]=C.useState(null),{frequency:f,measure:h,strategy:m}=s,g=C.useRef(n),v=D(),b=$f(v),w=C.useCallback(function(V){V===void 0&&(V=[]),!b.current&&u(B=>B===null?V:B.concat(V.filter(j=>!B.includes(j))))},[b]),x=C.useRef(null),N=vh(V=>{if(v&&!e)return NR;if(!V||V===NR||g.current!==n||o!=null){const B=new Map;for(let j of n){if(!j)continue;if(o&&o.length>0&&!o.includes(j.id)&&j.rect.current){B.set(j.id,j.rect.current);continue}const Z=j.node.current,G=Z?new gT(h(Z),Z):null;j.rect.current=G,G&&B.set(j.id,G)}return B}return V},[n,o,e,v,h]);return C.useEffect(()=>{g.current=n},[n]),C.useEffect(()=>{v||w()},[e,v]),C.useEffect(()=>{o&&o.length>0&&u(null)},[JSON.stringify(o)]),C.useEffect(()=>{v||typeof f!="number"||x.current!==null||(x.current=setTimeout(()=>{w(),x.current=null},f))},[f,v,w,...i]),{droppableRects:N,measureDroppableContainers:w,measuringScheduled:o!=null};function D(){switch(m){case Yf.Always:return!1;case Yf.BeforeDragging:return e;default:return!e}}}function vT(n,t){return vh(e=>n?e||(typeof t=="function"?t(n):n):null,[t,n])}function DH(n,t){return vT(n,t)}function PH(n){let{callback:t,disabled:e}=n;const i=Wp(t),s=C.useMemo(()=>{if(e||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(i)},[i,e]);return C.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Jp(n){let{callback:t,disabled:e}=n;const i=Wp(t),s=C.useMemo(()=>{if(e||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(i)},[e]);return C.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function NH(n){return new gT(Lu(n),n)}function OR(n,t,e){t===void 0&&(t=NH);const[i,s]=C.useState(null);function o(){s(h=>{if(!n)return null;if(n.isConnected===!1){var m;return(m=h??e)!=null?m:null}const g=t(n);return JSON.stringify(h)===JSON.stringify(g)?h:g})}const u=PH({callback(h){if(n)for(const m of h){const{type:g,target:v}=m;if(g==="childList"&&v instanceof HTMLElement&&v.contains(n)){o();break}}}}),f=Jp({callback:o});return Gi(()=>{o(),n?(f==null||f.observe(n),u==null||u.observe(document.body,{childList:!0,subtree:!0})):(f==null||f.disconnect(),u==null||u.disconnect())},[n]),i}function OH(n){const t=vT(n);return dN(n,t)}const MR=[];function MH(n){const t=C.useRef(n),e=vh(i=>n?i&&i!==MR&&n&&t.current&&n.parentNode===t.current.parentNode?i:pT(n):MR,[n]);return C.useEffect(()=>{t.current=n},[n]),e}function VH(n){const[t,e]=C.useState(null),i=C.useRef(n),s=C.useCallback(o=>{const u=qv(o.target);u&&e(f=>f?(f.set(u,o_(u)),new Map(f)):null)},[]);return C.useEffect(()=>{const o=i.current;if(n!==o){u(o);const f=n.map(h=>{const m=qv(h);return m?(m.addEventListener("scroll",s,{passive:!0}),[m,o_(m)]):null}).filter(h=>h!=null);e(f.length?new Map(f):null),i.current=n}return()=>{u(n),u(o)};function u(f){f.forEach(h=>{const m=qv(h);m==null||m.removeEventListener("scroll",s)})}},[s,n]),C.useMemo(()=>n.length?t?Array.from(t.values()).reduce((o,u)=>ru(o,u),Ki):bN(n):Ki,[n,t])}function VR(n,t){t===void 0&&(t=[]);const e=C.useRef(null);return C.useEffect(()=>{e.current=null},t),C.useEffect(()=>{const i=n!==Ki;i&&!e.current&&(e.current=n),!i&&e.current&&(e.current=null)},[n]),e.current?cp(n,e.current):Ki}function kH(n){C.useEffect(()=>{if(!Xp)return;const t=n.map(e=>{let{sensor:i}=e;return i.setup==null?void 0:i.setup()});return()=>{for(const e of t)e==null||e()}},n.map(t=>{let{sensor:e}=t;return e}))}function LH(n,t){return C.useMemo(()=>n.reduce((e,i)=>{let{eventName:s,handler:o}=i;return e[s]=u=>{o(u,t)},e},{}),[n,t])}function AN(n){return C.useMemo(()=>n?lH(n):null,[n])}const kR=[];function jH(n,t){t===void 0&&(t=Lu);const[e]=n,i=AN(e?$n(e):null),[s,o]=C.useState(kR);function u(){o(()=>n.length?n.map(h=>vN(h)?i:new gT(t(h),h)):kR)}const f=Jp({callback:u});return Gi(()=>{f==null||f.disconnect(),u(),n.forEach(h=>f==null?void 0:f.observe(h))},[n]),s}function xN(n){if(!n)return null;if(n.children.length>1)return n;const t=n.children[0];return yh(t)?t:n}function UH(n){let{measure:t}=n;const[e,i]=C.useState(null),s=C.useCallback(m=>{for(const{target:g}of m)if(yh(g)){i(v=>{const b=t(g);return v?{...v,width:b.width,height:b.height}:b});break}},[t]),o=Jp({callback:s}),u=C.useCallback(m=>{const g=xN(m);o==null||o.disconnect(),g&&(o==null||o.observe(g)),i(g?t(g):null)},[t,o]),[f,h]=lp(u);return C.useMemo(()=>({nodeRef:f,rect:e,setRef:h}),[e,f,h])}const BH=[{sensor:SN,options:{}},{sensor:wN,options:{}}],zH={current:{}},wm={draggable:{measure:IR},droppable:{measure:IR,strategy:Yf.WhileDragging,frequency:u_.Optimized},dragOverlay:{measure:Lu}};class bf extends Map{get(t){var e;return t!=null&&(e=super.get(t))!=null?e:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:e}=t;return!e})}getNodeFor(t){var e,i;return(e=(i=this.get(t))==null?void 0:i.node.current)!=null?e:void 0}}const FH={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new bf,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:hp},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:wm,measureDroppableContainers:hp,windowRect:null,measuringScheduled:!1},RN={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:hp,draggableNodes:new Map,over:null,measureDroppableContainers:hp},bh=C.createContext(RN),IN=C.createContext(FH);function qH(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new bf}}}function HH(n,t){switch(t.type){case en.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case en.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:t.coordinates.x-n.draggable.initialCoordinates.x,y:t.coordinates.y-n.draggable.initialCoordinates.y}}};case en.DragEnd:case en.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case en.RegisterDroppable:{const{element:e}=t,{id:i}=e,s=new bf(n.droppable.containers);return s.set(i,e),{...n,droppable:{...n.droppable,containers:s}}}case en.SetDroppableDisabled:{const{id:e,key:i,disabled:s}=t,o=n.droppable.containers.get(e);if(!o||i!==o.key)return n;const u=new bf(n.droppable.containers);return u.set(e,{...o,disabled:s}),{...n,droppable:{...n.droppable,containers:u}}}case en.UnregisterDroppable:{const{id:e,key:i}=t,s=n.droppable.containers.get(e);if(!s||i!==s.key)return n;const o=new bf(n.droppable.containers);return o.delete(e),{...n,droppable:{...n.droppable,containers:o}}}default:return n}}function GH(n){let{disabled:t}=n;const{active:e,activatorEvent:i,draggableNodes:s}=C.useContext(bh),o=up(i),u=up(e==null?void 0:e.id);return C.useEffect(()=>{if(!t&&!i&&o&&u!=null){if(!Zp(o)||document.activeElement===o.target)return;const f=s.get(u);if(!f)return;const{activatorNode:h,node:m}=f;if(!h.current&&!m.current)return;requestAnimationFrame(()=>{for(const g of[h.current,m.current]){if(!g)continue;const v=Uq(g);if(v){v.focus();break}}})}},[i,t,s,u,o]),null}function CN(n,t){let{transform:e,...i}=t;return n!=null&&n.length?n.reduce((s,o)=>o({transform:s,...i}),e):e}function KH(n){return C.useMemo(()=>({draggable:{...wm.draggable,...n==null?void 0:n.draggable},droppable:{...wm.droppable,...n==null?void 0:n.droppable},dragOverlay:{...wm.dragOverlay,...n==null?void 0:n.dragOverlay}}),[n==null?void 0:n.draggable,n==null?void 0:n.droppable,n==null?void 0:n.dragOverlay])}function $H(n){let{activeNode:t,measure:e,initialRect:i,config:s=!0}=n;const o=C.useRef(!1),{x:u,y:f}=typeof s=="boolean"?{x:s,y:s}:s;Gi(()=>{if(!u&&!f||!t){o.current=!1;return}if(o.current||!i)return;const m=t==null?void 0:t.node.current;if(!m||m.isConnected===!1)return;const g=e(m),v=dN(g,i);if(u||(v.x=0),f||(v.y=0),o.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const b=pN(m);b&&b.scrollBy({top:v.y,left:v.x})}},[t,u,f,i,e])}const tg=C.createContext({...Ki,scaleX:1,scaleY:1});var sa;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(sa||(sa={}));const YH=C.memo(function(t){var e,i,s,o;let{id:u,accessibility:f,autoScroll:h=!0,children:m,sensors:g=BH,collisionDetection:v=nH,measuring:b,modifiers:w,...x}=t;const N=C.useReducer(HH,void 0,qH),[D,V]=N,[B,j]=Gq(),[Z,G]=C.useState(sa.Uninitialized),J=Z===sa.Initialized,{draggable:{active:O,nodes:S,translate:R},droppable:{containers:M}}=D,U=O!=null?S.get(O):null,H=C.useRef({initial:null,translated:null}),L=C.useMemo(()=>{var ge;return O!=null?{id:O,data:(ge=U==null?void 0:U.data)!=null?ge:zH,rect:H}:null},[O,U]),Qt=C.useRef(null),[oe,ut]=C.useState(null),[ct,pt]=C.useState(null),Pt=$f(x,Object.values(x)),z=_h("DndDescribedBy",u),st=C.useMemo(()=>M.getEnabled(),[M]),dt=KH(b),{droppableRects:ft,measureDroppableContainers:ht,measuringScheduled:It}=CH(st,{dragging:J,dependencies:[R.x,R.y],config:dt.droppable}),St=RH(S,O),me=C.useMemo(()=>ct?fp(ct):null,[ct]),Mt=mi(),Xt=DH(St,dt.draggable.measure);$H({activeNode:O!=null?S.get(O):null,config:Mt.layoutShiftCompensation,initialRect:Xt,measure:dt.draggable.measure});const bt=OR(St,dt.draggable.measure,Xt),Ve=OR(St?St.parentElement:null),Ue=C.useRef({activatorEvent:null,active:null,activeNode:St,collisionRect:null,collisions:null,droppableRects:ft,draggableNodes:S,draggingNode:null,draggingNodeRect:null,droppableContainers:M,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ge=M.getNodeFor((e=Ue.current.over)==null?void 0:e.id),sn=UH({measure:dt.dragOverlay.measure}),Ln=(i=sn.nodeRef.current)!=null?i:St,An=J?(s=sn.rect)!=null?s:bt:null,bs=!!(sn.nodeRef.current&&sn.rect),Ir=OH(bs?null:bt),$i=AN(Ln?$n(Ln):null),xn=MH(J?Ge??St:null),Li=jH(xn),Ts=CN(w,{transform:{x:R.x-Ir.x,y:R.y-Ir.y,scaleX:1,scaleY:1},activatorEvent:ct,active:L,activeNodeRect:bt,containerNodeRect:Ve,draggingNodeRect:An,over:Ue.current.over,overlayNodeRect:sn.rect,scrollableAncestors:xn,scrollableAncestorRects:Li,windowRect:$i}),Es=me?ru(me,R):null,pn=VH(xn),Go=VR(pn),ke=VR(pn,[bt]),pe=ru(Ts,Go),Rn=An?sH(An,Ts):null,Yi=L&&Rn?v({active:L,collisionRect:Rn,droppableRects:ft,droppableContainers:st,pointerCoordinates:Es}):null,ws=Jq(Yi,"id"),[di,Qi]=C.useState(null),Xi=bs?Ts:ru(Ts,ke),an=iH(Xi,(o=di==null?void 0:di.rect)!=null?o:null,bt),Cr=C.useRef(null),Wn=C.useCallback((ge,ye)=>{let{sensor:ue,options:yn}=ye;if(Qt.current==null)return;const Ke=S.get(Qt.current);if(!Ke)return;const $e=ge.nativeEvent,Ye=new ue({active:Qt.current,activeNode:Ke,event:$e,options:yn,context:Ue,onAbort(kt){if(!S.get(kt))return;const{onDragAbort:Qe}=Pt.current,on={id:kt};Qe==null||Qe(on),B({type:"onDragAbort",event:on})},onPending(kt,Jn,Qe,on){if(!S.get(kt))return;const{onDragPending:Zi}=Pt.current,vn={id:kt,constraint:Jn,initialCoordinates:Qe,offset:on};Zi==null||Zi(vn),B({type:"onDragPending",event:vn})},onStart(kt){const Jn=Qt.current;if(Jn==null)return;const Qe=S.get(Jn);if(!Qe)return;const{onDragStart:on}=Pt.current,Wi={activatorEvent:$e,active:{id:Jn,data:Qe.data,rect:H}};Qc.unstable_batchedUpdates(()=>{on==null||on(Wi),G(sa.Initializing),V({type:en.DragStart,initialCoordinates:kt,active:Jn}),B({type:"onDragStart",event:Wi}),ut(Cr.current),pt($e)})},onMove(kt){V({type:en.DragMove,coordinates:kt})},onEnd:Zn(en.DragEnd),onCancel:Zn(en.DragCancel)});Cr.current=Ye;function Zn(kt){return async function(){const{active:Qe,collisions:on,over:Wi,scrollAdjustedTranslate:Zi}=Ue.current;let vn=null;if(Qe&&Zi){const{cancelDrop:In}=Pt.current;vn={activatorEvent:$e,active:Qe,collisions:on,delta:Zi,over:Wi},kt===en.DragEnd&&typeof In=="function"&&await Promise.resolve(In(vn))&&(kt=en.DragCancel)}Qt.current=null,Qc.unstable_batchedUpdates(()=>{V({type:kt}),G(sa.Uninitialized),Qi(null),ut(null),pt(null),Cr.current=null;const In=kt===en.DragEnd?"onDragEnd":"onDragCancel";if(vn){const Ie=Pt.current[In];Ie==null||Ie(vn),B({type:In,event:vn})}})}}},[S]),gn=C.useCallback((ge,ye)=>(ue,yn)=>{const Ke=ue.nativeEvent,$e=S.get(yn);if(Qt.current!==null||!$e||Ke.dndKit||Ke.defaultPrevented)return;const Ye={active:$e};ge(ue,ye.options,Ye)===!0&&(Ke.dndKit={capturedBy:ye.sensor},Qt.current=yn,Wn(ue,ye))},[S,Wn]),Ss=IH(g,gn);kH(g),Gi(()=>{bt&&Z===sa.Initializing&&G(sa.Initialized)},[bt,Z]),C.useEffect(()=>{const{onDragMove:ge}=Pt.current,{active:ye,activatorEvent:ue,collisions:yn,over:Ke}=Ue.current;if(!ye||!ue)return;const $e={active:ye,activatorEvent:ue,collisions:yn,delta:{x:pe.x,y:pe.y},over:Ke};Qc.unstable_batchedUpdates(()=>{ge==null||ge($e),B({type:"onDragMove",event:$e})})},[pe.x,pe.y]),C.useEffect(()=>{const{active:ge,activatorEvent:ye,collisions:ue,droppableContainers:yn,scrollAdjustedTranslate:Ke}=Ue.current;if(!ge||Qt.current==null||!ye||!Ke)return;const{onDragOver:$e}=Pt.current,Ye=yn.get(ws),Zn=Ye&&Ye.rect.current?{id:Ye.id,rect:Ye.rect.current,data:Ye.data,disabled:Ye.disabled}:null,kt={active:ge,activatorEvent:ye,collisions:ue,delta:{x:Ke.x,y:Ke.y},over:Zn};Qc.unstable_batchedUpdates(()=>{Qi(Zn),$e==null||$e(kt),B({type:"onDragOver",event:kt})})},[ws]),Gi(()=>{Ue.current={activatorEvent:ct,active:L,activeNode:St,collisionRect:Rn,collisions:Yi,droppableRects:ft,draggableNodes:S,draggingNode:Ln,draggingNodeRect:An,droppableContainers:M,over:di,scrollableAncestors:xn,scrollAdjustedTranslate:pe},H.current={initial:An,translated:Rn}},[L,St,Yi,Rn,S,Ln,An,ft,M,di,xn,pe]),SH({...Mt,delta:R,draggingRect:Rn,pointerCoordinates:Es,scrollableAncestors:xn,scrollableAncestorRects:Li});const Ko=C.useMemo(()=>({active:L,activeNode:St,activeNodeRect:bt,activatorEvent:ct,collisions:Yi,containerNodeRect:Ve,dragOverlay:sn,draggableNodes:S,droppableContainers:M,droppableRects:ft,over:di,measureDroppableContainers:ht,scrollableAncestors:xn,scrollableAncestorRects:Li,measuringConfiguration:dt,measuringScheduled:It,windowRect:$i}),[L,St,bt,ct,Yi,Ve,sn,S,M,ft,di,ht,xn,Li,dt,It,$i]),$o=C.useMemo(()=>({activatorEvent:ct,activators:Ss,active:L,activeNodeRect:bt,ariaDescribedById:{draggable:z},dispatch:V,draggableNodes:S,over:di,measureDroppableContainers:ht}),[ct,Ss,L,bt,V,z,S,di,ht]);return he.createElement(hN.Provider,{value:j},he.createElement(bh.Provider,{value:$o},he.createElement(IN.Provider,{value:Ko},he.createElement(tg.Provider,{value:an},m)),he.createElement(GH,{disabled:(f==null?void 0:f.restoreFocus)===!1})),he.createElement(Yq,{...f,hiddenTextDescribedById:z}));function mi(){const ge=(oe==null?void 0:oe.autoScrollEnabled)===!1,ye=typeof h=="object"?h.enabled===!1:h===!1,ue=J&&!ge&&!ye;return typeof h=="object"?{...h,enabled:ue}:{enabled:ue}}}),QH=C.createContext(null),LR="button",XH="Draggable";function WH(n){let{id:t,data:e,disabled:i=!1,attributes:s}=n;const o=_h(XH),{activators:u,activatorEvent:f,active:h,activeNodeRect:m,ariaDescribedById:g,draggableNodes:v,over:b}=C.useContext(bh),{role:w=LR,roleDescription:x="draggable",tabIndex:N=0}=s??{},D=(h==null?void 0:h.id)===t,V=C.useContext(D?tg:QH),[B,j]=lp(),[Z,G]=lp(),J=LH(u,t),O=$f(e);Gi(()=>(v.set(t,{id:t,key:o,node:B,activatorNode:Z,data:O}),()=>{const R=v.get(t);R&&R.key===o&&v.delete(t)}),[v,t]);const S=C.useMemo(()=>({role:w,tabIndex:N,"aria-disabled":i,"aria-pressed":D&&w===LR?!0:void 0,"aria-roledescription":x,"aria-describedby":g.draggable}),[i,w,N,D,x,g.draggable]);return{active:h,activatorEvent:f,activeNodeRect:m,attributes:S,isDragging:D,listeners:i?void 0:J,node:B,over:b,setNodeRef:j,setActivatorNodeRef:G,transform:V}}function DN(){return C.useContext(IN)}const ZH="Droppable",JH={timeout:25};function PN(n){let{data:t,disabled:e=!1,id:i,resizeObserverConfig:s}=n;const o=_h(ZH),{active:u,dispatch:f,over:h,measureDroppableContainers:m}=C.useContext(bh),g=C.useRef({disabled:e}),v=C.useRef(!1),b=C.useRef(null),w=C.useRef(null),{disabled:x,updateMeasurementsFor:N,timeout:D}={...JH,...s},V=$f(N??i),B=C.useCallback(()=>{if(!v.current){v.current=!0;return}w.current!=null&&clearTimeout(w.current),w.current=setTimeout(()=>{m(Array.isArray(V.current)?V.current:[V.current]),w.current=null},D)},[D]),j=Jp({callback:B,disabled:x||!u}),Z=C.useCallback((S,R)=>{j&&(R&&(j.unobserve(R),v.current=!1),S&&j.observe(S))},[j]),[G,J]=lp(Z),O=$f(t);return C.useEffect(()=>{!j||!G.current||(j.disconnect(),v.current=!1,j.observe(G.current))},[G,j]),C.useEffect(()=>(f({type:en.RegisterDroppable,element:{id:i,key:o,disabled:e,node:G,rect:b,data:O}}),()=>f({type:en.UnregisterDroppable,key:o,id:i})),[i]),C.useEffect(()=>{e!==g.current.disabled&&(f({type:en.SetDroppableDisabled,id:i,key:o,disabled:e}),g.current.disabled=e)},[i,o,e,f]),{active:u,rect:b,isOver:(h==null?void 0:h.id)===i,node:G,over:h,setNodeRef:J}}function tG(n){let{animation:t,children:e}=n;const[i,s]=C.useState(null),[o,u]=C.useState(null),f=up(e);return!e&&!i&&f&&s(f),Gi(()=>{if(!o)return;const h=i==null?void 0:i.key,m=i==null?void 0:i.props.id;if(h==null||m==null){s(null);return}Promise.resolve(t(m,o)).then(()=>{s(null)})},[t,i,o]),he.createElement(he.Fragment,null,e,i?C.cloneElement(i,{ref:u}):null)}const eG={x:0,y:0,scaleX:1,scaleY:1};function nG(n){let{children:t}=n;return he.createElement(bh.Provider,{value:RN},he.createElement(tg.Provider,{value:eG},t))}const iG={position:"fixed",touchAction:"none"},rG=n=>Zp(n)?"transform 250ms ease":void 0,sG=C.forwardRef((n,t)=>{let{as:e,activatorEvent:i,adjustScale:s,children:o,className:u,rect:f,style:h,transform:m,transition:g=rG}=n;if(!f)return null;const v=s?m:{...m,scaleX:1,scaleY:1},b={...iG,width:f.width,height:f.height,top:f.top,left:f.left,transform:Ca.Transform.toString(v),transformOrigin:s&&i?Xq(i,f):void 0,transition:typeof g=="function"?g(i):g,...h};return he.createElement(e,{className:u,style:b,ref:t},o)}),aG=n=>t=>{let{active:e,dragOverlay:i}=t;const s={},{styles:o,className:u}=n;if(o!=null&&o.active)for(const[f,h]of Object.entries(o.active))h!==void 0&&(s[f]=e.node.style.getPropertyValue(f),e.node.style.setProperty(f,h));if(o!=null&&o.dragOverlay)for(const[f,h]of Object.entries(o.dragOverlay))h!==void 0&&i.node.style.setProperty(f,h);return u!=null&&u.active&&e.node.classList.add(u.active),u!=null&&u.dragOverlay&&i.node.classList.add(u.dragOverlay),function(){for(const[h,m]of Object.entries(s))e.node.style.setProperty(h,m);u!=null&&u.active&&e.node.classList.remove(u.active)}},oG=n=>{let{transform:{initial:t,final:e}}=n;return[{transform:Ca.Transform.toString(t)},{transform:Ca.Transform.toString(e)}]},lG={duration:250,easing:"ease",keyframes:oG,sideEffects:aG({styles:{active:{opacity:"0"}}})};function uG(n){let{config:t,draggableNodes:e,droppableContainers:i,measuringConfiguration:s}=n;return Wp((o,u)=>{if(t===null)return;const f=e.get(o);if(!f)return;const h=f.node.current;if(!h)return;const m=xN(u);if(!m)return;const{transform:g}=$n(u).getComputedStyle(u),v=mN(g);if(!v)return;const b=typeof t=="function"?t:cG(t);return TN(h,s.draggable.measure),b({active:{id:o,data:f.data,node:h,rect:s.draggable.measure(h)},draggableNodes:e,dragOverlay:{node:u,rect:s.dragOverlay.measure(m)},droppableContainers:i,measuringConfiguration:s,transform:v})})}function cG(n){const{duration:t,easing:e,sideEffects:i,keyframes:s}={...lG,...n};return o=>{let{active:u,dragOverlay:f,transform:h,...m}=o;if(!t)return;const g={x:f.rect.left-u.rect.left,y:f.rect.top-u.rect.top},v={scaleX:h.scaleX!==1?u.rect.width*h.scaleX/f.rect.width:1,scaleY:h.scaleY!==1?u.rect.height*h.scaleY/f.rect.height:1},b={x:h.x-g.x,y:h.y-g.y,...v},w=s({...m,active:u,dragOverlay:f,transform:{initial:h,final:b}}),[x]=w,N=w[w.length-1];if(JSON.stringify(x)===JSON.stringify(N))return;const D=i==null?void 0:i({active:u,dragOverlay:f,...m}),V=f.node.animate(w,{duration:t,easing:e,fill:"forwards"});return new Promise(B=>{V.onfinish=()=>{D==null||D(),B()}})}}let jR=0;function fG(n){return C.useMemo(()=>{if(n!=null)return jR++,jR},[n])}const hG=he.memo(n=>{let{adjustScale:t=!1,children:e,dropAnimation:i,style:s,transition:o,modifiers:u,wrapperElement:f="div",className:h,zIndex:m=999}=n;const{activatorEvent:g,active:v,activeNodeRect:b,containerNodeRect:w,draggableNodes:x,droppableContainers:N,dragOverlay:D,over:V,measuringConfiguration:B,scrollableAncestors:j,scrollableAncestorRects:Z,windowRect:G}=DN(),J=C.useContext(tg),O=fG(v==null?void 0:v.id),S=CN(u,{activatorEvent:g,active:v,activeNodeRect:b,containerNodeRect:w,draggingNodeRect:D.rect,over:V,overlayNodeRect:D.rect,scrollableAncestors:j,scrollableAncestorRects:Z,transform:J,windowRect:G}),R=vT(b),M=uG({config:i,draggableNodes:x,droppableContainers:N,measuringConfiguration:B}),U=R?D.setRef:void 0;return he.createElement(nG,null,he.createElement(tG,{animation:M},v&&O?he.createElement(sG,{key:O,id:v.id,ref:U,as:f,activatorEvent:g,adjustScale:t,className:h,transition:o,rect:R,style:{zIndex:m,...s},transform:S},e):null))});function _T(n,t,e){const i=n.slice();return i.splice(e<0?i.length+e:e,0,i.splice(t,1)[0]),i}function dG(n,t){return n.reduce((e,i,s)=>{const o=t.get(i);return o&&(e[s]=o),e},Array(n.length))}function Zd(n){return n!==null&&n>=0}function mG(n,t){if(n===t)return!0;if(n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0}function pG(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const NN=n=>{let{rects:t,activeIndex:e,overIndex:i,index:s}=n;const o=_T(t,i,e),u=t[s],f=o[s];return!f||!u?null:{x:f.left-u.left,y:f.top-u.top,scaleX:f.width/u.width,scaleY:f.height/u.height}},Jd={scaleX:1,scaleY:1},gG=n=>{var t;let{activeIndex:e,activeNodeRect:i,index:s,rects:o,overIndex:u}=n;const f=(t=o[e])!=null?t:i;if(!f)return null;if(s===e){const m=o[u];return m?{x:0,y:e<u?m.top+m.height-(f.top+f.height):m.top-f.top,...Jd}:null}const h=yG(o,s,e);return s>e&&s<=u?{x:0,y:-f.height-h,...Jd}:s<e&&s>=u?{x:0,y:f.height+h,...Jd}:{x:0,y:0,...Jd}};function yG(n,t,e){const i=n[t],s=n[t-1],o=n[t+1];return i?e<t?s?i.top-(s.top+s.height):o?o.top-(i.top+i.height):0:o?o.top-(i.top+i.height):s?i.top-(s.top+s.height):0:0}const ON="Sortable",MN=he.createContext({activeIndex:-1,containerId:ON,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:NN,disabled:{draggable:!1,droppable:!1}});function vG(n){let{children:t,id:e,items:i,strategy:s=NN,disabled:o=!1}=n;const{active:u,dragOverlay:f,droppableRects:h,over:m,measureDroppableContainers:g}=DN(),v=_h(ON,e),b=f.rect!==null,w=C.useMemo(()=>i.map(J=>typeof J=="object"&&"id"in J?J.id:J),[i]),x=u!=null,N=u?w.indexOf(u.id):-1,D=m?w.indexOf(m.id):-1,V=C.useRef(w),B=!mG(w,V.current),j=D!==-1&&N===-1||B,Z=pG(o);Gi(()=>{B&&x&&g(w)},[B,w,x,g]),C.useEffect(()=>{V.current=w},[w]);const G=C.useMemo(()=>({activeIndex:N,containerId:v,disabled:Z,disableTransforms:j,items:w,overIndex:D,useDragOverlay:b,sortedRects:dG(w,h),strategy:s}),[N,v,Z.draggable,Z.droppable,j,w,D,h,b,s]);return he.createElement(MN.Provider,{value:G},t)}const _G=n=>{let{id:t,items:e,activeIndex:i,overIndex:s}=n;return _T(e,i,s).indexOf(t)},bG=n=>{let{containerId:t,isSorting:e,wasDragging:i,index:s,items:o,newIndex:u,previousItems:f,previousContainerId:h,transition:m}=n;return!m||!i||f!==o&&s===u?!1:e?!0:u!==s&&t===h},TG={duration:200,easing:"ease"},VN="transform",EG=Ca.Transition.toString({property:VN,duration:0,easing:"linear"}),wG={roleDescription:"sortable"};function SG(n){let{disabled:t,index:e,node:i,rect:s}=n;const[o,u]=C.useState(null),f=C.useRef(e);return Gi(()=>{if(!t&&e!==f.current&&i.current){const h=s.current;if(h){const m=Lu(i.current,{ignoreTransform:!0}),g={x:h.left-m.left,y:h.top-m.top,scaleX:h.width/m.width,scaleY:h.height/m.height};(g.x||g.y)&&u(g)}}e!==f.current&&(f.current=e)},[t,e,i,s]),C.useEffect(()=>{o&&u(null)},[o]),o}function AG(n){let{animateLayoutChanges:t=bG,attributes:e,disabled:i,data:s,getNewIndex:o=_G,id:u,strategy:f,resizeObserverConfig:h,transition:m=TG}=n;const{items:g,containerId:v,activeIndex:b,disabled:w,disableTransforms:x,sortedRects:N,overIndex:D,useDragOverlay:V,strategy:B}=C.useContext(MN),j=xG(i,w),Z=g.indexOf(u),G=C.useMemo(()=>({sortable:{containerId:v,index:Z,items:g},...s}),[v,s,Z,g]),J=C.useMemo(()=>g.slice(g.indexOf(u)),[g,u]),{rect:O,node:S,isOver:R,setNodeRef:M}=PN({id:u,data:G,disabled:j.droppable,resizeObserverConfig:{updateMeasurementsFor:J,...h}}),{active:U,activatorEvent:H,activeNodeRect:L,attributes:Qt,setNodeRef:oe,listeners:ut,isDragging:ct,over:pt,setActivatorNodeRef:Pt,transform:z}=WH({id:u,data:G,attributes:{...wG,...e},disabled:j.draggable}),st=Vq(M,oe),dt=!!U,ft=dt&&!x&&Zd(b)&&Zd(D),ht=!V&&ct,It=ht&&ft?z:null,me=ft?It??(f??B)({rects:N,activeNodeRect:L,activeIndex:b,overIndex:D,index:Z}):null,Mt=Zd(b)&&Zd(D)?o({id:u,items:g,activeIndex:b,overIndex:D}):Z,Xt=U==null?void 0:U.id,bt=C.useRef({activeId:Xt,items:g,newIndex:Mt,containerId:v}),Ve=g!==bt.current.items,Ue=t({active:U,containerId:v,isDragging:ct,isSorting:dt,id:u,index:Z,items:g,newIndex:bt.current.newIndex,previousItems:bt.current.items,previousContainerId:bt.current.containerId,transition:m,wasDragging:bt.current.activeId!=null}),Ge=SG({disabled:!Ue,index:Z,node:S,rect:O});return C.useEffect(()=>{dt&&bt.current.newIndex!==Mt&&(bt.current.newIndex=Mt),v!==bt.current.containerId&&(bt.current.containerId=v),g!==bt.current.items&&(bt.current.items=g)},[dt,Mt,v,g]),C.useEffect(()=>{if(Xt===bt.current.activeId)return;if(Xt!=null&&bt.current.activeId==null){bt.current.activeId=Xt;return}const Ln=setTimeout(()=>{bt.current.activeId=Xt},50);return()=>clearTimeout(Ln)},[Xt]),{active:U,activeIndex:b,attributes:Qt,data:G,rect:O,index:Z,newIndex:Mt,items:g,isOver:R,isSorting:dt,isDragging:ct,listeners:ut,node:S,overIndex:D,over:pt,setNodeRef:st,setActivatorNodeRef:Pt,setDroppableNodeRef:M,setDraggableNodeRef:oe,transform:Ge??me,transition:sn()};function sn(){if(Ge||Ve&&bt.current.newIndex===Z)return EG;if(!(ht&&!Zp(H)||!m)&&(dt||Ue))return Ca.Transition.toString({...m,property:VN})}}function xG(n,t){var e,i;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(e=n==null?void 0:n.draggable)!=null?e:t.draggable,droppable:(i=n==null?void 0:n.droppable)!=null?i:t.droppable}}te.Down,te.Right,te.Up,te.Left;const RG=({id:n,children:t})=>{const{attributes:e,listeners:i,setNodeRef:s,transform:o,transition:u}=AG({id:n}),f={transform:Ca.Transform.toString(o),transition:u};return P.jsx("div",{ref:s,style:f,...e,...i,children:t})},IG=({id:n,children:t,title:e})=>{const{setNodeRef:i,isOver:s}=PN({id:n}),o=s?"bg-purple-100":"bg-slate-50";return P.jsxs("div",{ref:i,className:`flex min-h-[150px] w-full flex-col rounded-md border p-4 ${o}`,children:[P.jsx("h2",{className:"mb-4 text-xl font-bold text-slate-800",children:e.toUpperCase()}),t]})},CG={todo:[{id:"task-1",content:"Task 1"}],inprogress:[{id:"task-2",content:"Task 2"}],done:[{id:"task-3",content:"Task 3"}]},DG=()=>{var f;const[n,t]=C.useState(CG),[e,i]=C.useState(null),s=h=>Object.keys(n).find(m=>n[m].some(g=>g.id===h)),o=h=>{const{active:m,over:g}=h;if(!g)return;const v=m.id,b=g.id,w=s(v),x=s(b)||b;if(w!==x){const N=n[w].find(D=>D.id===v);t({...n,[w]:n[w].filter(D=>D.id!==v),[x]:[...n[x],N]})}else{const N=n[w],D=N.findIndex(B=>B.id===v),V=N.findIndex(B=>B.id===b);t({...n,[w]:_T(N,D,V)})}i(null)},u=h=>{const m={id:`task-${Date.now()}`,content:`New Task #${n[h].length+1}`};t({...n,[h]:[...n[h],m]})};return P.jsxs("div",{children:[P.jsx(va,{children:"Kanban Board"}),P.jsxs(YH,{collisionDetection:tH,onDragStart:h=>i(h.active.id),onDragEnd:o,children:[P.jsx("div",{className:"flex flex-col gap-4 px-8 py-4 sm:flex-row",children:Object.entries(n).map(([h,m])=>P.jsxs(IG,{id:h,title:h,children:[P.jsx("button",{onClick:()=>u(h),className:"mt-2 w-full rounded bg-purple-500 px-4 py-2 text-white transition-colors hover:bg-purple-600",children:"+ New Task"}),P.jsx(vG,{items:m.map(g=>g.id),strategy:gG,children:m.map(g=>P.jsx(RG,{id:g.id,children:P.jsx("div",{className:"mb-2 rounded bg-white p-4 font-semibold text-purple-600 shadow",children:g.content})},g.id))})]},h))}),P.jsx(hG,{children:e&&P.jsx("div",{className:"mb-2 rounded bg-white p-4 font-semibold text-purple-600 opacity-80 shadow",children:(f=n[s(e)].find(h=>h.id===e))==null?void 0:f.content})})]})]})},PG="/vite-test/assets/NotFoundImg-CgVaHqpt.png";function NG(){return P.jsx("div",{children:P.jsxs("div",{className:"flex flex-col items-center justify-center gap-8 pt-24",children:[P.jsx("img",{className:"w-1/3",src:PG}),P.jsx("p",{className:"pl-8 text-xl font-semibold",children:"404 not found page"})]})})}const OG=()=>null;C.createContext();const MG=[{path:["/","/vite-test","/home","/main","/index"],element:P.jsx(wq,{})},{path:"/team",element:P.jsx(Aq,{})},{path:"/project",element:P.jsx(Iq,{})},{path:"/reports",element:P.jsx(Nq,{})},{path:"/project/page/:id",element:P.jsx(Dq,{})},{path:"/contributors",element:P.jsx(Oq,{})},{path:"/mypage",element:P.jsx(Mq,{})},{path:"/kanban",element:P.jsx(DG,{})},{path:"/*",element:P.jsx(NG,{})}];function VG(){const n=Da();return P.jsxs("div",{className:"flex min-h-screen w-full",children:[P.jsxs("div",{className:"flex-1",children:[P.jsx(Eq,{}),P.jsx(OG,{}),P.jsx("div",{className:"h-full min-h-[calc(100vh-2rem)]",children:P.jsx(GV,{mode:"wait",children:P.jsx(oV,{location:n,children:MG.map(({path:t,element:e})=>Array.isArray(t)?t.map(i=>P.jsx($v,{path:i,element:P.jsx(JA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"h-full",children:e})},i)):P.jsx($v,{path:t,element:P.jsx(JA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"h-full",children:e})},t))},n.pathname)})})]}),P.jsx("aside",{className:"hidden w-80 min-w-fit bg-white p-4 lg:block",children:P.jsxs("div",{className:"flex flex-col gap-4",children:[P.jsx(aq,{}),P.jsxs("div",{className:"border-t pt-4",children:[P.jsx(vq,{}),P.jsx(_q,{})]}),P.jsx("div",{className:"border-t pt-4",children:P.jsx(Tq,{})})]})})]})}const kG="/vite-test";pM.createRoot(document.getElementById("root")).render(P.jsx(he.StrictMode,{children:P.jsx(PV,{basename:kG,children:P.jsx(VG,{})})}));
